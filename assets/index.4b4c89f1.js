var ev=Object.defineProperty,tv=Object.defineProperties;var nv=Object.getOwnPropertyDescriptors;var yi=Object.getOwnPropertySymbols;var al=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable;var ll=(i,r,s)=>r in i?ev(i,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[r]=s,se=(i,r)=>{for(var s in r||(r={}))al.call(r,s)&&ll(i,s,r[s]);if(yi)for(var s of yi(r))cl.call(r,s)&&ll(i,s,r[s]);return i},ge=(i,r)=>tv(i,nv(r));var ul=(i,r)=>{var s={};for(var d in i)al.call(i,d)&&r.indexOf(d)<0&&(s[d]=i[d]);if(i!=null&&yi)for(var d of yi(i))r.indexOf(d)<0&&cl.call(i,d)&&(s[d]=i[d]);return s};import{r as R,j as a,_ as rv,n as k,u as Wn,a as C,L as We,b as ro,i as iv,M as sv,c as ov,D as Be,h as io,V as av,U as cv,w as lv,g as uv,d as dv,e as fv,K as Ee,Q as Ge,f as Gn,F as Pt,k as _r,P as xe,G as wn,l as so,Y as oo,m as vr,s as wi,o as hv,H as dl,p as xi,q as Zt,t as ao,C as pv,A as mv,v as gv,x as _v,y as co,z as lo,T as vv,R as xn,B as yv,E as wv,I as uo,J as xv,N as bv,O as Sv,S as Cv,W as an,X as Ev}from"./vendor.bc819091.js";const Iv=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerpolicy&&(h.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?h.credentials="include":u.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function d(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}};Iv();const fl=R.exports.createContext({firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}}),Rv=({appConfig:i,children:r})=>a(fl.Provider,{value:i,children:r}),Te=()=>{const i=R.exports.useContext(fl);if(i===void 0)throw new Error("useAppConfigContext must be used within a AppConfigProvider");return i},hl=R.exports.createContext({language:"en",setLanguage:()=>{}}),Mv=({languageConfig:i,children:r})=>a(hl.Provider,{value:i,children:r}),Ct=()=>{const i=R.exports.useContext(hl);if(i===void 0)throw new Error("useLanguageConfigContext must be used within a LanguageConfigProvider");return i};function Hn(i){R.exports.useEffect(()=>{if(i==null||i==="")return;const r=document.title;return document.title=i,()=>{document.title=r}},[i])}const Tv={number_approved:"{number} Genehmigt",number_rejected:"{number} Abgelehnt",number_non_voting:"{number} Nicht-Abstimmen",meeting_votes_caption:"Klicken Sie auf jede Zeile, um zu sehen, wie die Ratsmitglieder abgestimmt haben",legislation:"Gesetzgebung",council_decision:"Beschluss des Rates",votes:"Stimmen",meeting:"Treffen",persons_vote:"{name}s Stimee",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Schl\xFCsselw\xF6rter",select_language:"Sprache ausw\xE4hlen",same:"gleich",committee:"Komitee",chair:"Vorsitzende",tenure:"Amtszeit",bills_sponsored:"Rechnung(en) gesponsert",see_documents:"Siehe Dokumente",jump_to_sentence_video:"Zum Satz im Video springen",jump_to_sentence_transcript:"Zum Satz im Transkript springen",search_transcript:"Transkript suchen",search_transcript_placeholder:"Transkript suchen...",number_of_results:"{number} Ergebnis(e)",clear:"L\xF6schen",save:"Speichern",about:"\xDCber",search:"Suche",advanced_options:"Erweiterte Optionen",copyright_notice:"Urheberrechte \xA9 Einzelne mitwirkende, {date_range}",content_license_prefix:"Inhalt verf\xFCgbar unter a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.en",content_license_link_text:"Creative Commons Namensnennung 4.0 International License",tools_license_prefix:"Council Data Project werkzeuge sind lizenziert unter ",styled_using_prefix:"Gestylt mit ",artwork_provided_by_prefix:"Kunstwerk zur Verf\xFCgung gestellt von ",passed:"Bestanden",failed:"Fehlgeschlagen",approve:"Genehmigen",reject:"Ablehnen",abstain_approve:"Verzichten (Genehmigt)",abstain_non_voting:"Verzichten (Nicht-Abstimmen)",abstain_reject:"Verzichten (Abgelehnt)",absent_approve:"Abwesend (Genehmigt)",absent_non_voting:"Abwesend (Nicht-Abstimmen)",absent_reject:"Abwesend (Abgelehnt)",rejected:"Abgelehnt",adopted:"Angenommen",in_progress:"In Bearbeitung",example_prefix:"Beispiel:",search_topic_placeholder:"Thema suchen...",search_municipality_name:"{municipality_name} suchen",events:"Veranstaltungen",links:"Links",people:"Menschen",council_data_project:"Council Data Project",transcript:"Transkript",agenda:"Agenda",session:"Sitzung",date:"Datum",newest_first:"Neusten zuerst",oldest_first:"\xC4ltesten zuerst",most_relevant_first:"Das Wichtigste zuerst",closest_match_first:"N\xE4chste \xDCbereinstimmung zuerst",most_relevant:"Relevanteste",search_results:"Suchergebnisse",event_search_results:"Ergebnisse der Suche nach Ereignissen",no_results_found:"Keine Ergebnisse",show_more:"Zeig mehr...",legislation_sponsored:"Gesetzgebung gesponsert",menu:"Speisekarte",persons_voting_record:"{person_name}s Abstimmungsprotokoll",contact:"Kontakt",terms:"Begriffe",committee_membership:"Ausschussmitgliedschaft",former_committee_membership:"Ehemalige Ausschussmitgliedschaft",committees:"Aussch\xFCsse",visit_persons_website:"Besuchen Sie {person_name}s Website",alternate:"Wechseln",councilmember:"Stadtrat/in",member:"Mitglied",council_president:"Pr\xE4sident des Rates",vice_chair:"Stellvertretender Vorsitzender",supervisor:"Supervisor/in",active:"aktiv",inactive:"inaktiv",latest_vote:"Letzte Abstimmung",history:"Geschichte",minutes:"Protokoll",go_to_matter_details:"Gehen Sie zu den vollst\xE4ndigen Rechtsvorschriften"},Av={number_approved:"{number} Approved",number_rejected:"{number} Rejected",number_non_voting:"{number} Non-Voting",meeting_votes_caption:"Click each row to see how council members voted",legislation:"Legislation",council_decision:"Council Decision",votes:"Votes",meeting:"Meeting",persons_vote:"{name}'s Vote",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Keywords",select_language:"Select Language",same:"same",committee:"Committee",chair:"Chair",tenure:"Tenure",bills_sponsored:"bill(s) sponsored",see_documents:"See Documents",jump_to_sentence_video:"Jump to sentence in video",jump_to_sentence_transcript:"Jump to sentence in transcript",search_transcript:"Search transcript",search_transcript_placeholder:"Search transcript...",number_of_results:"{number} result(s)",clear:"Clear",save:"Save",about:"About",search:"Search",advanced_options:"Advanced Options",copyright_notice:"Copyright \xA9 Individual contributors, {date_range}.",content_license_prefix:"Content available under a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/",content_license_link_text:"Creative Commons Attribution 4.0 International License",tools_license_prefix:"Council Data Project tools are licensed under ",styled_using_prefix:"Styled using ",artwork_provided_by_prefix:"Artwork provided by ",passed:"Passed",failed:"Failed",approve:"Approve",reject:"Reject",abstain_approve:"Abstain (Approve)",abstain_non_voting:"Abstain (Non-Voting)",abstain_reject:"Abstain (Reject)",absent_approve:"Absent (Approve)",absent_non_voting:"Absent (Non-Voting)",absent_reject:"Absent (Reject)",rejected:"Rejected",adopted:"Adopted",in_progress:"In Progress",example_prefix:"Example: ",search_topic_placeholder:"Search for a topic...",search_municipality_name:"Search {municipality_name}",events:"Events",links:"Links",people:"People",council_data_project:"Council Data Project",transcript:"Transcript",agenda:"Agenda",session:"Session",date:"Date",newest_first:"Newest First",oldest_first:"Oldest First",most_relevant_first:"Most relevant first",closest_match_first:"Closest match first",most_relevant:"Most relevant",search_results:"Search Results",event_search_results:"Event search results",no_results_found:"No results found",show_more:"Show more...",legislation_sponsored:"Legislation Sponsored",menu:"Menu",persons_voting_record:"{person_name}'s Voting Record",contact:"Contact",terms:"Terms",committee_membership:"Committee Membership",former_committee_membership:"Former Committee Membership",committees:"Committees",visit_persons_website:"Visit {person_name}'s website",alternate:"Alternate",councilmember:"Councilmember",member:"Member",council_president:"Council President",vice_chair:"Vice Chair",supervisor:"Supervisor",active:"active",inactive:"inactive",latest_vote:"Latest Vote",history:"History",minutes:"Minutes",go_to_matter_details:"Go to Full Legislation Details",disclaimer_start:"To provide event transcripts at low-cost, Council Data Project uses",disclaimer_end:"for transcription. Event transcripts may include errors.",disclaimer_footer_start:"In many cases, Council Data Project utilizes a fine-tuned",disclaimer_footer_end:"model for generation of event transcripts. We understand that transcripts may include errors. If you are a machine learning expert and wish to help improve our system for generating transcripts, please reach out to us on GitHub."},Lv={number_approved:"{number} Aprobado",number_rejected:"{number} Rechazado",number_non_voting:"{number} sin derecho a voto",meeting_votes_caption:"Haga clic en cada fila para ver c\xF3mo votaron los miembros del consejo",legislation:"Legislaci\xF3n",council_decision:"Decisi\xF3n del Consejo",votes:"Votos",meeting:"Cita",persons_vote:"Voto de {name}",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Palabras clave",select_language:"Seleccione el Idioma",same:"Mismo",committee:"Comit\xE9",chair:"presidente",tenure:"Tenencia",bills_sponsored:"factura (s) patrocinada",see_documents:"Ver Documentos",jump_to_sentence_video:"Saltar a la oraci\xF3n en el video",jump_to_sentence_transcript:"Saltar a la oraci\xF3n en la transcripci\xF3n",search_transcript:"Buscar transcripci\xF3n",search_transcript_placeholder:"Buscar transcripci\xF3n ...",number_of_results:"{number} resultado (s)",clear:"Despejar",save:"Ahorrar",about:"Acerca de",search:"Buscar",advanced_options:"Opciones Avanzadas",copyright_notice:"Derechos de autor \xA9 Contribuyentes individuales, {date_range}.",content_license_prefix:"Contenido disponible bajo un ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.es",content_license_link_text:"Creative Commons Atribuci\xF3n 4.0 Internacional License",tools_license_prefix:"Council Data Project las herramientas tienen licencia bajo ",styled_using_prefix:"Dise\xF1ado usando ",artwork_provided_by_prefix:"Obra proporcionada por ",passed:"Pas\xF3",failed:"Fracas\xF3",approve:"Aprobar",reject:"Rechazar",abstain_approve:"Abstenerse (Aprobado)",abstain_non_voting:"Abstenerse (sin derecho a voto)",abstain_reject:"Abstenerse (Rechazado)",absent_approve:"Ausente (Aprobado)",absent_non_voting:"Ausente (sin derecho a voto)",absent_reject:"Ausente (Rechazado)",rejected:"Rechazado",adopted:"Adoptado",in_progress:"En curso",example_prefix:"Ejemplo:",search_topic_placeholder:"Buscar un tema ...",search_municipality_name:"Buscar {municipality_name}",events:"Eventos",links:"Enlaces",people:"Gente",council_data_project:"Council Data Project",transcript:"Transcripci\xF3n",agenda:"Agenda",session:"Sesi\xF3n",date:"Fecha",newest_first:"M\xE1s nuevos primero",oldest_first:"M\xE1s viejos primero",most_relevant_first:"M\xE1s relevante primero",closest_match_first:"Coincidencia m\xE1s cercana primero",most_relevant:"M\xE1s relevante",search_results:"Resultados de la B\xFAsqueda",event_search_results:"Resultados de Busqueda de Eventos",no_results_found:"No hay resultados",show_more:"Mostrar m\xE1s...",legislation_sponsored:"Legislaci\xF3n patrocinada",menu:"Men\xFA",persons_voting_record:"Registro de votos de {person_name}",contact:"Contacto",terms:"T\xE9rminos",committee_membership:"Membres\xEDa del Comit\xE9",former_committee_membership:"Membres\xEDa Anterior del Comit\xE9",committees:"Comit\xE9s",visit_persons_website:"Visite el sitio web de {person_name}",alternate:"Alterno/a",councilmember:"Concejal/a",member:"Miembro",council_president:"Presidente/a del Consejo",vice_chair:"Vicepresidente/a",supervisor:"Supervisor/a",active:"activo/a",inactive:"inactivo/a",latest_vote:"\xDAltimo Voto",history:"Historia",minutes:"Protocolo",go_to_matter_details:"Ir a los detalles completos de la legislaci\xF3n"},P=new rv({en:Av,de:Tv,es:Lv}),ue={smallMobile:"320px",largeMobile:"414px",tablet:"768px",desktop:"1224px"},Pv=k.div({boxSizing:"initial"}),Nv=k.div({float:"left",marginTop:"12px"}),Bv=k.button({display:"block",[`@media (min-width:${ue.tablet})`]:{display:"none"}}),Fv=k.div(i=>({display:i.isVisible?"block":"none",[`@media (min-width:${ue.tablet})`]:{display:"block"}}));function fo(i,r){const s={textDecoration:"underline"};return i===r||r.length>1&&i.includes(r)?s:{}}const zv=({municipalityName:i})=>{const[r,s]=R.exports.useState(!1),d=Wn().pathname;return a("header",{children:a(Pv,{className:"mzp-c-navigation",children:a("div",{className:"mzp-c-navigation-l-content",children:C("div",{className:"mzp-c-navigation-container",children:[a(Bv,{className:"mzp-c-navigation-menu-button","aria-controls":"patterns.organisms.navigation.navigation",onClick:()=>s(u=>!u),children:P.menu}),a(Nv,{children:a("a",{className:"cdp-icon-black-bg-transparent-size-256",style:{maxHeight:"64px",maxWidth:"64px"},href:"https://councildataproject.org",title:P.council_data_project,children:P.council_data_project})}),a(Fv,{isVisible:r,className:"mzp-c-navigation-items",id:"patterns.organisms.navigation.navigation",children:a("div",{className:"mzp-c-navigation-container",children:a("nav",{className:"mzp-c-menu mzp-is-basic",children:C("ul",{className:"mzp-c-menu-category-list",children:[a("li",{className:"mzp-c-menu-category",children:a(We,{to:"/",className:"mzp-c-menu-title",style:fo(d,"/"),children:i})}),a("li",{className:"mzp-c-menu-category",children:a(We,{to:"/events",className:"mzp-c-menu-title",style:fo(d,"/events"),children:P.events})}),a("li",{className:"mzp-c-menu-category",children:a(We,{to:"/people",className:"mzp-c-menu-title",style:fo(d,"/people"),children:P.people})})]})})})})]})})})})};function kv(i){return C("section",{className:"mzp-c-footer-section",children:[a("h5",{className:"mzp-c-footer-heading",children:i.footerLinksSectionName}),a("ul",{children:i.links.map(r=>a("li",{children:a("a",{href:r.url,children:r.label})},r.label))})]})}const $v=({footerLinksSections:i})=>a("footer",{className:"mzp-c-footer",children:C("div",{className:"mzp-l-content",children:[a("nav",{className:"mzp-c-footer-primary","aria-label":"footer",children:C("div",{className:"mzp-c-footer-sections",children:[C("section",{className:"mzp-c-footer-section",children:[a("h5",{className:"mzp-c-footer-heading",children:P.about}),C("ul",{children:[a("li",{children:a("a",{href:"https://councildataproject.github.io/",children:"CouncilDataProject"})}),a("li",{children:a("a",{href:"https://github.com/CouncilDataProject",children:"GitHub"})})]})]}),i.map(r=>kv(r))]})}),C("nav",{className:"mzp-c-footer-secondary",children:[C("p",{children:[P.disclaimer_footer_start," ",a("a",{href:"https://cloud.google.com/speech-to-text",children:"Google Speech-to-Text"})," ",P.disclaimer_footer_end]}),C("div",{className:"mzp-c-footer-legal mzp-c-footer-license",children:[a("p",{children:P.copyright_notice.replace("{date_range}","2017-2021")}),C("p",{children:[P.content_license_prefix,a("a",{rel:"noopener noreferrer license external",href:P.content_license_link,target:"_blank",children:P.content_license_link_text}),".",a("br",{}),P.tools_license_prefix,a("a",{rel:"noopener noreferrer license external",href:"https://github.com/CouncilDataProject/cookiecutter-cdp-deployment/blob/main/LICENSE",target:"_blank",children:"MIT License"}),"."]}),C("p",{children:[P.styled_using_prefix,a("a",{rel:"noopener noreferrer external",href:"https://protocol.mozilla.org/",target:"_blank",children:"Mozilla Protocol"}),".",a("br",{}),P.artwork_provided_by_prefix,a("a",{rel:"noopener noreferrer external",href:"https://undraw.co/",target:"_blank",children:"unDraw"}),"."]})]})]})]})});var et;(function(i){i.EVENT="events",i.LEGISLATION="legislations"})(et||(et={}));const pl="FILTER_CLEAR",ml="FILTER_UPDATE",Ov=()=>(i,r)=>{switch(r.type){case ml:return ge(se({},i),{[r.payload.keyName]:r.payload.dataValue});case pl:const s=se({},i);return Object.keys(s).forEach(d=>s[d]=r.payload.dataValue),s;default:return i}},gl=(i,r)=>{const s=Object.values(i).filter(u=>u).length;return s?`${r} : ${s}`:r},ho=i=>Object.keys(i).filter(r=>i[r]===!0);var po=k.form({marginBottom:0,"& .mzp-c-field-set":{padding:0},"& .mzp-c-choices":{paddingBottom:0}});const Dv=(i,r)=>i.toLowerCase().indexOf(r.toLowerCase())!==-1,Uv=k.label({"&::after":{boxSizing:"unset"}}),Vv=({name:i,state:r,update:s,options:d,optionQuery:u,setOptionQuery:h})=>{const p=x=>{const S=x.currentTarget.name,A=x.currentTarget.checked;s(S,A)},_=x=>{const S=x.currentTarget.value;h&&h(S)},w=R.exports.useMemo(()=>{let x=[...d];if(d.length>5&&h){for(const S of d)S.disabled=!Dv(S.label,u||"");x=[...d.filter(S=>!S.disabled),...d.filter(S=>S.disabled)]}return x},[d,u,h]);return C(po,{className:"mzp-c-form",children:[d.length>5&&h&&C("div",{className:"mzp-c-field mzp-l-stretch",children:[a("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-search-filter",children:`Search ${i} Options`}),a("input",{className:"mzp-c-field-control",type:"text",id:"form-input-control-search-filter",value:u,onChange:_})]}),a("fieldset",{className:"mzp-c-field-set",children:a("div",{className:"mzp-c-choices",children:w.map(x=>C("div",{className:"mzp-c-choice",children:[a("input",{className:"mzp-c-choice-control",type:"checkbox",name:x.name,id:`form-checkbox-control-${x.name}`,checked:r[x.name]||!1,disabled:x.disabled,onChange:p}),a(Uv,{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${x.name}`,children:x.label})]},x.name))})})]})};function bn(i){const{name:r,initialState:s,defaultDataValue:d,textRepFunction:u,isRequired:h,limit:p}=i,_=Ov(),[w,x]=R.exports.useReducer(_,s),[S,A]=R.exports.useState(!1),F=()=>{x({type:pl,payload:{dataValue:d}})},N=(O,U)=>{x({type:ml,payload:{keyName:O,dataValue:U}})},z=()=>u(w,r),B=()=>Object.values(w).some(O=>O!==d);return{name:r,state:w,clear:F,update:N,popupIsOpen:S,setPopupIsOpen:A,getTextRep:z,isActive:B,isSameState:O=>{if(!Object.entries(O).length)return!B();const U=Object.keys(w);for(const V of U)if(w[V]&&!O.hasOwnProperty(V)||w[V]!==O[V]&&O.hasOwnProperty(V))return!1;return!0},hasRequiredError:()=>h?!B():!1,hasLimitError:()=>p!==void 0?ho(w).length>p:!1,limit:p}}const _l=["minimum wage","police budget","rent control","municipal broadband","police accountability","homelessness response","municipal broadband, digital equity","sodo stadium","35 ave bike lane","capitol hill megablock"],Wv=`
  display: grid;
  column-gap: 8px;
  row-gap: 4px;
  /**One column template*/
  grid-template-columns: 1fr;
  justify-content: start;
`,Gv=k.div`
  ${Wv}
  @media (min-width: ${ue.tablet}) {
    /**Two columns template, with the first column taking up any free space*/
    grid-template-columns: 1fr auto;
  }
`,Hv=k.input`
  margin-bottom: 0px !important;
`,qv=k.p`
  padding-top: 0px !important;
  font-size: 0.775rem !important;
  @media (min-width: ${ue.tablet}) {
    /**Make the example topic appear after the search button*/
    order: 1;
  }
`,Zv=[{name:et.EVENT,label:"Events",disabled:!1},{name:et.LEGISLATION,label:"Legislations",disabled:!1}],Qv={[et.EVENT]:!0,[et.LEGISLATION]:!0},Jv=(i,r)=>{const s=Object.keys(i).filter(u=>i[u]);let d=r;return s.length===Object.keys(i).length?d+="(s): All":s.length>0&&(d+=`(s): ${s.map(h=>{var _;const p=Zv.find(w=>w.name===h);return(_=p==null?void 0:p.label)!=null?_:""}).join(", ")}`),d},Kv=_l[Math.floor(Math.random()*_l.length)],Xv=()=>{const[i,r]=R.exports.useState(""),s=ro(),d=bn({name:"Search Type",initialState:Qv,defaultDataValue:!1,textRepFunction:Jv,isRequired:!0}),u=p=>{p.preventDefault();const _=`?q=${i.trim().replace(/\s+/g,"+")}`;s.push({pathname:`/${et.EVENT}/search`,search:_,state:{query:i.trim(),committees:{},dateRange:{}}})},h=p=>r(p.target.value);return a("div",{children:a("form",{className:"mzp-c-form",role:"search",onSubmit:u,children:C(Gv,{children:[a(Hv,{type:"search",placeholder:P.search_topic_placeholder,required:!0,"aria-required":!0,disabled:!d.isActive(),value:i,onChange:h}),C(qv,{className:"mzp-c-field-info",children:[P.example_prefix,Kv]}),a("button",{className:"mzp-c-button mzp-t-product",type:"submit",disabled:!d.isActive(),children:P.search})]})})})},Yv=k.div({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1,"& > *":{width:"100%"},[`@media (min-width:${ue.tablet})`]:{"& > *":{width:"75%"}}}),jv=()=>{Hn(P.council_data_project);const{municipality:i}=Te();return C(Yv,{children:[a("h1",{className:"mzp-u-title-xs",children:P.search_municipality_name.replace("{municipality_name}",i.name)}),a(Xv,{})]})};class mo{constructor(r,s){this.data=r,this.error=s}}class e0{constructor(r,s){this.data=r,this.error=s}}class go extends Error{constructor(r){super(`No documents found from querying ${r}`);this.name="NoDocumentsError",Object.setPrototypeOf(this,new.target.prototype)}}var E;(function(i){i.Body="body",i.Event="event",i.EventMinutesItem="event_minutes_item",i.EventMinutesItemFile="event_minutes_item_file",i.File="file",i.IndexedEventGram="indexed_event_gram",i.Matter="matter",i.MatterFile="matter_file",i.MatterSponsor="matter_sponsor",i.MatterStatus="matter_status",i.MinutesItem="minutes_item",i.Person="person",i.Role="role",i.Seat="seat",i.Session="session",i.Transcript="transcript",i.TranscriptJSON="transcript_json",i.Vote="vote"})(E||(E={}));var G;(function(i){i.EventBodyRef="body_ref",i.EventHoverThumbnailRef="hover_thumbnail_ref",i.EventStaticThumbnailRef="static_thumbnail_ref",i.EventMinutesItemEventRef="event_ref",i.EventMinutesItemMinutesItemRef="minutes_item_ref",i.EventMinutesItemFileEventMinutesItemRef="event_minutes_item_ref",i.IndexedEventGramEventRef="event_ref",i.MatterFileMatterRef="matter_ref",i.MatterStatusEventMinutesItemRef="event_minutes_item_ref",i.MatterStatusMatterRef="matter_ref",i.MatterSponsorMatterRef="matter_ref",i.MatterSponsorPersonRef="person_ref",i.MinutesItemMatterRef="matter_ref",i.PersonPictureRef="picture_ref",i.RoleBodyRef="body_ref",i.RolePersonRef="person_ref",i.RoleSeatRef="seat_ref",i.SeatImageRef="image_ref",i.SessionEventRef="event_ref",i.TranscriptFileRef="file_ref",i.TranscriptSessionRef="session_ref",i.VoteEventMinutesItemRef="event_minutes_item_ref",i.VoteEventRef="event_ref",i.VoteMatterRef="matter_ref",i.VotePersonRef="person_ref"})(G||(G={}));function vl(i){switch(i){case G.EventBodyRef:return E.Body;case G.EventHoverThumbnailRef:return E.File;case G.EventStaticThumbnailRef:return E.File;case G.EventMinutesItemEventRef:return E.Event;case G.EventMinutesItemMinutesItemRef:return E.MinutesItem;case G.EventMinutesItemFileEventMinutesItemRef:return E.EventMinutesItem;case G.IndexedEventGramEventRef:return E.Event;case G.MatterFileMatterRef:return E.Matter;case G.MatterStatusEventMinutesItemRef:return E.EventMinutesItem;case G.MatterStatusMatterRef:return E.Matter;case G.MatterSponsorMatterRef:return E.Matter;case G.MatterSponsorPersonRef:return E.Person;case G.MinutesItemMatterRef:return E.Matter;case G.PersonPictureRef:return E.File;case G.RoleBodyRef:return E.Body;case G.RolePersonRef:return E.Person;case G.RoleSeatRef:return E.Seat;case G.SeatImageRef:return E.File;case G.SessionEventRef:return E.Event;case G.TranscriptFileRef:return E.File;case G.TranscriptSessionRef:return E.Session;case G.VoteEventMinutesItemRef:return E.MinutesItem;case G.VoteEventRef:return E.Event;case G.VoteMatterRef:return E.Matter;case G.VotePersonRef:return E.Person;default:return}}class Me{constructor(r,s,d){this.collectionName=r,this.refName=s,this.cascade=d}}class ke{constructor(r){this.toPopulate=r}}function Nt(i){return i instanceof Error?i:typeof i=="string"?new Error(i):new Error(String(i))}class pe{constructor(r,s){const d=iv(r);sv(d,s),pe.db=ov()}static getInstance(r,s){return pe.instance||(pe.instance=new pe(r,s)),pe.instance}static getDb(){return pe.db}collateDocumentData(r,s,d){return Promise.all(r).then(u=>(u.forEach((h,p)=>{d.data&&(d.data[s[p]]=h.data)}),Promise.resolve(d))).catch(u=>(d.error=u,Promise.resolve(d)))}async getDocument(r,s,d){const u=Be(pe.db,s,r),h=new mo;return io(u).then(p=>{if(!p.exists())return Promise.reject(new Error(`Document ${r} does not exist in Collection ${s}.`));const _=p.data();if(!_)return Promise.reject(new Error("No data on docSnap."));if(_.id=p.id,h.data=_,d&&d.toPopulate){const w=[],x=[];return d.toPopulate.filter(S=>_[S.refName]).forEach(S=>{const A=_[S.refName].id,F=vl(S.refName);A&&F&&(w.push(this.getDocument(A,F,S.cascade)),x.push(S.refName))}),this.collateDocumentData(w,x,h)}else return Promise.resolve(h)}).catch(p=>(p.message=`_getDocument_${p.message}`,h.error=p,Promise.resolve(h)))}async getDocuments(r,s,d){const u=av(pe.db,r),h=cv(u,...s),p=new e0;try{const _=await lv(h);if(_.empty)throw new go(r);const w=[];if(_.forEach(x=>{const S=x.data();if(!S)return Promise.reject(new Error("No data on docSnap."));S.id=x.id,w.push(S)}),d&&d.toPopulate){const x=[];for(const F of w){const N=[],z=[],B=new mo;B.data=F,d.toPopulate.filter($=>F[$.refName]).forEach($=>{const H=F[$.refName].id,Z=vl($.refName);H&&Z&&(N.push(this.getDocument(H,Z,$.cascade)),z.push($.refName))}),x.push(this.collateDocumentData(N,z,B))}const A=(await Promise.all(x)).map(({data:F})=>F);return p.data=A,Promise.resolve(p)}else return p.data=w,Promise.resolve(p)}catch(_){return p.error=Nt(_),Promise.resolve(p)}}async downloadJson(r){const s=new mo;try{const d=await this.getDownloadUrl(r),u=await fetch(d).then(h=>h.json());if(!u)throw new Error(`No JSON found for uri: ${r}`);s.data=u}catch(d){const u=Nt(d);s.error=u}finally{return Promise.resolve(s)}}async getDownloadUrl(r){const s=uv(),d=dv(s,r);return await fv(d)}}function t0(i){switch(i){case E.Body:return["id","is_active","start_datetime","name"];case E.Event:return["id","body_ref","event_datetime"];case E.EventMinutesItem:return["id","event_ref","index","minutes_item_ref"];case E.EventMinutesItemFile:return["id","event_minutes_item_ref","name","uri"];case E.File:return["id","name","uri"];case E.IndexedEventGram:return["id","context_span","datetime_weighted_value","event_ref","stemmed_gram","unstemmed_gram","value"];case E.Matter:return["id","matter_type","name","title"];case E.MatterFile:return["id","matter_ref","name","uri"];case E.MatterSponsor:return["id","matter_ref","person_ref"];case E.MatterStatus:return["id","matter_ref","status","update_datetime"];case E.MinutesItem:return["id","name"];case E.Person:return["id","is_active","name","router_string"];case E.Role:return["id","start_datetime","title","person_ref","seat_ref"];case E.Seat:return["id","name"];case E.Session:return["id","event_ref","session_datetime","session_index","video_uri"];case E.Transcript:return["id","confidence","created","generator","file_ref","session_ref"];case E.TranscriptJSON:return["confidence","generator","created_datetime","sentences"];case E.Vote:return["id","event_minutes_item_ref","event_ref","matter_ref","person_ref","decision"]}}function yl(i,r){try{const d=t0(r).filter(u=>!i.hasOwnProperty(u));if(d.length>0)throw new Error(`Missing properties: ${JSON.stringify(d)}`);return}catch(s){return s instanceof Error?(s.message=`validateResponseData_${s.message}`,s):new Error("validateResponseData_somehow threw a incorrectly-typed error")}}class He{constructor(r,s){this.networkService=pe.getInstance(s.options,s.settings),this.modelName=r;const d=r.split("_").map(u=>u[0].toUpperCase()+u.slice(1)).join("");this.serviceName=`${d}Service`}async createModel(r,s,d){try{const{data:u,error:h}=await r;if(h)throw h;if(!u)throw new Error(`No ${this.modelName} found.`);const p=yl(u,this.modelName);if(p)throw p;return Promise.resolve(new s(u))}catch(u){const h=Nt(u);return h.message=`${this.serviceName}_${d}_${h.message}`,Promise.reject(h)}}async createModels(r,s,d){try{const{data:u,error:h}=await r;if(h){if(h instanceof go)return Promise.resolve([]);throw h}if(!u||u.length===0)throw new Error(`No ${this.modelName}s found.`);const p=u.map(_=>{const w=yl(_,this.modelName);if(w)throw w;return new s(_)});return Promise.resolve(p)}catch(u){const h=Nt(u);return h.message=`${this.serviceName}_${d}_${h.message}`,Promise.reject(h)}}}var be;(function(i){i.lt="<",i.lteq="<=",i.eq="==",i.gt=">",i.gteq=">=",i.not_eq="!=",i.array_contains="array-contains",i.array_contains_any="array-contains-any",i.in="in",i.not_in="not-in"})(be||(be={}));var Fe;(function(i){i.asc="asc",i.desc="desc"})(Fe||(Fe={}));const _o=10;function Bt(i){return new Date(i.seconds*1e3)}class bi{constructor(r){this.id=r.id,this.is_active=r.is_active,this.start_datetime=Bt(r.start_datetime),this.name=r.name,r.description&&(this.description=r.description),r.end_datetime&&(this.end_datetime=Bt(r.end_datetime)),r.external_source_id&&(this.external_source_id=r.external_source_id)}}class wl extends He{constructor(r){super(E.Body,r)}async getBodiesByName(r){const s=this.networkService.getDocuments(E.Body,[Ee("name",be.eq,r)]);return this.createModels(s,bi,`getBodyByName(${r})`)}async getAllBodies(){const r=this.networkService.getDocuments(E.Body,[Ge("name")]);return this.createModels(r,bi,"getAllBodies()")}}const xl=({error:i})=>{const r=ro(),s=i?i.toString():"";return C("div",{children:[a("h1",{className:"mzp-u-title-sm",children:"Sorry, we can\u2019t find that page."}),a("p",{children:s}),a("button",{className:"mzp-c-button mzp-t-secondary mzp-t-md",onClick:()=>r.goBack(),children:"Back"})]})},qn=({isLoading:i,children:r,error:s})=>i?a(Gn,{active:!0,size:"massive"}):s?a(xl,{error:s}):a(Pt,{children:r}),Et={isLoading:!1,error:null,hasFetchRequest:!0};var gt;(function(i){i.FETCH_INIT="FETCH_INIT",i.FETCH_SUCCESS="FETCH_SUCCESS",i.FETCH_FAILURE="FETCH_FAILURE",i.FETCH="FETCH"})(gt||(gt={}));const n0=()=>(i,r)=>{switch(r.type){case gt.FETCH_INIT:return ge(se({},i),{isLoading:!0,error:null});case gt.FETCH_SUCCESS:return ge(se({},i),{isLoading:!1,data:r.payload,hasFetchRequest:!1});case gt.FETCH_FAILURE:return ge(se({},i),{isLoading:!1,error:r.payload,hasFetchRequest:!1});case gt.FETCH:return ge(se({},i),{hasFetchRequest:!0});default:return i}};function De(i,r){const s=n0(),[d,u]=R.exports.useReducer(s,i);return R.exports.useEffect(()=>{let h=!1;const p=async()=>{try{u({type:gt.FETCH_INIT});const _=await r();h||u({type:gt.FETCH_SUCCESS,payload:_})}catch(_){if(!h){const w=Nt(_);u({type:gt.FETCH_FAILURE,payload:w})}}};return d.hasFetchRequest&&p(),()=>{h=!0}},[d.hasFetchRequest,r]),{state:d,dispatch:u}}var Sn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,r){(function(){var s,d="4.17.21",u=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",_="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",x=500,S="__lodash_placeholder__",A=1,F=2,N=4,z=1,B=2,$=1,H=2,Z=4,O=8,U=16,V=32,ne=64,Y=128,le=256,ce=512,Ae=30,Le="...",qe=800,Jt=16,To=1,cu=2,lu=3,un=1/0,Kt=9007199254740991,uu=17976931348623157e292,Ir=0/0,Mt=4294967295,du=Mt-1,fu=Mt>>>1,hu=[["ary",Y],["bind",$],["bindKey",H],["curry",O],["curryRight",U],["flip",ce],["partial",V],["partialRight",ne],["rearg",le]],Rn="[object Arguments]",Rr="[object Array]",pu="[object AsyncFunction]",Jn="[object Boolean]",Kn="[object Date]",mu="[object DOMException]",Mr="[object Error]",Tr="[object Function]",Ao="[object GeneratorFunction]",vt="[object Map]",Xn="[object Number]",gu="[object Null]",kt="[object Object]",Lo="[object Promise]",_u="[object Proxy]",Yn="[object RegExp]",yt="[object Set]",jn="[object String]",Ar="[object Symbol]",vu="[object Undefined]",er="[object WeakMap]",yu="[object WeakSet]",tr="[object ArrayBuffer]",Mn="[object DataView]",zi="[object Float32Array]",ki="[object Float64Array]",$i="[object Int8Array]",Oi="[object Int16Array]",Di="[object Int32Array]",Ui="[object Uint8Array]",Vi="[object Uint8ClampedArray]",Wi="[object Uint16Array]",Gi="[object Uint32Array]",wu=/\b__p \+= '';/g,xu=/\b(__p \+=) '' \+/g,bu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Po=/&(?:amp|lt|gt|quot|#39);/g,No=/[&<>"']/g,Su=RegExp(Po.source),Cu=RegExp(No.source),Eu=/<%-([\s\S]+?)%>/g,Iu=/<%([\s\S]+?)%>/g,Bo=/<%=([\s\S]+?)%>/g,Ru=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mu=/^\w*$/,Tu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hi=/[\\^$.*+?()[\]{}|]/g,Au=RegExp(Hi.source),qi=/^\s+/,Lu=/\s/,Pu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nu=/\{\n\/\* \[wrapped with (.+)\] \*/,Bu=/,? & /,Fu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zu=/[()=,{}\[\]\/\s]/,ku=/\\(\\)?/g,$u=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fo=/\w*$/,Ou=/^[-+]0x[0-9a-f]+$/i,Du=/^0b[01]+$/i,Uu=/^\[object .+?Constructor\]$/,Vu=/^0o[0-7]+$/i,Wu=/^(?:0|[1-9]\d*)$/,Gu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lr=/($^)/,Hu=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",qu="\\u0300-\\u036f",Zu="\\ufe20-\\ufe2f",Qu="\\u20d0-\\u20ff",zo=qu+Zu+Qu,ko="\\u2700-\\u27bf",$o="a-z\\xdf-\\xf6\\xf8-\\xff",Ju="\\xac\\xb1\\xd7\\xf7",Ku="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xu="\\u2000-\\u206f",Yu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oo="A-Z\\xc0-\\xd6\\xd8-\\xde",Do="\\ufe0e\\ufe0f",Uo=Ju+Ku+Xu+Yu,Zi="['\u2019]",ju="["+Pr+"]",Vo="["+Uo+"]",Nr="["+zo+"]",Wo="\\d+",ed="["+ko+"]",Go="["+$o+"]",Ho="[^"+Pr+Uo+Wo+ko+$o+Oo+"]",Qi="\\ud83c[\\udffb-\\udfff]",td="(?:"+Nr+"|"+Qi+")",qo="[^"+Pr+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Ki="[\\ud800-\\udbff][\\udc00-\\udfff]",Tn="["+Oo+"]",Zo="\\u200d",Qo="(?:"+Go+"|"+Ho+")",nd="(?:"+Tn+"|"+Ho+")",Jo="(?:"+Zi+"(?:d|ll|m|re|s|t|ve))?",Ko="(?:"+Zi+"(?:D|LL|M|RE|S|T|VE))?",Xo=td+"?",Yo="["+Do+"]?",rd="(?:"+Zo+"(?:"+[qo,Ji,Ki].join("|")+")"+Yo+Xo+")*",id="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jo=Yo+Xo+rd,od="(?:"+[ed,Ji,Ki].join("|")+")"+jo,ad="(?:"+[qo+Nr+"?",Nr,Ji,Ki,ju].join("|")+")",cd=RegExp(Zi,"g"),ld=RegExp(Nr,"g"),Xi=RegExp(Qi+"(?="+Qi+")|"+ad+jo,"g"),ud=RegExp([Tn+"?"+Go+"+"+Jo+"(?="+[Vo,Tn,"$"].join("|")+")",nd+"+"+Ko+"(?="+[Vo,Tn+Qo,"$"].join("|")+")",Tn+"?"+Qo+"+"+Jo,Tn+"+"+Ko,sd,id,Wo,od].join("|"),"g"),dd=RegExp("["+Zo+Pr+zo+Do+"]"),fd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pd=-1,ye={};ye[zi]=ye[ki]=ye[$i]=ye[Oi]=ye[Di]=ye[Ui]=ye[Vi]=ye[Wi]=ye[Gi]=!0,ye[Rn]=ye[Rr]=ye[tr]=ye[Jn]=ye[Mn]=ye[Kn]=ye[Mr]=ye[Tr]=ye[vt]=ye[Xn]=ye[kt]=ye[Yn]=ye[yt]=ye[jn]=ye[er]=!1;var _e={};_e[Rn]=_e[Rr]=_e[tr]=_e[Mn]=_e[Jn]=_e[Kn]=_e[zi]=_e[ki]=_e[$i]=_e[Oi]=_e[Di]=_e[vt]=_e[Xn]=_e[kt]=_e[Yn]=_e[yt]=_e[jn]=_e[Ar]=_e[Ui]=_e[Vi]=_e[Wi]=_e[Gi]=!0,_e[Mr]=_e[Tr]=_e[er]=!1;var md={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},gd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yd=parseFloat,wd=parseInt,ea=typeof _r=="object"&&_r&&_r.Object===Object&&_r,xd=typeof self=="object"&&self&&self.Object===Object&&self,$e=ea||xd||Function("return this")(),Yi=r&&!r.nodeType&&r,dn=Yi&&!0&&i&&!i.nodeType&&i,ta=dn&&dn.exports===Yi,ji=ta&&ea.process,ct=function(){try{var v=dn&&dn.require&&dn.require("util").types;return v||ji&&ji.binding&&ji.binding("util")}catch{}}(),na=ct&&ct.isArrayBuffer,ra=ct&&ct.isDate,ia=ct&&ct.isMap,sa=ct&&ct.isRegExp,oa=ct&&ct.isSet,aa=ct&&ct.isTypedArray;function nt(v,I,b){switch(b.length){case 0:return v.call(I);case 1:return v.call(I,b[0]);case 2:return v.call(I,b[0],b[1]);case 3:return v.call(I,b[0],b[1],b[2])}return v.apply(I,b)}function bd(v,I,b,W){for(var X=-1,de=v==null?0:v.length;++X<de;){var Pe=v[X];I(W,Pe,b(Pe),v)}return W}function lt(v,I){for(var b=-1,W=v==null?0:v.length;++b<W&&I(v[b],b,v)!==!1;);return v}function Sd(v,I){for(var b=v==null?0:v.length;b--&&I(v[b],b,v)!==!1;);return v}function ca(v,I){for(var b=-1,W=v==null?0:v.length;++b<W;)if(!I(v[b],b,v))return!1;return!0}function Xt(v,I){for(var b=-1,W=v==null?0:v.length,X=0,de=[];++b<W;){var Pe=v[b];I(Pe,b,v)&&(de[X++]=Pe)}return de}function Br(v,I){var b=v==null?0:v.length;return!!b&&An(v,I,0)>-1}function es(v,I,b){for(var W=-1,X=v==null?0:v.length;++W<X;)if(b(I,v[W]))return!0;return!1}function we(v,I){for(var b=-1,W=v==null?0:v.length,X=Array(W);++b<W;)X[b]=I(v[b],b,v);return X}function Yt(v,I){for(var b=-1,W=I.length,X=v.length;++b<W;)v[X+b]=I[b];return v}function ts(v,I,b,W){var X=-1,de=v==null?0:v.length;for(W&&de&&(b=v[++X]);++X<de;)b=I(b,v[X],X,v);return b}function Cd(v,I,b,W){var X=v==null?0:v.length;for(W&&X&&(b=v[--X]);X--;)b=I(b,v[X],X,v);return b}function ns(v,I){for(var b=-1,W=v==null?0:v.length;++b<W;)if(I(v[b],b,v))return!0;return!1}var Ed=rs("length");function Id(v){return v.split("")}function Rd(v){return v.match(Fu)||[]}function la(v,I,b){var W;return b(v,function(X,de,Pe){if(I(X,de,Pe))return W=de,!1}),W}function Fr(v,I,b,W){for(var X=v.length,de=b+(W?1:-1);W?de--:++de<X;)if(I(v[de],de,v))return de;return-1}function An(v,I,b){return I===I?Od(v,I,b):Fr(v,ua,b)}function Md(v,I,b,W){for(var X=b-1,de=v.length;++X<de;)if(W(v[X],I))return X;return-1}function ua(v){return v!==v}function da(v,I){var b=v==null?0:v.length;return b?ss(v,I)/b:Ir}function rs(v){return function(I){return I==null?s:I[v]}}function is(v){return function(I){return v==null?s:v[I]}}function fa(v,I,b,W,X){return X(v,function(de,Pe,me){b=W?(W=!1,de):I(b,de,Pe,me)}),b}function Td(v,I){var b=v.length;for(v.sort(I);b--;)v[b]=v[b].value;return v}function ss(v,I){for(var b,W=-1,X=v.length;++W<X;){var de=I(v[W]);de!==s&&(b=b===s?de:b+de)}return b}function os(v,I){for(var b=-1,W=Array(v);++b<v;)W[b]=I(b);return W}function Ad(v,I){return we(I,function(b){return[b,v[b]]})}function ha(v){return v&&v.slice(0,_a(v)+1).replace(qi,"")}function rt(v){return function(I){return v(I)}}function as(v,I){return we(I,function(b){return v[b]})}function nr(v,I){return v.has(I)}function pa(v,I){for(var b=-1,W=v.length;++b<W&&An(I,v[b],0)>-1;);return b}function ma(v,I){for(var b=v.length;b--&&An(I,v[b],0)>-1;);return b}function Ld(v,I){for(var b=v.length,W=0;b--;)v[b]===I&&++W;return W}var Pd=is(md),Nd=is(gd);function Bd(v){return"\\"+vd[v]}function Fd(v,I){return v==null?s:v[I]}function Ln(v){return dd.test(v)}function zd(v){return fd.test(v)}function kd(v){for(var I,b=[];!(I=v.next()).done;)b.push(I.value);return b}function cs(v){var I=-1,b=Array(v.size);return v.forEach(function(W,X){b[++I]=[X,W]}),b}function ga(v,I){return function(b){return v(I(b))}}function jt(v,I){for(var b=-1,W=v.length,X=0,de=[];++b<W;){var Pe=v[b];(Pe===I||Pe===S)&&(v[b]=S,de[X++]=b)}return de}function zr(v){var I=-1,b=Array(v.size);return v.forEach(function(W){b[++I]=W}),b}function $d(v){var I=-1,b=Array(v.size);return v.forEach(function(W){b[++I]=[W,W]}),b}function Od(v,I,b){for(var W=b-1,X=v.length;++W<X;)if(v[W]===I)return W;return-1}function Dd(v,I,b){for(var W=b+1;W--;)if(v[W]===I)return W;return W}function Pn(v){return Ln(v)?Vd(v):Ed(v)}function wt(v){return Ln(v)?Wd(v):Id(v)}function _a(v){for(var I=v.length;I--&&Lu.test(v.charAt(I)););return I}var Ud=is(_d);function Vd(v){for(var I=Xi.lastIndex=0;Xi.test(v);)++I;return I}function Wd(v){return v.match(Xi)||[]}function Gd(v){return v.match(ud)||[]}var Hd=function v(I){I=I==null?$e:Nn.defaults($e.Object(),I,Nn.pick($e,hd));var b=I.Array,W=I.Date,X=I.Error,de=I.Function,Pe=I.Math,me=I.Object,ls=I.RegExp,qd=I.String,ut=I.TypeError,kr=b.prototype,Zd=de.prototype,Bn=me.prototype,$r=I["__core-js_shared__"],Or=Zd.toString,he=Bn.hasOwnProperty,Qd=0,va=function(){var e=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Dr=Bn.toString,Jd=Or.call(me),Kd=$e._,Xd=ls("^"+Or.call(he).replace(Hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=ta?I.Buffer:s,en=I.Symbol,Vr=I.Uint8Array,ya=Ur?Ur.allocUnsafe:s,Wr=ga(me.getPrototypeOf,me),wa=me.create,xa=Bn.propertyIsEnumerable,Gr=kr.splice,ba=en?en.isConcatSpreadable:s,rr=en?en.iterator:s,fn=en?en.toStringTag:s,Hr=function(){try{var e=_n(me,"defineProperty");return e({},"",{}),e}catch{}}(),Yd=I.clearTimeout!==$e.clearTimeout&&I.clearTimeout,jd=W&&W.now!==$e.Date.now&&W.now,ef=I.setTimeout!==$e.setTimeout&&I.setTimeout,qr=Pe.ceil,Zr=Pe.floor,us=me.getOwnPropertySymbols,tf=Ur?Ur.isBuffer:s,Sa=I.isFinite,nf=kr.join,rf=ga(me.keys,me),Ne=Pe.max,Ue=Pe.min,sf=W.now,of=I.parseInt,Ca=Pe.random,af=kr.reverse,ds=_n(I,"DataView"),ir=_n(I,"Map"),fs=_n(I,"Promise"),Fn=_n(I,"Set"),sr=_n(I,"WeakMap"),or=_n(me,"create"),Qr=sr&&new sr,zn={},cf=vn(ds),lf=vn(ir),uf=vn(fs),df=vn(Fn),ff=vn(sr),Jr=en?en.prototype:s,ar=Jr?Jr.valueOf:s,Ea=Jr?Jr.toString:s;function l(e){if(Ce(e)&&!j(e)&&!(e instanceof oe)){if(e instanceof dt)return e;if(he.call(e,"__wrapped__"))return Ic(e)}return new dt(e)}var kn=function(){function e(){}return function(t){if(!Se(t))return{};if(wa)return wa(t);e.prototype=t;var n=new e;return e.prototype=s,n}}();function Kr(){}function dt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=s}l.templateSettings={escape:Eu,evaluate:Iu,interpolate:Bo,variable:"",imports:{_:l}},l.prototype=Kr.prototype,l.prototype.constructor=l,dt.prototype=kn(Kr.prototype),dt.prototype.constructor=dt;function oe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mt,this.__views__=[]}function hf(){var e=new oe(this.__wrapped__);return e.__actions__=Ke(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ke(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ke(this.__views__),e}function pf(){if(this.__filtered__){var e=new oe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function mf(){var e=this.__wrapped__.value(),t=this.__dir__,n=j(e),o=t<0,c=n?e.length:0,f=Rh(0,c,this.__views__),m=f.start,g=f.end,y=g-m,M=o?g:m-1,T=this.__iteratees__,L=T.length,D=0,q=Ue(y,this.__takeCount__);if(!n||!o&&c==y&&q==y)return Ja(e,this.__actions__);var J=[];e:for(;y--&&D<q;){M+=t;for(var te=-1,K=e[M];++te<L;){var ie=T[te],ae=ie.iteratee,ot=ie.type,Je=ae(K);if(ot==cu)K=Je;else if(!Je){if(ot==To)continue e;break e}}J[D++]=K}return J}oe.prototype=kn(Kr.prototype),oe.prototype.constructor=oe;function hn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function gf(){this.__data__=or?or(null):{},this.size=0}function _f(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function vf(e){var t=this.__data__;if(or){var n=t[e];return n===w?s:n}return he.call(t,e)?t[e]:s}function yf(e){var t=this.__data__;return or?t[e]!==s:he.call(t,e)}function wf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=or&&t===s?w:t,this}hn.prototype.clear=gf,hn.prototype.delete=_f,hn.prototype.get=vf,hn.prototype.has=yf,hn.prototype.set=wf;function $t(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function xf(){this.__data__=[],this.size=0}function bf(e){var t=this.__data__,n=Xr(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():Gr.call(t,n,1),--this.size,!0}function Sf(e){var t=this.__data__,n=Xr(t,e);return n<0?s:t[n][1]}function Cf(e){return Xr(this.__data__,e)>-1}function Ef(e,t){var n=this.__data__,o=Xr(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}$t.prototype.clear=xf,$t.prototype.delete=bf,$t.prototype.get=Sf,$t.prototype.has=Cf,$t.prototype.set=Ef;function Ot(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function If(){this.size=0,this.__data__={hash:new hn,map:new(ir||$t),string:new hn}}function Rf(e){var t=li(this,e).delete(e);return this.size-=t?1:0,t}function Mf(e){return li(this,e).get(e)}function Tf(e){return li(this,e).has(e)}function Af(e,t){var n=li(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}Ot.prototype.clear=If,Ot.prototype.delete=Rf,Ot.prototype.get=Mf,Ot.prototype.has=Tf,Ot.prototype.set=Af;function pn(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ot;++t<n;)this.add(e[t])}function Lf(e){return this.__data__.set(e,w),this}function Pf(e){return this.__data__.has(e)}pn.prototype.add=pn.prototype.push=Lf,pn.prototype.has=Pf;function xt(e){var t=this.__data__=new $t(e);this.size=t.size}function Nf(){this.__data__=new $t,this.size=0}function Bf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ff(e){return this.__data__.get(e)}function zf(e){return this.__data__.has(e)}function kf(e,t){var n=this.__data__;if(n instanceof $t){var o=n.__data__;if(!ir||o.length<u-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ot(o)}return n.set(e,t),this.size=n.size,this}xt.prototype.clear=Nf,xt.prototype.delete=Bf,xt.prototype.get=Ff,xt.prototype.has=zf,xt.prototype.set=kf;function Ia(e,t){var n=j(e),o=!n&&yn(e),c=!n&&!o&&on(e),f=!n&&!o&&!c&&Un(e),m=n||o||c||f,g=m?os(e.length,qd):[],y=g.length;for(var M in e)(t||he.call(e,M))&&!(m&&(M=="length"||c&&(M=="offset"||M=="parent")||f&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Wt(M,y)))&&g.push(M);return g}function Ra(e){var t=e.length;return t?e[Ss(0,t-1)]:s}function $f(e,t){return ui(Ke(e),mn(t,0,e.length))}function Of(e){return ui(Ke(e))}function hs(e,t,n){(n!==s&&!bt(e[t],n)||n===s&&!(t in e))&&Dt(e,t,n)}function cr(e,t,n){var o=e[t];(!(he.call(e,t)&&bt(o,n))||n===s&&!(t in e))&&Dt(e,t,n)}function Xr(e,t){for(var n=e.length;n--;)if(bt(e[n][0],t))return n;return-1}function Df(e,t,n,o){return tn(e,function(c,f,m){t(o,c,n(c),m)}),o}function Ma(e,t){return e&&At(t,ze(t),e)}function Uf(e,t){return e&&At(t,Ye(t),e)}function Dt(e,t,n){t=="__proto__"&&Hr?Hr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ps(e,t){for(var n=-1,o=t.length,c=b(o),f=e==null;++n<o;)c[n]=f?s:Qs(e,t[n]);return c}function mn(e,t,n){return e===e&&(n!==s&&(e=e<=n?e:n),t!==s&&(e=e>=t?e:t)),e}function ft(e,t,n,o,c,f){var m,g=t&A,y=t&F,M=t&N;if(n&&(m=c?n(e,o,c,f):n(e)),m!==s)return m;if(!Se(e))return e;var T=j(e);if(T){if(m=Th(e),!g)return Ke(e,m)}else{var L=Ve(e),D=L==Tr||L==Ao;if(on(e))return Ya(e,g);if(L==kt||L==Rn||D&&!c){if(m=y||D?{}:_c(e),!g)return y?vh(e,Uf(m,e)):_h(e,Ma(m,e))}else{if(!_e[L])return c?e:{};m=Ah(e,L,g)}}f||(f=new xt);var q=f.get(e);if(q)return q;f.set(e,m),qc(e)?e.forEach(function(K){m.add(ft(K,t,n,K,e,f))}):Gc(e)&&e.forEach(function(K,ie){m.set(ie,ft(K,t,n,ie,e,f))});var J=M?y?Bs:Ns:y?Ye:ze,te=T?s:J(e);return lt(te||e,function(K,ie){te&&(ie=K,K=e[ie]),cr(m,ie,ft(K,t,n,ie,e,f))}),m}function Vf(e){var t=ze(e);return function(n){return Ta(n,e,t)}}function Ta(e,t,n){var o=n.length;if(e==null)return!o;for(e=me(e);o--;){var c=n[o],f=t[c],m=e[c];if(m===s&&!(c in e)||!f(m))return!1}return!0}function Aa(e,t,n){if(typeof e!="function")throw new ut(p);return mr(function(){e.apply(s,n)},t)}function lr(e,t,n,o){var c=-1,f=Br,m=!0,g=e.length,y=[],M=t.length;if(!g)return y;n&&(t=we(t,rt(n))),o?(f=es,m=!1):t.length>=u&&(f=nr,m=!1,t=new pn(t));e:for(;++c<g;){var T=e[c],L=n==null?T:n(T);if(T=o||T!==0?T:0,m&&L===L){for(var D=M;D--;)if(t[D]===L)continue e;y.push(T)}else f(t,L,o)||y.push(T)}return y}var tn=rc(Tt),La=rc(gs,!0);function Wf(e,t){var n=!0;return tn(e,function(o,c,f){return n=!!t(o,c,f),n}),n}function Yr(e,t,n){for(var o=-1,c=e.length;++o<c;){var f=e[o],m=t(f);if(m!=null&&(g===s?m===m&&!st(m):n(m,g)))var g=m,y=f}return y}function Gf(e,t,n,o){var c=e.length;for(n=ee(n),n<0&&(n=-n>c?0:c+n),o=o===s||o>c?c:ee(o),o<0&&(o+=c),o=n>o?0:Qc(o);n<o;)e[n++]=t;return e}function Pa(e,t){var n=[];return tn(e,function(o,c,f){t(o,c,f)&&n.push(o)}),n}function Oe(e,t,n,o,c){var f=-1,m=e.length;for(n||(n=Ph),c||(c=[]);++f<m;){var g=e[f];t>0&&n(g)?t>1?Oe(g,t-1,n,o,c):Yt(c,g):o||(c[c.length]=g)}return c}var ms=ic(),Na=ic(!0);function Tt(e,t){return e&&ms(e,t,ze)}function gs(e,t){return e&&Na(e,t,ze)}function jr(e,t){return Xt(t,function(n){return Gt(e[n])})}function gn(e,t){t=rn(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[Lt(t[n++])];return n&&n==o?e:s}function Ba(e,t,n){var o=t(e);return j(e)?o:Yt(o,n(e))}function Ze(e){return e==null?e===s?vu:gu:fn&&fn in me(e)?Ih(e):Oh(e)}function _s(e,t){return e>t}function Hf(e,t){return e!=null&&he.call(e,t)}function qf(e,t){return e!=null&&t in me(e)}function Zf(e,t,n){return e>=Ue(t,n)&&e<Ne(t,n)}function vs(e,t,n){for(var o=n?es:Br,c=e[0].length,f=e.length,m=f,g=b(f),y=1/0,M=[];m--;){var T=e[m];m&&t&&(T=we(T,rt(t))),y=Ue(T.length,y),g[m]=!n&&(t||c>=120&&T.length>=120)?new pn(m&&T):s}T=e[0];var L=-1,D=g[0];e:for(;++L<c&&M.length<y;){var q=T[L],J=t?t(q):q;if(q=n||q!==0?q:0,!(D?nr(D,J):o(M,J,n))){for(m=f;--m;){var te=g[m];if(!(te?nr(te,J):o(e[m],J,n)))continue e}D&&D.push(J),M.push(q)}}return M}function Qf(e,t,n,o){return Tt(e,function(c,f,m){t(o,n(c),f,m)}),o}function ur(e,t,n){t=rn(t,e),e=xc(e,t);var o=e==null?e:e[Lt(pt(t))];return o==null?s:nt(o,e,n)}function Fa(e){return Ce(e)&&Ze(e)==Rn}function Jf(e){return Ce(e)&&Ze(e)==tr}function Kf(e){return Ce(e)&&Ze(e)==Kn}function dr(e,t,n,o,c){return e===t?!0:e==null||t==null||!Ce(e)&&!Ce(t)?e!==e&&t!==t:Xf(e,t,n,o,dr,c)}function Xf(e,t,n,o,c,f){var m=j(e),g=j(t),y=m?Rr:Ve(e),M=g?Rr:Ve(t);y=y==Rn?kt:y,M=M==Rn?kt:M;var T=y==kt,L=M==kt,D=y==M;if(D&&on(e)){if(!on(t))return!1;m=!0,T=!1}if(D&&!T)return f||(f=new xt),m||Un(e)?pc(e,t,n,o,c,f):Ch(e,t,y,n,o,c,f);if(!(n&z)){var q=T&&he.call(e,"__wrapped__"),J=L&&he.call(t,"__wrapped__");if(q||J){var te=q?e.value():e,K=J?t.value():t;return f||(f=new xt),c(te,K,n,o,f)}}return D?(f||(f=new xt),Eh(e,t,n,o,c,f)):!1}function Yf(e){return Ce(e)&&Ve(e)==vt}function ys(e,t,n,o){var c=n.length,f=c,m=!o;if(e==null)return!f;for(e=me(e);c--;){var g=n[c];if(m&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++c<f;){g=n[c];var y=g[0],M=e[y],T=g[1];if(m&&g[2]){if(M===s&&!(y in e))return!1}else{var L=new xt;if(o)var D=o(M,T,y,e,t,L);if(!(D===s?dr(T,M,z|B,o,L):D))return!1}}return!0}function za(e){if(!Se(e)||Bh(e))return!1;var t=Gt(e)?Xd:Uu;return t.test(vn(e))}function jf(e){return Ce(e)&&Ze(e)==Yn}function eh(e){return Ce(e)&&Ve(e)==yt}function th(e){return Ce(e)&&gi(e.length)&&!!ye[Ze(e)]}function ka(e){return typeof e=="function"?e:e==null?je:typeof e=="object"?j(e)?Da(e[0],e[1]):Oa(e):sl(e)}function ws(e){if(!pr(e))return rf(e);var t=[];for(var n in me(e))he.call(e,n)&&n!="constructor"&&t.push(n);return t}function nh(e){if(!Se(e))return $h(e);var t=pr(e),n=[];for(var o in e)o=="constructor"&&(t||!he.call(e,o))||n.push(o);return n}function xs(e,t){return e<t}function $a(e,t){var n=-1,o=Xe(e)?b(e.length):[];return tn(e,function(c,f,m){o[++n]=t(c,f,m)}),o}function Oa(e){var t=zs(e);return t.length==1&&t[0][2]?yc(t[0][0],t[0][1]):function(n){return n===e||ys(n,e,t)}}function Da(e,t){return $s(e)&&vc(t)?yc(Lt(e),t):function(n){var o=Qs(n,e);return o===s&&o===t?Js(n,e):dr(t,o,z|B)}}function ei(e,t,n,o,c){e!==t&&ms(t,function(f,m){if(c||(c=new xt),Se(f))rh(e,t,m,n,ei,o,c);else{var g=o?o(Ds(e,m),f,m+"",e,t,c):s;g===s&&(g=f),hs(e,m,g)}},Ye)}function rh(e,t,n,o,c,f,m){var g=Ds(e,n),y=Ds(t,n),M=m.get(y);if(M){hs(e,n,M);return}var T=f?f(g,y,n+"",e,t,m):s,L=T===s;if(L){var D=j(y),q=!D&&on(y),J=!D&&!q&&Un(y);T=y,D||q||J?j(g)?T=g:Ie(g)?T=Ke(g):q?(L=!1,T=Ya(y,!0)):J?(L=!1,T=ja(y,!0)):T=[]:gr(y)||yn(y)?(T=g,yn(g)?T=Jc(g):(!Se(g)||Gt(g))&&(T=_c(y))):L=!1}L&&(m.set(y,T),c(T,y,o,f,m),m.delete(y)),hs(e,n,T)}function Ua(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,Wt(t,n)?e[t]:s}function Va(e,t,n){t.length?t=we(t,function(f){return j(f)?function(m){return gn(m,f.length===1?f[0]:f)}:f}):t=[je];var o=-1;t=we(t,rt(Q()));var c=$a(e,function(f,m,g){var y=we(t,function(M){return M(f)});return{criteria:y,index:++o,value:f}});return Td(c,function(f,m){return gh(f,m,n)})}function ih(e,t){return Wa(e,t,function(n,o){return Js(e,o)})}function Wa(e,t,n){for(var o=-1,c=t.length,f={};++o<c;){var m=t[o],g=gn(e,m);n(g,m)&&fr(f,rn(m,e),g)}return f}function sh(e){return function(t){return gn(t,e)}}function bs(e,t,n,o){var c=o?Md:An,f=-1,m=t.length,g=e;for(e===t&&(t=Ke(t)),n&&(g=we(e,rt(n)));++f<m;)for(var y=0,M=t[f],T=n?n(M):M;(y=c(g,T,y,o))>-1;)g!==e&&Gr.call(g,y,1),Gr.call(e,y,1);return e}function Ga(e,t){for(var n=e?t.length:0,o=n-1;n--;){var c=t[n];if(n==o||c!==f){var f=c;Wt(c)?Gr.call(e,c,1):Is(e,c)}}return e}function Ss(e,t){return e+Zr(Ca()*(t-e+1))}function oh(e,t,n,o){for(var c=-1,f=Ne(qr((t-e)/(n||1)),0),m=b(f);f--;)m[o?f:++c]=e,e+=n;return m}function Cs(e,t){var n="";if(!e||t<1||t>Kt)return n;do t%2&&(n+=e),t=Zr(t/2),t&&(e+=e);while(t);return n}function re(e,t){return Us(wc(e,t,je),e+"")}function ah(e){return Ra(Vn(e))}function ch(e,t){var n=Vn(e);return ui(n,mn(t,0,n.length))}function fr(e,t,n,o){if(!Se(e))return e;t=rn(t,e);for(var c=-1,f=t.length,m=f-1,g=e;g!=null&&++c<f;){var y=Lt(t[c]),M=n;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(c!=m){var T=g[y];M=o?o(T,y,g):s,M===s&&(M=Se(T)?T:Wt(t[c+1])?[]:{})}cr(g,y,M),g=g[y]}return e}var Ha=Qr?function(e,t){return Qr.set(e,t),e}:je,lh=Hr?function(e,t){return Hr(e,"toString",{configurable:!0,enumerable:!1,value:Xs(t),writable:!0})}:je;function uh(e){return ui(Vn(e))}function ht(e,t,n){var o=-1,c=e.length;t<0&&(t=-t>c?0:c+t),n=n>c?c:n,n<0&&(n+=c),c=t>n?0:n-t>>>0,t>>>=0;for(var f=b(c);++o<c;)f[o]=e[o+t];return f}function dh(e,t){var n;return tn(e,function(o,c,f){return n=t(o,c,f),!n}),!!n}function ti(e,t,n){var o=0,c=e==null?o:e.length;if(typeof t=="number"&&t===t&&c<=fu){for(;o<c;){var f=o+c>>>1,m=e[f];m!==null&&!st(m)&&(n?m<=t:m<t)?o=f+1:c=f}return c}return Es(e,t,je,n)}function Es(e,t,n,o){var c=0,f=e==null?0:e.length;if(f===0)return 0;t=n(t);for(var m=t!==t,g=t===null,y=st(t),M=t===s;c<f;){var T=Zr((c+f)/2),L=n(e[T]),D=L!==s,q=L===null,J=L===L,te=st(L);if(m)var K=o||J;else M?K=J&&(o||D):g?K=J&&D&&(o||!q):y?K=J&&D&&!q&&(o||!te):q||te?K=!1:K=o?L<=t:L<t;K?c=T+1:f=T}return Ue(f,du)}function qa(e,t){for(var n=-1,o=e.length,c=0,f=[];++n<o;){var m=e[n],g=t?t(m):m;if(!n||!bt(g,y)){var y=g;f[c++]=m===0?0:m}}return f}function Za(e){return typeof e=="number"?e:st(e)?Ir:+e}function it(e){if(typeof e=="string")return e;if(j(e))return we(e,it)+"";if(st(e))return Ea?Ea.call(e):"";var t=e+"";return t=="0"&&1/e==-un?"-0":t}function nn(e,t,n){var o=-1,c=Br,f=e.length,m=!0,g=[],y=g;if(n)m=!1,c=es;else if(f>=u){var M=t?null:bh(e);if(M)return zr(M);m=!1,c=nr,y=new pn}else y=t?[]:g;e:for(;++o<f;){var T=e[o],L=t?t(T):T;if(T=n||T!==0?T:0,m&&L===L){for(var D=y.length;D--;)if(y[D]===L)continue e;t&&y.push(L),g.push(T)}else c(y,L,n)||(y!==g&&y.push(L),g.push(T))}return g}function Is(e,t){return t=rn(t,e),e=xc(e,t),e==null||delete e[Lt(pt(t))]}function Qa(e,t,n,o){return fr(e,t,n(gn(e,t)),o)}function ni(e,t,n,o){for(var c=e.length,f=o?c:-1;(o?f--:++f<c)&&t(e[f],f,e););return n?ht(e,o?0:f,o?f+1:c):ht(e,o?f+1:0,o?c:f)}function Ja(e,t){var n=e;return n instanceof oe&&(n=n.value()),ts(t,function(o,c){return c.func.apply(c.thisArg,Yt([o],c.args))},n)}function Rs(e,t,n){var o=e.length;if(o<2)return o?nn(e[0]):[];for(var c=-1,f=b(o);++c<o;)for(var m=e[c],g=-1;++g<o;)g!=c&&(f[c]=lr(f[c]||m,e[g],t,n));return nn(Oe(f,1),t,n)}function Ka(e,t,n){for(var o=-1,c=e.length,f=t.length,m={};++o<c;){var g=o<f?t[o]:s;n(m,e[o],g)}return m}function Ms(e){return Ie(e)?e:[]}function Ts(e){return typeof e=="function"?e:je}function rn(e,t){return j(e)?e:$s(e,t)?[e]:Ec(fe(e))}var fh=re;function sn(e,t,n){var o=e.length;return n=n===s?o:n,!t&&n>=o?e:ht(e,t,n)}var Xa=Yd||function(e){return $e.clearTimeout(e)};function Ya(e,t){if(t)return e.slice();var n=e.length,o=ya?ya(n):new e.constructor(n);return e.copy(o),o}function As(e){var t=new e.constructor(e.byteLength);return new Vr(t).set(new Vr(e)),t}function hh(e,t){var n=t?As(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ph(e){var t=new e.constructor(e.source,Fo.exec(e));return t.lastIndex=e.lastIndex,t}function mh(e){return ar?me(ar.call(e)):{}}function ja(e,t){var n=t?As(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ec(e,t){if(e!==t){var n=e!==s,o=e===null,c=e===e,f=st(e),m=t!==s,g=t===null,y=t===t,M=st(t);if(!g&&!M&&!f&&e>t||f&&m&&y&&!g&&!M||o&&m&&y||!n&&y||!c)return 1;if(!o&&!f&&!M&&e<t||M&&n&&c&&!o&&!f||g&&n&&c||!m&&c||!y)return-1}return 0}function gh(e,t,n){for(var o=-1,c=e.criteria,f=t.criteria,m=c.length,g=n.length;++o<m;){var y=ec(c[o],f[o]);if(y){if(o>=g)return y;var M=n[o];return y*(M=="desc"?-1:1)}}return e.index-t.index}function tc(e,t,n,o){for(var c=-1,f=e.length,m=n.length,g=-1,y=t.length,M=Ne(f-m,0),T=b(y+M),L=!o;++g<y;)T[g]=t[g];for(;++c<m;)(L||c<f)&&(T[n[c]]=e[c]);for(;M--;)T[g++]=e[c++];return T}function nc(e,t,n,o){for(var c=-1,f=e.length,m=-1,g=n.length,y=-1,M=t.length,T=Ne(f-g,0),L=b(T+M),D=!o;++c<T;)L[c]=e[c];for(var q=c;++y<M;)L[q+y]=t[y];for(;++m<g;)(D||c<f)&&(L[q+n[m]]=e[c++]);return L}function Ke(e,t){var n=-1,o=e.length;for(t||(t=b(o));++n<o;)t[n]=e[n];return t}function At(e,t,n,o){var c=!n;n||(n={});for(var f=-1,m=t.length;++f<m;){var g=t[f],y=o?o(n[g],e[g],g,n,e):s;y===s&&(y=e[g]),c?Dt(n,g,y):cr(n,g,y)}return n}function _h(e,t){return At(e,ks(e),t)}function vh(e,t){return At(e,mc(e),t)}function ri(e,t){return function(n,o){var c=j(n)?bd:Df,f=t?t():{};return c(n,e,Q(o,2),f)}}function $n(e){return re(function(t,n){var o=-1,c=n.length,f=c>1?n[c-1]:s,m=c>2?n[2]:s;for(f=e.length>3&&typeof f=="function"?(c--,f):s,m&&Qe(n[0],n[1],m)&&(f=c<3?s:f,c=1),t=me(t);++o<c;){var g=n[o];g&&e(t,g,o,f)}return t})}function rc(e,t){return function(n,o){if(n==null)return n;if(!Xe(n))return e(n,o);for(var c=n.length,f=t?c:-1,m=me(n);(t?f--:++f<c)&&o(m[f],f,m)!==!1;);return n}}function ic(e){return function(t,n,o){for(var c=-1,f=me(t),m=o(t),g=m.length;g--;){var y=m[e?g:++c];if(n(f[y],y,f)===!1)break}return t}}function yh(e,t,n){var o=t&$,c=hr(e);function f(){var m=this&&this!==$e&&this instanceof f?c:e;return m.apply(o?n:this,arguments)}return f}function sc(e){return function(t){t=fe(t);var n=Ln(t)?wt(t):s,o=n?n[0]:t.charAt(0),c=n?sn(n,1).join(""):t.slice(1);return o[e]()+c}}function On(e){return function(t){return ts(rl(nl(t).replace(cd,"")),e,"")}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),o=e.apply(n,t);return Se(o)?o:n}}function wh(e,t,n){var o=hr(e);function c(){for(var f=arguments.length,m=b(f),g=f,y=Dn(c);g--;)m[g]=arguments[g];var M=f<3&&m[0]!==y&&m[f-1]!==y?[]:jt(m,y);if(f-=M.length,f<n)return uc(e,t,ii,c.placeholder,s,m,M,s,s,n-f);var T=this&&this!==$e&&this instanceof c?o:e;return nt(T,this,m)}return c}function oc(e){return function(t,n,o){var c=me(t);if(!Xe(t)){var f=Q(n,3);t=ze(t),n=function(g){return f(c[g],g,c)}}var m=e(t,n,o);return m>-1?c[f?t[m]:m]:s}}function ac(e){return Vt(function(t){var n=t.length,o=n,c=dt.prototype.thru;for(e&&t.reverse();o--;){var f=t[o];if(typeof f!="function")throw new ut(p);if(c&&!m&&ci(f)=="wrapper")var m=new dt([],!0)}for(o=m?o:n;++o<n;){f=t[o];var g=ci(f),y=g=="wrapper"?Fs(f):s;y&&Os(y[0])&&y[1]==(Y|O|V|le)&&!y[4].length&&y[9]==1?m=m[ci(y[0])].apply(m,y[3]):m=f.length==1&&Os(f)?m[g]():m.thru(f)}return function(){var M=arguments,T=M[0];if(m&&M.length==1&&j(T))return m.plant(T).value();for(var L=0,D=n?t[L].apply(this,M):T;++L<n;)D=t[L].call(this,D);return D}})}function ii(e,t,n,o,c,f,m,g,y,M){var T=t&Y,L=t&$,D=t&H,q=t&(O|U),J=t&ce,te=D?s:hr(e);function K(){for(var ie=arguments.length,ae=b(ie),ot=ie;ot--;)ae[ot]=arguments[ot];if(q)var Je=Dn(K),at=Ld(ae,Je);if(o&&(ae=tc(ae,o,c,q)),f&&(ae=nc(ae,f,m,q)),ie-=at,q&&ie<M){var Re=jt(ae,Je);return uc(e,t,ii,K.placeholder,n,ae,Re,g,y,M-ie)}var St=L?n:this,qt=D?St[e]:e;return ie=ae.length,g?ae=Dh(ae,g):J&&ie>1&&ae.reverse(),T&&y<ie&&(ae.length=y),this&&this!==$e&&this instanceof K&&(qt=te||hr(qt)),qt.apply(St,ae)}return K}function cc(e,t){return function(n,o){return Qf(n,e,t(o),{})}}function si(e,t){return function(n,o){var c;if(n===s&&o===s)return t;if(n!==s&&(c=n),o!==s){if(c===s)return o;typeof n=="string"||typeof o=="string"?(n=it(n),o=it(o)):(n=Za(n),o=Za(o)),c=e(n,o)}return c}}function Ls(e){return Vt(function(t){return t=we(t,rt(Q())),re(function(n){var o=this;return e(t,function(c){return nt(c,o,n)})})})}function oi(e,t){t=t===s?" ":it(t);var n=t.length;if(n<2)return n?Cs(t,e):t;var o=Cs(t,qr(e/Pn(t)));return Ln(t)?sn(wt(o),0,e).join(""):o.slice(0,e)}function xh(e,t,n,o){var c=t&$,f=hr(e);function m(){for(var g=-1,y=arguments.length,M=-1,T=o.length,L=b(T+y),D=this&&this!==$e&&this instanceof m?f:e;++M<T;)L[M]=o[M];for(;y--;)L[M++]=arguments[++g];return nt(D,c?n:this,L)}return m}function lc(e){return function(t,n,o){return o&&typeof o!="number"&&Qe(t,n,o)&&(n=o=s),t=Ht(t),n===s?(n=t,t=0):n=Ht(n),o=o===s?t<n?1:-1:Ht(o),oh(t,n,o,e)}}function ai(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=mt(t),n=mt(n)),e(t,n)}}function uc(e,t,n,o,c,f,m,g,y,M){var T=t&O,L=T?m:s,D=T?s:m,q=T?f:s,J=T?s:f;t|=T?V:ne,t&=~(T?ne:V),t&Z||(t&=~($|H));var te=[e,t,c,q,L,J,D,g,y,M],K=n.apply(s,te);return Os(e)&&bc(K,te),K.placeholder=o,Sc(K,e,t)}function Ps(e){var t=Pe[e];return function(n,o){if(n=mt(n),o=o==null?0:Ue(ee(o),292),o&&Sa(n)){var c=(fe(n)+"e").split("e"),f=t(c[0]+"e"+(+c[1]+o));return c=(fe(f)+"e").split("e"),+(c[0]+"e"+(+c[1]-o))}return t(n)}}var bh=Fn&&1/zr(new Fn([,-0]))[1]==un?function(e){return new Fn(e)}:eo;function dc(e){return function(t){var n=Ve(t);return n==vt?cs(t):n==yt?$d(t):Ad(t,e(t))}}function Ut(e,t,n,o,c,f,m,g){var y=t&H;if(!y&&typeof e!="function")throw new ut(p);var M=o?o.length:0;if(M||(t&=~(V|ne),o=c=s),m=m===s?m:Ne(ee(m),0),g=g===s?g:ee(g),M-=c?c.length:0,t&ne){var T=o,L=c;o=c=s}var D=y?s:Fs(e),q=[e,t,n,o,c,T,L,f,m,g];if(D&&kh(q,D),e=q[0],t=q[1],n=q[2],o=q[3],c=q[4],g=q[9]=q[9]===s?y?0:e.length:Ne(q[9]-M,0),!g&&t&(O|U)&&(t&=~(O|U)),!t||t==$)var J=yh(e,t,n);else t==O||t==U?J=wh(e,t,g):(t==V||t==($|V))&&!c.length?J=xh(e,t,n,o):J=ii.apply(s,q);var te=D?Ha:bc;return Sc(te(J,q),e,t)}function fc(e,t,n,o){return e===s||bt(e,Bn[n])&&!he.call(o,n)?t:e}function hc(e,t,n,o,c,f){return Se(e)&&Se(t)&&(f.set(t,e),ei(e,t,s,hc,f),f.delete(t)),e}function Sh(e){return gr(e)?s:e}function pc(e,t,n,o,c,f){var m=n&z,g=e.length,y=t.length;if(g!=y&&!(m&&y>g))return!1;var M=f.get(e),T=f.get(t);if(M&&T)return M==t&&T==e;var L=-1,D=!0,q=n&B?new pn:s;for(f.set(e,t),f.set(t,e);++L<g;){var J=e[L],te=t[L];if(o)var K=m?o(te,J,L,t,e,f):o(J,te,L,e,t,f);if(K!==s){if(K)continue;D=!1;break}if(q){if(!ns(t,function(ie,ae){if(!nr(q,ae)&&(J===ie||c(J,ie,n,o,f)))return q.push(ae)})){D=!1;break}}else if(!(J===te||c(J,te,n,o,f))){D=!1;break}}return f.delete(e),f.delete(t),D}function Ch(e,t,n,o,c,f,m){switch(n){case Mn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tr:return!(e.byteLength!=t.byteLength||!f(new Vr(e),new Vr(t)));case Jn:case Kn:case Xn:return bt(+e,+t);case Mr:return e.name==t.name&&e.message==t.message;case Yn:case jn:return e==t+"";case vt:var g=cs;case yt:var y=o&z;if(g||(g=zr),e.size!=t.size&&!y)return!1;var M=m.get(e);if(M)return M==t;o|=B,m.set(e,t);var T=pc(g(e),g(t),o,c,f,m);return m.delete(e),T;case Ar:if(ar)return ar.call(e)==ar.call(t)}return!1}function Eh(e,t,n,o,c,f){var m=n&z,g=Ns(e),y=g.length,M=Ns(t),T=M.length;if(y!=T&&!m)return!1;for(var L=y;L--;){var D=g[L];if(!(m?D in t:he.call(t,D)))return!1}var q=f.get(e),J=f.get(t);if(q&&J)return q==t&&J==e;var te=!0;f.set(e,t),f.set(t,e);for(var K=m;++L<y;){D=g[L];var ie=e[D],ae=t[D];if(o)var ot=m?o(ae,ie,D,t,e,f):o(ie,ae,D,e,t,f);if(!(ot===s?ie===ae||c(ie,ae,n,o,f):ot)){te=!1;break}K||(K=D=="constructor")}if(te&&!K){var Je=e.constructor,at=t.constructor;Je!=at&&"constructor"in e&&"constructor"in t&&!(typeof Je=="function"&&Je instanceof Je&&typeof at=="function"&&at instanceof at)&&(te=!1)}return f.delete(e),f.delete(t),te}function Vt(e){return Us(wc(e,s,Tc),e+"")}function Ns(e){return Ba(e,ze,ks)}function Bs(e){return Ba(e,Ye,mc)}var Fs=Qr?function(e){return Qr.get(e)}:eo;function ci(e){for(var t=e.name+"",n=zn[t],o=he.call(zn,t)?n.length:0;o--;){var c=n[o],f=c.func;if(f==null||f==e)return c.name}return t}function Dn(e){var t=he.call(l,"placeholder")?l:e;return t.placeholder}function Q(){var e=l.iteratee||Ys;return e=e===Ys?ka:e,arguments.length?e(arguments[0],arguments[1]):e}function li(e,t){var n=e.__data__;return Nh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function zs(e){for(var t=ze(e),n=t.length;n--;){var o=t[n],c=e[o];t[n]=[o,c,vc(c)]}return t}function _n(e,t){var n=Fd(e,t);return za(n)?n:s}function Ih(e){var t=he.call(e,fn),n=e[fn];try{e[fn]=s;var o=!0}catch{}var c=Dr.call(e);return o&&(t?e[fn]=n:delete e[fn]),c}var ks=us?function(e){return e==null?[]:(e=me(e),Xt(us(e),function(t){return xa.call(e,t)}))}:to,mc=us?function(e){for(var t=[];e;)Yt(t,ks(e)),e=Wr(e);return t}:to,Ve=Ze;(ds&&Ve(new ds(new ArrayBuffer(1)))!=Mn||ir&&Ve(new ir)!=vt||fs&&Ve(fs.resolve())!=Lo||Fn&&Ve(new Fn)!=yt||sr&&Ve(new sr)!=er)&&(Ve=function(e){var t=Ze(e),n=t==kt?e.constructor:s,o=n?vn(n):"";if(o)switch(o){case cf:return Mn;case lf:return vt;case uf:return Lo;case df:return yt;case ff:return er}return t});function Rh(e,t,n){for(var o=-1,c=n.length;++o<c;){var f=n[o],m=f.size;switch(f.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Ue(t,e+m);break;case"takeRight":e=Ne(e,t-m);break}}return{start:e,end:t}}function Mh(e){var t=e.match(Nu);return t?t[1].split(Bu):[]}function gc(e,t,n){t=rn(t,e);for(var o=-1,c=t.length,f=!1;++o<c;){var m=Lt(t[o]);if(!(f=e!=null&&n(e,m)))break;e=e[m]}return f||++o!=c?f:(c=e==null?0:e.length,!!c&&gi(c)&&Wt(m,c)&&(j(e)||yn(e)))}function Th(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&he.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _c(e){return typeof e.constructor=="function"&&!pr(e)?kn(Wr(e)):{}}function Ah(e,t,n){var o=e.constructor;switch(t){case tr:return As(e);case Jn:case Kn:return new o(+e);case Mn:return hh(e,n);case zi:case ki:case $i:case Oi:case Di:case Ui:case Vi:case Wi:case Gi:return ja(e,n);case vt:return new o;case Xn:case jn:return new o(e);case Yn:return ph(e);case yt:return new o;case Ar:return mh(e)}}function Lh(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(Pu,`{
/* [wrapped with `+t+`] */
`)}function Ph(e){return j(e)||yn(e)||!!(ba&&e&&e[ba])}function Wt(e,t){var n=typeof e;return t=t==null?Kt:t,!!t&&(n=="number"||n!="symbol"&&Wu.test(e))&&e>-1&&e%1==0&&e<t}function Qe(e,t,n){if(!Se(n))return!1;var o=typeof t;return(o=="number"?Xe(n)&&Wt(t,n.length):o=="string"&&t in n)?bt(n[t],e):!1}function $s(e,t){if(j(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||st(e)?!0:Mu.test(e)||!Ru.test(e)||t!=null&&e in me(t)}function Nh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Os(e){var t=ci(e),n=l[t];if(typeof n!="function"||!(t in oe.prototype))return!1;if(e===n)return!0;var o=Fs(n);return!!o&&e===o[0]}function Bh(e){return!!va&&va in e}var Fh=$r?Gt:no;function pr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Bn;return e===n}function vc(e){return e===e&&!Se(e)}function yc(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==s||e in me(n))}}function zh(e){var t=pi(e,function(o){return n.size===x&&n.clear(),o}),n=t.cache;return t}function kh(e,t){var n=e[1],o=t[1],c=n|o,f=c<($|H|Y),m=o==Y&&n==O||o==Y&&n==le&&e[7].length<=t[8]||o==(Y|le)&&t[7].length<=t[8]&&n==O;if(!(f||m))return e;o&$&&(e[2]=t[2],c|=n&$?0:Z);var g=t[3];if(g){var y=e[3];e[3]=y?tc(y,g,t[4]):g,e[4]=y?jt(e[3],S):t[4]}return g=t[5],g&&(y=e[5],e[5]=y?nc(y,g,t[6]):g,e[6]=y?jt(e[5],S):t[6]),g=t[7],g&&(e[7]=g),o&Y&&(e[8]=e[8]==null?t[8]:Ue(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function $h(e){var t=[];if(e!=null)for(var n in me(e))t.push(n);return t}function Oh(e){return Dr.call(e)}function wc(e,t,n){return t=Ne(t===s?e.length-1:t,0),function(){for(var o=arguments,c=-1,f=Ne(o.length-t,0),m=b(f);++c<f;)m[c]=o[t+c];c=-1;for(var g=b(t+1);++c<t;)g[c]=o[c];return g[t]=n(m),nt(e,this,g)}}function xc(e,t){return t.length<2?e:gn(e,ht(t,0,-1))}function Dh(e,t){for(var n=e.length,o=Ue(t.length,n),c=Ke(e);o--;){var f=t[o];e[o]=Wt(f,n)?c[f]:s}return e}function Ds(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var bc=Cc(Ha),mr=ef||function(e,t){return $e.setTimeout(e,t)},Us=Cc(lh);function Sc(e,t,n){var o=t+"";return Us(e,Lh(o,Uh(Mh(o),n)))}function Cc(e){var t=0,n=0;return function(){var o=sf(),c=Jt-(o-n);if(n=o,c>0){if(++t>=qe)return arguments[0]}else t=0;return e.apply(s,arguments)}}function ui(e,t){var n=-1,o=e.length,c=o-1;for(t=t===s?o:t;++n<t;){var f=Ss(n,c),m=e[f];e[f]=e[n],e[n]=m}return e.length=t,e}var Ec=zh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Tu,function(n,o,c,f){t.push(c?f.replace(ku,"$1"):o||n)}),t});function Lt(e){if(typeof e=="string"||st(e))return e;var t=e+"";return t=="0"&&1/e==-un?"-0":t}function vn(e){if(e!=null){try{return Or.call(e)}catch{}try{return e+""}catch{}}return""}function Uh(e,t){return lt(hu,function(n){var o="_."+n[0];t&n[1]&&!Br(e,o)&&e.push(o)}),e.sort()}function Ic(e){if(e instanceof oe)return e.clone();var t=new dt(e.__wrapped__,e.__chain__);return t.__actions__=Ke(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Vh(e,t,n){(n?Qe(e,t,n):t===s)?t=1:t=Ne(ee(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var c=0,f=0,m=b(qr(o/t));c<o;)m[f++]=ht(e,c,c+=t);return m}function Wh(e){for(var t=-1,n=e==null?0:e.length,o=0,c=[];++t<n;){var f=e[t];f&&(c[o++]=f)}return c}function Gh(){var e=arguments.length;if(!e)return[];for(var t=b(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Yt(j(n)?Ke(n):[n],Oe(t,1))}var Hh=re(function(e,t){return Ie(e)?lr(e,Oe(t,1,Ie,!0)):[]}),qh=re(function(e,t){var n=pt(t);return Ie(n)&&(n=s),Ie(e)?lr(e,Oe(t,1,Ie,!0),Q(n,2)):[]}),Zh=re(function(e,t){var n=pt(t);return Ie(n)&&(n=s),Ie(e)?lr(e,Oe(t,1,Ie,!0),s,n):[]});function Qh(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===s?1:ee(t),ht(e,t<0?0:t,o)):[]}function Jh(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===s?1:ee(t),t=o-t,ht(e,0,t<0?0:t)):[]}function Kh(e,t){return e&&e.length?ni(e,Q(t,3),!0,!0):[]}function Xh(e,t){return e&&e.length?ni(e,Q(t,3),!0):[]}function Yh(e,t,n,o){var c=e==null?0:e.length;return c?(n&&typeof n!="number"&&Qe(e,t,n)&&(n=0,o=c),Gf(e,t,n,o)):[]}function Rc(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var c=n==null?0:ee(n);return c<0&&(c=Ne(o+c,0)),Fr(e,Q(t,3),c)}function Mc(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var c=o-1;return n!==s&&(c=ee(n),c=n<0?Ne(o+c,0):Ue(c,o-1)),Fr(e,Q(t,3),c,!0)}function Tc(e){var t=e==null?0:e.length;return t?Oe(e,1):[]}function jh(e){var t=e==null?0:e.length;return t?Oe(e,un):[]}function ep(e,t){var n=e==null?0:e.length;return n?(t=t===s?1:ee(t),Oe(e,t)):[]}function tp(e){for(var t=-1,n=e==null?0:e.length,o={};++t<n;){var c=e[t];o[c[0]]=c[1]}return o}function Ac(e){return e&&e.length?e[0]:s}function np(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var c=n==null?0:ee(n);return c<0&&(c=Ne(o+c,0)),An(e,t,c)}function rp(e){var t=e==null?0:e.length;return t?ht(e,0,-1):[]}var ip=re(function(e){var t=we(e,Ms);return t.length&&t[0]===e[0]?vs(t):[]}),sp=re(function(e){var t=pt(e),n=we(e,Ms);return t===pt(n)?t=s:n.pop(),n.length&&n[0]===e[0]?vs(n,Q(t,2)):[]}),op=re(function(e){var t=pt(e),n=we(e,Ms);return t=typeof t=="function"?t:s,t&&n.pop(),n.length&&n[0]===e[0]?vs(n,s,t):[]});function ap(e,t){return e==null?"":nf.call(e,t)}function pt(e){var t=e==null?0:e.length;return t?e[t-1]:s}function cp(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var c=o;return n!==s&&(c=ee(n),c=c<0?Ne(o+c,0):Ue(c,o-1)),t===t?Dd(e,t,c):Fr(e,ua,c,!0)}function lp(e,t){return e&&e.length?Ua(e,ee(t)):s}var up=re(Lc);function Lc(e,t){return e&&e.length&&t&&t.length?bs(e,t):e}function dp(e,t,n){return e&&e.length&&t&&t.length?bs(e,t,Q(n,2)):e}function fp(e,t,n){return e&&e.length&&t&&t.length?bs(e,t,s,n):e}var hp=Vt(function(e,t){var n=e==null?0:e.length,o=ps(e,t);return Ga(e,we(t,function(c){return Wt(c,n)?+c:c}).sort(ec)),o});function pp(e,t){var n=[];if(!(e&&e.length))return n;var o=-1,c=[],f=e.length;for(t=Q(t,3);++o<f;){var m=e[o];t(m,o,e)&&(n.push(m),c.push(o))}return Ga(e,c),n}function Vs(e){return e==null?e:af.call(e)}function mp(e,t,n){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&Qe(e,t,n)?(t=0,n=o):(t=t==null?0:ee(t),n=n===s?o:ee(n)),ht(e,t,n)):[]}function gp(e,t){return ti(e,t)}function _p(e,t,n){return Es(e,t,Q(n,2))}function vp(e,t){var n=e==null?0:e.length;if(n){var o=ti(e,t);if(o<n&&bt(e[o],t))return o}return-1}function yp(e,t){return ti(e,t,!0)}function wp(e,t,n){return Es(e,t,Q(n,2),!0)}function xp(e,t){var n=e==null?0:e.length;if(n){var o=ti(e,t,!0)-1;if(bt(e[o],t))return o}return-1}function bp(e){return e&&e.length?qa(e):[]}function Sp(e,t){return e&&e.length?qa(e,Q(t,2)):[]}function Cp(e){var t=e==null?0:e.length;return t?ht(e,1,t):[]}function Ep(e,t,n){return e&&e.length?(t=n||t===s?1:ee(t),ht(e,0,t<0?0:t)):[]}function Ip(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===s?1:ee(t),t=o-t,ht(e,t<0?0:t,o)):[]}function Rp(e,t){return e&&e.length?ni(e,Q(t,3),!1,!0):[]}function Mp(e,t){return e&&e.length?ni(e,Q(t,3)):[]}var Tp=re(function(e){return nn(Oe(e,1,Ie,!0))}),Ap=re(function(e){var t=pt(e);return Ie(t)&&(t=s),nn(Oe(e,1,Ie,!0),Q(t,2))}),Lp=re(function(e){var t=pt(e);return t=typeof t=="function"?t:s,nn(Oe(e,1,Ie,!0),s,t)});function Pp(e){return e&&e.length?nn(e):[]}function Np(e,t){return e&&e.length?nn(e,Q(t,2)):[]}function Bp(e,t){return t=typeof t=="function"?t:s,e&&e.length?nn(e,s,t):[]}function Ws(e){if(!(e&&e.length))return[];var t=0;return e=Xt(e,function(n){if(Ie(n))return t=Ne(n.length,t),!0}),os(t,function(n){return we(e,rs(n))})}function Pc(e,t){if(!(e&&e.length))return[];var n=Ws(e);return t==null?n:we(n,function(o){return nt(t,s,o)})}var Fp=re(function(e,t){return Ie(e)?lr(e,t):[]}),zp=re(function(e){return Rs(Xt(e,Ie))}),kp=re(function(e){var t=pt(e);return Ie(t)&&(t=s),Rs(Xt(e,Ie),Q(t,2))}),$p=re(function(e){var t=pt(e);return t=typeof t=="function"?t:s,Rs(Xt(e,Ie),s,t)}),Op=re(Ws);function Dp(e,t){return Ka(e||[],t||[],cr)}function Up(e,t){return Ka(e||[],t||[],fr)}var Vp=re(function(e){var t=e.length,n=t>1?e[t-1]:s;return n=typeof n=="function"?(e.pop(),n):s,Pc(e,n)});function Nc(e){var t=l(e);return t.__chain__=!0,t}function Wp(e,t){return t(e),e}function di(e,t){return t(e)}var Gp=Vt(function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,c=function(f){return ps(f,e)};return t>1||this.__actions__.length||!(o instanceof oe)||!Wt(n)?this.thru(c):(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:di,args:[c],thisArg:s}),new dt(o,this.__chain__).thru(function(f){return t&&!f.length&&f.push(s),f}))});function Hp(){return Nc(this)}function qp(){return new dt(this.value(),this.__chain__)}function Zp(){this.__values__===s&&(this.__values__=Zc(this.value()));var e=this.__index__>=this.__values__.length,t=e?s:this.__values__[this.__index__++];return{done:e,value:t}}function Qp(){return this}function Jp(e){for(var t,n=this;n instanceof Kr;){var o=Ic(n);o.__index__=0,o.__values__=s,t?c.__wrapped__=o:t=o;var c=o;n=n.__wrapped__}return c.__wrapped__=e,t}function Kp(){var e=this.__wrapped__;if(e instanceof oe){var t=e;return this.__actions__.length&&(t=new oe(this)),t=t.reverse(),t.__actions__.push({func:di,args:[Vs],thisArg:s}),new dt(t,this.__chain__)}return this.thru(Vs)}function Xp(){return Ja(this.__wrapped__,this.__actions__)}var Yp=ri(function(e,t,n){he.call(e,n)?++e[n]:Dt(e,n,1)});function jp(e,t,n){var o=j(e)?ca:Wf;return n&&Qe(e,t,n)&&(t=s),o(e,Q(t,3))}function em(e,t){var n=j(e)?Xt:Pa;return n(e,Q(t,3))}var tm=oc(Rc),nm=oc(Mc);function rm(e,t){return Oe(fi(e,t),1)}function im(e,t){return Oe(fi(e,t),un)}function sm(e,t,n){return n=n===s?1:ee(n),Oe(fi(e,t),n)}function Bc(e,t){var n=j(e)?lt:tn;return n(e,Q(t,3))}function Fc(e,t){var n=j(e)?Sd:La;return n(e,Q(t,3))}var om=ri(function(e,t,n){he.call(e,n)?e[n].push(t):Dt(e,n,[t])});function am(e,t,n,o){e=Xe(e)?e:Vn(e),n=n&&!o?ee(n):0;var c=e.length;return n<0&&(n=Ne(c+n,0)),_i(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&An(e,t,n)>-1}var cm=re(function(e,t,n){var o=-1,c=typeof t=="function",f=Xe(e)?b(e.length):[];return tn(e,function(m){f[++o]=c?nt(t,m,n):ur(m,t,n)}),f}),lm=ri(function(e,t,n){Dt(e,n,t)});function fi(e,t){var n=j(e)?we:$a;return n(e,Q(t,3))}function um(e,t,n,o){return e==null?[]:(j(t)||(t=t==null?[]:[t]),n=o?s:n,j(n)||(n=n==null?[]:[n]),Va(e,t,n))}var dm=ri(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function fm(e,t,n){var o=j(e)?ts:fa,c=arguments.length<3;return o(e,Q(t,4),n,c,tn)}function hm(e,t,n){var o=j(e)?Cd:fa,c=arguments.length<3;return o(e,Q(t,4),n,c,La)}function pm(e,t){var n=j(e)?Xt:Pa;return n(e,mi(Q(t,3)))}function mm(e){var t=j(e)?Ra:ah;return t(e)}function gm(e,t,n){(n?Qe(e,t,n):t===s)?t=1:t=ee(t);var o=j(e)?$f:ch;return o(e,t)}function _m(e){var t=j(e)?Of:uh;return t(e)}function vm(e){if(e==null)return 0;if(Xe(e))return _i(e)?Pn(e):e.length;var t=Ve(e);return t==vt||t==yt?e.size:ws(e).length}function ym(e,t,n){var o=j(e)?ns:dh;return n&&Qe(e,t,n)&&(t=s),o(e,Q(t,3))}var wm=re(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Qe(e,t[0],t[1])?t=[]:n>2&&Qe(t[0],t[1],t[2])&&(t=[t[0]]),Va(e,Oe(t,1),[])}),hi=jd||function(){return $e.Date.now()};function xm(e,t){if(typeof t!="function")throw new ut(p);return e=ee(e),function(){if(--e<1)return t.apply(this,arguments)}}function zc(e,t,n){return t=n?s:t,t=e&&t==null?e.length:t,Ut(e,Y,s,s,s,s,t)}function kc(e,t){var n;if(typeof t!="function")throw new ut(p);return e=ee(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=s),n}}var Gs=re(function(e,t,n){var o=$;if(n.length){var c=jt(n,Dn(Gs));o|=V}return Ut(e,o,t,n,c)}),$c=re(function(e,t,n){var o=$|H;if(n.length){var c=jt(n,Dn($c));o|=V}return Ut(t,o,e,n,c)});function Oc(e,t,n){t=n?s:t;var o=Ut(e,O,s,s,s,s,s,t);return o.placeholder=Oc.placeholder,o}function Dc(e,t,n){t=n?s:t;var o=Ut(e,U,s,s,s,s,s,t);return o.placeholder=Dc.placeholder,o}function Uc(e,t,n){var o,c,f,m,g,y,M=0,T=!1,L=!1,D=!0;if(typeof e!="function")throw new ut(p);t=mt(t)||0,Se(n)&&(T=!!n.leading,L="maxWait"in n,f=L?Ne(mt(n.maxWait)||0,t):f,D="trailing"in n?!!n.trailing:D);function q(Re){var St=o,qt=c;return o=c=s,M=Re,m=e.apply(qt,St),m}function J(Re){return M=Re,g=mr(ie,t),T?q(Re):m}function te(Re){var St=Re-y,qt=Re-M,ol=t-St;return L?Ue(ol,f-qt):ol}function K(Re){var St=Re-y,qt=Re-M;return y===s||St>=t||St<0||L&&qt>=f}function ie(){var Re=hi();if(K(Re))return ae(Re);g=mr(ie,te(Re))}function ae(Re){return g=s,D&&o?q(Re):(o=c=s,m)}function ot(){g!==s&&Xa(g),M=0,o=y=c=g=s}function Je(){return g===s?m:ae(hi())}function at(){var Re=hi(),St=K(Re);if(o=arguments,c=this,y=Re,St){if(g===s)return J(y);if(L)return Xa(g),g=mr(ie,t),q(y)}return g===s&&(g=mr(ie,t)),m}return at.cancel=ot,at.flush=Je,at}var bm=re(function(e,t){return Aa(e,1,t)}),Sm=re(function(e,t,n){return Aa(e,mt(t)||0,n)});function Cm(e){return Ut(e,ce)}function pi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ut(p);var n=function(){var o=arguments,c=t?t.apply(this,o):o[0],f=n.cache;if(f.has(c))return f.get(c);var m=e.apply(this,o);return n.cache=f.set(c,m)||f,m};return n.cache=new(pi.Cache||Ot),n}pi.Cache=Ot;function mi(e){if(typeof e!="function")throw new ut(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Em(e){return kc(2,e)}var Im=fh(function(e,t){t=t.length==1&&j(t[0])?we(t[0],rt(Q())):we(Oe(t,1),rt(Q()));var n=t.length;return re(function(o){for(var c=-1,f=Ue(o.length,n);++c<f;)o[c]=t[c].call(this,o[c]);return nt(e,this,o)})}),Hs=re(function(e,t){var n=jt(t,Dn(Hs));return Ut(e,V,s,t,n)}),Vc=re(function(e,t){var n=jt(t,Dn(Vc));return Ut(e,ne,s,t,n)}),Rm=Vt(function(e,t){return Ut(e,le,s,s,s,t)});function Mm(e,t){if(typeof e!="function")throw new ut(p);return t=t===s?t:ee(t),re(e,t)}function Tm(e,t){if(typeof e!="function")throw new ut(p);return t=t==null?0:Ne(ee(t),0),re(function(n){var o=n[t],c=sn(n,0,t);return o&&Yt(c,o),nt(e,this,c)})}function Am(e,t,n){var o=!0,c=!0;if(typeof e!="function")throw new ut(p);return Se(n)&&(o="leading"in n?!!n.leading:o,c="trailing"in n?!!n.trailing:c),Uc(e,t,{leading:o,maxWait:t,trailing:c})}function Lm(e){return zc(e,1)}function Pm(e,t){return Hs(Ts(t),e)}function Nm(){if(!arguments.length)return[];var e=arguments[0];return j(e)?e:[e]}function Bm(e){return ft(e,N)}function Fm(e,t){return t=typeof t=="function"?t:s,ft(e,N,t)}function zm(e){return ft(e,A|N)}function km(e,t){return t=typeof t=="function"?t:s,ft(e,A|N,t)}function $m(e,t){return t==null||Ta(e,t,ze(t))}function bt(e,t){return e===t||e!==e&&t!==t}var Om=ai(_s),Dm=ai(function(e,t){return e>=t}),yn=Fa(function(){return arguments}())?Fa:function(e){return Ce(e)&&he.call(e,"callee")&&!xa.call(e,"callee")},j=b.isArray,Um=na?rt(na):Jf;function Xe(e){return e!=null&&gi(e.length)&&!Gt(e)}function Ie(e){return Ce(e)&&Xe(e)}function Vm(e){return e===!0||e===!1||Ce(e)&&Ze(e)==Jn}var on=tf||no,Wm=ra?rt(ra):Kf;function Gm(e){return Ce(e)&&e.nodeType===1&&!gr(e)}function Hm(e){if(e==null)return!0;if(Xe(e)&&(j(e)||typeof e=="string"||typeof e.splice=="function"||on(e)||Un(e)||yn(e)))return!e.length;var t=Ve(e);if(t==vt||t==yt)return!e.size;if(pr(e))return!ws(e).length;for(var n in e)if(he.call(e,n))return!1;return!0}function qm(e,t){return dr(e,t)}function Zm(e,t,n){n=typeof n=="function"?n:s;var o=n?n(e,t):s;return o===s?dr(e,t,s,n):!!o}function qs(e){if(!Ce(e))return!1;var t=Ze(e);return t==Mr||t==mu||typeof e.message=="string"&&typeof e.name=="string"&&!gr(e)}function Qm(e){return typeof e=="number"&&Sa(e)}function Gt(e){if(!Se(e))return!1;var t=Ze(e);return t==Tr||t==Ao||t==pu||t==_u}function Wc(e){return typeof e=="number"&&e==ee(e)}function gi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kt}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ce(e){return e!=null&&typeof e=="object"}var Gc=ia?rt(ia):Yf;function Jm(e,t){return e===t||ys(e,t,zs(t))}function Km(e,t,n){return n=typeof n=="function"?n:s,ys(e,t,zs(t),n)}function Xm(e){return Hc(e)&&e!=+e}function Ym(e){if(Fh(e))throw new X(h);return za(e)}function jm(e){return e===null}function eg(e){return e==null}function Hc(e){return typeof e=="number"||Ce(e)&&Ze(e)==Xn}function gr(e){if(!Ce(e)||Ze(e)!=kt)return!1;var t=Wr(e);if(t===null)return!0;var n=he.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Or.call(n)==Jd}var Zs=sa?rt(sa):jf;function tg(e){return Wc(e)&&e>=-Kt&&e<=Kt}var qc=oa?rt(oa):eh;function _i(e){return typeof e=="string"||!j(e)&&Ce(e)&&Ze(e)==jn}function st(e){return typeof e=="symbol"||Ce(e)&&Ze(e)==Ar}var Un=aa?rt(aa):th;function ng(e){return e===s}function rg(e){return Ce(e)&&Ve(e)==er}function ig(e){return Ce(e)&&Ze(e)==yu}var sg=ai(xs),og=ai(function(e,t){return e<=t});function Zc(e){if(!e)return[];if(Xe(e))return _i(e)?wt(e):Ke(e);if(rr&&e[rr])return kd(e[rr]());var t=Ve(e),n=t==vt?cs:t==yt?zr:Vn;return n(e)}function Ht(e){if(!e)return e===0?e:0;if(e=mt(e),e===un||e===-un){var t=e<0?-1:1;return t*uu}return e===e?e:0}function ee(e){var t=Ht(e),n=t%1;return t===t?n?t-n:t:0}function Qc(e){return e?mn(ee(e),0,Mt):0}function mt(e){if(typeof e=="number")return e;if(st(e))return Ir;if(Se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Se(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ha(e);var n=Du.test(e);return n||Vu.test(e)?wd(e.slice(2),n?2:8):Ou.test(e)?Ir:+e}function Jc(e){return At(e,Ye(e))}function ag(e){return e?mn(ee(e),-Kt,Kt):e===0?e:0}function fe(e){return e==null?"":it(e)}var cg=$n(function(e,t){if(pr(t)||Xe(t)){At(t,ze(t),e);return}for(var n in t)he.call(t,n)&&cr(e,n,t[n])}),Kc=$n(function(e,t){At(t,Ye(t),e)}),vi=$n(function(e,t,n,o){At(t,Ye(t),e,o)}),lg=$n(function(e,t,n,o){At(t,ze(t),e,o)}),ug=Vt(ps);function dg(e,t){var n=kn(e);return t==null?n:Ma(n,t)}var fg=re(function(e,t){e=me(e);var n=-1,o=t.length,c=o>2?t[2]:s;for(c&&Qe(t[0],t[1],c)&&(o=1);++n<o;)for(var f=t[n],m=Ye(f),g=-1,y=m.length;++g<y;){var M=m[g],T=e[M];(T===s||bt(T,Bn[M])&&!he.call(e,M))&&(e[M]=f[M])}return e}),hg=re(function(e){return e.push(s,hc),nt(Xc,s,e)});function pg(e,t){return la(e,Q(t,3),Tt)}function mg(e,t){return la(e,Q(t,3),gs)}function gg(e,t){return e==null?e:ms(e,Q(t,3),Ye)}function _g(e,t){return e==null?e:Na(e,Q(t,3),Ye)}function vg(e,t){return e&&Tt(e,Q(t,3))}function yg(e,t){return e&&gs(e,Q(t,3))}function wg(e){return e==null?[]:jr(e,ze(e))}function xg(e){return e==null?[]:jr(e,Ye(e))}function Qs(e,t,n){var o=e==null?s:gn(e,t);return o===s?n:o}function bg(e,t){return e!=null&&gc(e,t,Hf)}function Js(e,t){return e!=null&&gc(e,t,qf)}var Sg=cc(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Dr.call(t)),e[t]=n},Xs(je)),Cg=cc(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Dr.call(t)),he.call(e,t)?e[t].push(n):e[t]=[n]},Q),Eg=re(ur);function ze(e){return Xe(e)?Ia(e):ws(e)}function Ye(e){return Xe(e)?Ia(e,!0):nh(e)}function Ig(e,t){var n={};return t=Q(t,3),Tt(e,function(o,c,f){Dt(n,t(o,c,f),o)}),n}function Rg(e,t){var n={};return t=Q(t,3),Tt(e,function(o,c,f){Dt(n,c,t(o,c,f))}),n}var Mg=$n(function(e,t,n){ei(e,t,n)}),Xc=$n(function(e,t,n,o){ei(e,t,n,o)}),Tg=Vt(function(e,t){var n={};if(e==null)return n;var o=!1;t=we(t,function(f){return f=rn(f,e),o||(o=f.length>1),f}),At(e,Bs(e),n),o&&(n=ft(n,A|F|N,Sh));for(var c=t.length;c--;)Is(n,t[c]);return n});function Ag(e,t){return Yc(e,mi(Q(t)))}var Lg=Vt(function(e,t){return e==null?{}:ih(e,t)});function Yc(e,t){if(e==null)return{};var n=we(Bs(e),function(o){return[o]});return t=Q(t),Wa(e,n,function(o,c){return t(o,c[0])})}function Pg(e,t,n){t=rn(t,e);var o=-1,c=t.length;for(c||(c=1,e=s);++o<c;){var f=e==null?s:e[Lt(t[o])];f===s&&(o=c,f=n),e=Gt(f)?f.call(e):f}return e}function Ng(e,t,n){return e==null?e:fr(e,t,n)}function Bg(e,t,n,o){return o=typeof o=="function"?o:s,e==null?e:fr(e,t,n,o)}var jc=dc(ze),el=dc(Ye);function Fg(e,t,n){var o=j(e),c=o||on(e)||Un(e);if(t=Q(t,4),n==null){var f=e&&e.constructor;c?n=o?new f:[]:Se(e)?n=Gt(f)?kn(Wr(e)):{}:n={}}return(c?lt:Tt)(e,function(m,g,y){return t(n,m,g,y)}),n}function zg(e,t){return e==null?!0:Is(e,t)}function kg(e,t,n){return e==null?e:Qa(e,t,Ts(n))}function $g(e,t,n,o){return o=typeof o=="function"?o:s,e==null?e:Qa(e,t,Ts(n),o)}function Vn(e){return e==null?[]:as(e,ze(e))}function Og(e){return e==null?[]:as(e,Ye(e))}function Dg(e,t,n){return n===s&&(n=t,t=s),n!==s&&(n=mt(n),n=n===n?n:0),t!==s&&(t=mt(t),t=t===t?t:0),mn(mt(e),t,n)}function Ug(e,t,n){return t=Ht(t),n===s?(n=t,t=0):n=Ht(n),e=mt(e),Zf(e,t,n)}function Vg(e,t,n){if(n&&typeof n!="boolean"&&Qe(e,t,n)&&(t=n=s),n===s&&(typeof t=="boolean"?(n=t,t=s):typeof e=="boolean"&&(n=e,e=s)),e===s&&t===s?(e=0,t=1):(e=Ht(e),t===s?(t=e,e=0):t=Ht(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var c=Ca();return Ue(e+c*(t-e+yd("1e-"+((c+"").length-1))),t)}return Ss(e,t)}var Wg=On(function(e,t,n){return t=t.toLowerCase(),e+(n?tl(t):t)});function tl(e){return Ks(fe(e).toLowerCase())}function nl(e){return e=fe(e),e&&e.replace(Gu,Pd).replace(ld,"")}function Gg(e,t,n){e=fe(e),t=it(t);var o=e.length;n=n===s?o:mn(ee(n),0,o);var c=n;return n-=t.length,n>=0&&e.slice(n,c)==t}function Hg(e){return e=fe(e),e&&Cu.test(e)?e.replace(No,Nd):e}function qg(e){return e=fe(e),e&&Au.test(e)?e.replace(Hi,"\\$&"):e}var Zg=On(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Qg=On(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Jg=sc("toLowerCase");function Kg(e,t,n){e=fe(e),t=ee(t);var o=t?Pn(e):0;if(!t||o>=t)return e;var c=(t-o)/2;return oi(Zr(c),n)+e+oi(qr(c),n)}function Xg(e,t,n){e=fe(e),t=ee(t);var o=t?Pn(e):0;return t&&o<t?e+oi(t-o,n):e}function Yg(e,t,n){e=fe(e),t=ee(t);var o=t?Pn(e):0;return t&&o<t?oi(t-o,n)+e:e}function jg(e,t,n){return n||t==null?t=0:t&&(t=+t),of(fe(e).replace(qi,""),t||0)}function e_(e,t,n){return(n?Qe(e,t,n):t===s)?t=1:t=ee(t),Cs(fe(e),t)}function t_(){var e=arguments,t=fe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var n_=On(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function r_(e,t,n){return n&&typeof n!="number"&&Qe(e,t,n)&&(t=n=s),n=n===s?Mt:n>>>0,n?(e=fe(e),e&&(typeof t=="string"||t!=null&&!Zs(t))&&(t=it(t),!t&&Ln(e))?sn(wt(e),0,n):e.split(t,n)):[]}var i_=On(function(e,t,n){return e+(n?" ":"")+Ks(t)});function s_(e,t,n){return e=fe(e),n=n==null?0:mn(ee(n),0,e.length),t=it(t),e.slice(n,n+t.length)==t}function o_(e,t,n){var o=l.templateSettings;n&&Qe(e,t,n)&&(t=s),e=fe(e),t=vi({},t,o,fc);var c=vi({},t.imports,o.imports,fc),f=ze(c),m=as(c,f),g,y,M=0,T=t.interpolate||Lr,L="__p += '",D=ls((t.escape||Lr).source+"|"+T.source+"|"+(T===Bo?$u:Lr).source+"|"+(t.evaluate||Lr).source+"|$","g"),q="//# sourceURL="+(he.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pd+"]")+`
`;e.replace(D,function(K,ie,ae,ot,Je,at){return ae||(ae=ot),L+=e.slice(M,at).replace(Hu,Bd),ie&&(g=!0,L+=`' +
__e(`+ie+`) +
'`),Je&&(y=!0,L+=`';
`+Je+`;
__p += '`),ae&&(L+=`' +
((__t = (`+ae+`)) == null ? '' : __t) +
'`),M=at+K.length,K}),L+=`';
`;var J=he.call(t,"variable")&&t.variable;if(!J)L=`with (obj) {
`+L+`
}
`;else if(zu.test(J))throw new X(_);L=(y?L.replace(wu,""):L).replace(xu,"$1").replace(bu,"$1;"),L="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var te=il(function(){return de(f,q+"return "+L).apply(s,m)});if(te.source=L,qs(te))throw te;return te}function a_(e){return fe(e).toLowerCase()}function c_(e){return fe(e).toUpperCase()}function l_(e,t,n){if(e=fe(e),e&&(n||t===s))return ha(e);if(!e||!(t=it(t)))return e;var o=wt(e),c=wt(t),f=pa(o,c),m=ma(o,c)+1;return sn(o,f,m).join("")}function u_(e,t,n){if(e=fe(e),e&&(n||t===s))return e.slice(0,_a(e)+1);if(!e||!(t=it(t)))return e;var o=wt(e),c=ma(o,wt(t))+1;return sn(o,0,c).join("")}function d_(e,t,n){if(e=fe(e),e&&(n||t===s))return e.replace(qi,"");if(!e||!(t=it(t)))return e;var o=wt(e),c=pa(o,wt(t));return sn(o,c).join("")}function f_(e,t){var n=Ae,o=Le;if(Se(t)){var c="separator"in t?t.separator:c;n="length"in t?ee(t.length):n,o="omission"in t?it(t.omission):o}e=fe(e);var f=e.length;if(Ln(e)){var m=wt(e);f=m.length}if(n>=f)return e;var g=n-Pn(o);if(g<1)return o;var y=m?sn(m,0,g).join(""):e.slice(0,g);if(c===s)return y+o;if(m&&(g+=y.length-g),Zs(c)){if(e.slice(g).search(c)){var M,T=y;for(c.global||(c=ls(c.source,fe(Fo.exec(c))+"g")),c.lastIndex=0;M=c.exec(T);)var L=M.index;y=y.slice(0,L===s?g:L)}}else if(e.indexOf(it(c),g)!=g){var D=y.lastIndexOf(c);D>-1&&(y=y.slice(0,D))}return y+o}function h_(e){return e=fe(e),e&&Su.test(e)?e.replace(Po,Ud):e}var p_=On(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Ks=sc("toUpperCase");function rl(e,t,n){return e=fe(e),t=n?s:t,t===s?zd(e)?Gd(e):Rd(e):e.match(t)||[]}var il=re(function(e,t){try{return nt(e,s,t)}catch(n){return qs(n)?n:new X(n)}}),m_=Vt(function(e,t){return lt(t,function(n){n=Lt(n),Dt(e,n,Gs(e[n],e))}),e});function g_(e){var t=e==null?0:e.length,n=Q();return e=t?we(e,function(o){if(typeof o[1]!="function")throw new ut(p);return[n(o[0]),o[1]]}):[],re(function(o){for(var c=-1;++c<t;){var f=e[c];if(nt(f[0],this,o))return nt(f[1],this,o)}})}function __(e){return Vf(ft(e,A))}function Xs(e){return function(){return e}}function v_(e,t){return e==null||e!==e?t:e}var y_=ac(),w_=ac(!0);function je(e){return e}function Ys(e){return ka(typeof e=="function"?e:ft(e,A))}function x_(e){return Oa(ft(e,A))}function b_(e,t){return Da(e,ft(t,A))}var S_=re(function(e,t){return function(n){return ur(n,e,t)}}),C_=re(function(e,t){return function(n){return ur(e,n,t)}});function js(e,t,n){var o=ze(t),c=jr(t,o);n==null&&!(Se(t)&&(c.length||!o.length))&&(n=t,t=e,e=this,c=jr(t,ze(t)));var f=!(Se(n)&&"chain"in n)||!!n.chain,m=Gt(e);return lt(c,function(g){var y=t[g];e[g]=y,m&&(e.prototype[g]=function(){var M=this.__chain__;if(f||M){var T=e(this.__wrapped__),L=T.__actions__=Ke(this.__actions__);return L.push({func:y,args:arguments,thisArg:e}),T.__chain__=M,T}return y.apply(e,Yt([this.value()],arguments))})}),e}function E_(){return $e._===this&&($e._=Kd),this}function eo(){}function I_(e){return e=ee(e),re(function(t){return Ua(t,e)})}var R_=Ls(we),M_=Ls(ca),T_=Ls(ns);function sl(e){return $s(e)?rs(Lt(e)):sh(e)}function A_(e){return function(t){return e==null?s:gn(e,t)}}var L_=lc(),P_=lc(!0);function to(){return[]}function no(){return!1}function N_(){return{}}function B_(){return""}function F_(){return!0}function z_(e,t){if(e=ee(e),e<1||e>Kt)return[];var n=Mt,o=Ue(e,Mt);t=Q(t),e-=Mt;for(var c=os(o,t);++n<e;)t(n);return c}function k_(e){return j(e)?we(e,Lt):st(e)?[e]:Ke(Ec(fe(e)))}function $_(e){var t=++Qd;return fe(e)+t}var O_=si(function(e,t){return e+t},0),D_=Ps("ceil"),U_=si(function(e,t){return e/t},1),V_=Ps("floor");function W_(e){return e&&e.length?Yr(e,je,_s):s}function G_(e,t){return e&&e.length?Yr(e,Q(t,2),_s):s}function H_(e){return da(e,je)}function q_(e,t){return da(e,Q(t,2))}function Z_(e){return e&&e.length?Yr(e,je,xs):s}function Q_(e,t){return e&&e.length?Yr(e,Q(t,2),xs):s}var J_=si(function(e,t){return e*t},1),K_=Ps("round"),X_=si(function(e,t){return e-t},0);function Y_(e){return e&&e.length?ss(e,je):0}function j_(e,t){return e&&e.length?ss(e,Q(t,2)):0}return l.after=xm,l.ary=zc,l.assign=cg,l.assignIn=Kc,l.assignInWith=vi,l.assignWith=lg,l.at=ug,l.before=kc,l.bind=Gs,l.bindAll=m_,l.bindKey=$c,l.castArray=Nm,l.chain=Nc,l.chunk=Vh,l.compact=Wh,l.concat=Gh,l.cond=g_,l.conforms=__,l.constant=Xs,l.countBy=Yp,l.create=dg,l.curry=Oc,l.curryRight=Dc,l.debounce=Uc,l.defaults=fg,l.defaultsDeep=hg,l.defer=bm,l.delay=Sm,l.difference=Hh,l.differenceBy=qh,l.differenceWith=Zh,l.drop=Qh,l.dropRight=Jh,l.dropRightWhile=Kh,l.dropWhile=Xh,l.fill=Yh,l.filter=em,l.flatMap=rm,l.flatMapDeep=im,l.flatMapDepth=sm,l.flatten=Tc,l.flattenDeep=jh,l.flattenDepth=ep,l.flip=Cm,l.flow=y_,l.flowRight=w_,l.fromPairs=tp,l.functions=wg,l.functionsIn=xg,l.groupBy=om,l.initial=rp,l.intersection=ip,l.intersectionBy=sp,l.intersectionWith=op,l.invert=Sg,l.invertBy=Cg,l.invokeMap=cm,l.iteratee=Ys,l.keyBy=lm,l.keys=ze,l.keysIn=Ye,l.map=fi,l.mapKeys=Ig,l.mapValues=Rg,l.matches=x_,l.matchesProperty=b_,l.memoize=pi,l.merge=Mg,l.mergeWith=Xc,l.method=S_,l.methodOf=C_,l.mixin=js,l.negate=mi,l.nthArg=I_,l.omit=Tg,l.omitBy=Ag,l.once=Em,l.orderBy=um,l.over=R_,l.overArgs=Im,l.overEvery=M_,l.overSome=T_,l.partial=Hs,l.partialRight=Vc,l.partition=dm,l.pick=Lg,l.pickBy=Yc,l.property=sl,l.propertyOf=A_,l.pull=up,l.pullAll=Lc,l.pullAllBy=dp,l.pullAllWith=fp,l.pullAt=hp,l.range=L_,l.rangeRight=P_,l.rearg=Rm,l.reject=pm,l.remove=pp,l.rest=Mm,l.reverse=Vs,l.sampleSize=gm,l.set=Ng,l.setWith=Bg,l.shuffle=_m,l.slice=mp,l.sortBy=wm,l.sortedUniq=bp,l.sortedUniqBy=Sp,l.split=r_,l.spread=Tm,l.tail=Cp,l.take=Ep,l.takeRight=Ip,l.takeRightWhile=Rp,l.takeWhile=Mp,l.tap=Wp,l.throttle=Am,l.thru=di,l.toArray=Zc,l.toPairs=jc,l.toPairsIn=el,l.toPath=k_,l.toPlainObject=Jc,l.transform=Fg,l.unary=Lm,l.union=Tp,l.unionBy=Ap,l.unionWith=Lp,l.uniq=Pp,l.uniqBy=Np,l.uniqWith=Bp,l.unset=zg,l.unzip=Ws,l.unzipWith=Pc,l.update=kg,l.updateWith=$g,l.values=Vn,l.valuesIn=Og,l.without=Fp,l.words=rl,l.wrap=Pm,l.xor=zp,l.xorBy=kp,l.xorWith=$p,l.zip=Op,l.zipObject=Dp,l.zipObjectDeep=Up,l.zipWith=Vp,l.entries=jc,l.entriesIn=el,l.extend=Kc,l.extendWith=vi,js(l,l),l.add=O_,l.attempt=il,l.camelCase=Wg,l.capitalize=tl,l.ceil=D_,l.clamp=Dg,l.clone=Bm,l.cloneDeep=zm,l.cloneDeepWith=km,l.cloneWith=Fm,l.conformsTo=$m,l.deburr=nl,l.defaultTo=v_,l.divide=U_,l.endsWith=Gg,l.eq=bt,l.escape=Hg,l.escapeRegExp=qg,l.every=jp,l.find=tm,l.findIndex=Rc,l.findKey=pg,l.findLast=nm,l.findLastIndex=Mc,l.findLastKey=mg,l.floor=V_,l.forEach=Bc,l.forEachRight=Fc,l.forIn=gg,l.forInRight=_g,l.forOwn=vg,l.forOwnRight=yg,l.get=Qs,l.gt=Om,l.gte=Dm,l.has=bg,l.hasIn=Js,l.head=Ac,l.identity=je,l.includes=am,l.indexOf=np,l.inRange=Ug,l.invoke=Eg,l.isArguments=yn,l.isArray=j,l.isArrayBuffer=Um,l.isArrayLike=Xe,l.isArrayLikeObject=Ie,l.isBoolean=Vm,l.isBuffer=on,l.isDate=Wm,l.isElement=Gm,l.isEmpty=Hm,l.isEqual=qm,l.isEqualWith=Zm,l.isError=qs,l.isFinite=Qm,l.isFunction=Gt,l.isInteger=Wc,l.isLength=gi,l.isMap=Gc,l.isMatch=Jm,l.isMatchWith=Km,l.isNaN=Xm,l.isNative=Ym,l.isNil=eg,l.isNull=jm,l.isNumber=Hc,l.isObject=Se,l.isObjectLike=Ce,l.isPlainObject=gr,l.isRegExp=Zs,l.isSafeInteger=tg,l.isSet=qc,l.isString=_i,l.isSymbol=st,l.isTypedArray=Un,l.isUndefined=ng,l.isWeakMap=rg,l.isWeakSet=ig,l.join=ap,l.kebabCase=Zg,l.last=pt,l.lastIndexOf=cp,l.lowerCase=Qg,l.lowerFirst=Jg,l.lt=sg,l.lte=og,l.max=W_,l.maxBy=G_,l.mean=H_,l.meanBy=q_,l.min=Z_,l.minBy=Q_,l.stubArray=to,l.stubFalse=no,l.stubObject=N_,l.stubString=B_,l.stubTrue=F_,l.multiply=J_,l.nth=lp,l.noConflict=E_,l.noop=eo,l.now=hi,l.pad=Kg,l.padEnd=Xg,l.padStart=Yg,l.parseInt=jg,l.random=Vg,l.reduce=fm,l.reduceRight=hm,l.repeat=e_,l.replace=t_,l.result=Pg,l.round=K_,l.runInContext=v,l.sample=mm,l.size=vm,l.snakeCase=n_,l.some=ym,l.sortedIndex=gp,l.sortedIndexBy=_p,l.sortedIndexOf=vp,l.sortedLastIndex=yp,l.sortedLastIndexBy=wp,l.sortedLastIndexOf=xp,l.startCase=i_,l.startsWith=s_,l.subtract=X_,l.sum=Y_,l.sumBy=j_,l.template=o_,l.times=z_,l.toFinite=Ht,l.toInteger=ee,l.toLength=Qc,l.toLower=a_,l.toNumber=mt,l.toSafeInteger=ag,l.toString=fe,l.toUpper=c_,l.trim=l_,l.trimEnd=u_,l.trimStart=d_,l.truncate=f_,l.unescape=h_,l.uniqueId=$_,l.upperCase=p_,l.upperFirst=Ks,l.each=Bc,l.eachRight=Fc,l.first=Ac,js(l,function(){var e={};return Tt(l,function(t,n){he.call(l.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),l.VERSION=d,lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),lt(["drop","take"],function(e,t){oe.prototype[e]=function(n){n=n===s?1:Ne(ee(n),0);var o=this.__filtered__&&!t?new oe(this):this.clone();return o.__filtered__?o.__takeCount__=Ue(n,o.__takeCount__):o.__views__.push({size:Ue(n,Mt),type:e+(o.__dir__<0?"Right":"")}),o},oe.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),lt(["filter","map","takeWhile"],function(e,t){var n=t+1,o=n==To||n==lu;oe.prototype[e]=function(c){var f=this.clone();return f.__iteratees__.push({iteratee:Q(c,3),type:n}),f.__filtered__=f.__filtered__||o,f}}),lt(["head","last"],function(e,t){var n="take"+(t?"Right":"");oe.prototype[e]=function(){return this[n](1).value()[0]}}),lt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");oe.prototype[e]=function(){return this.__filtered__?new oe(this):this[n](1)}}),oe.prototype.compact=function(){return this.filter(je)},oe.prototype.find=function(e){return this.filter(e).head()},oe.prototype.findLast=function(e){return this.reverse().find(e)},oe.prototype.invokeMap=re(function(e,t){return typeof e=="function"?new oe(this):this.map(function(n){return ur(n,e,t)})}),oe.prototype.reject=function(e){return this.filter(mi(Q(e)))},oe.prototype.slice=function(e,t){e=ee(e);var n=this;return n.__filtered__&&(e>0||t<0)?new oe(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==s&&(t=ee(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},oe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},oe.prototype.toArray=function(){return this.take(Mt)},Tt(oe.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),c=l[o?"take"+(t=="last"?"Right":""):t],f=o||/^find/.test(t);!c||(l.prototype[t]=function(){var m=this.__wrapped__,g=o?[1]:arguments,y=m instanceof oe,M=g[0],T=y||j(m),L=function(ie){var ae=c.apply(l,Yt([ie],g));return o&&D?ae[0]:ae};T&&n&&typeof M=="function"&&M.length!=1&&(y=T=!1);var D=this.__chain__,q=!!this.__actions__.length,J=f&&!D,te=y&&!q;if(!f&&T){m=te?m:new oe(this);var K=e.apply(m,g);return K.__actions__.push({func:di,args:[L],thisArg:s}),new dt(K,D)}return J&&te?e.apply(this,g):(K=this.thru(L),J?o?K.value()[0]:K.value():K)})}),lt(["pop","push","shift","sort","splice","unshift"],function(e){var t=kr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var c=arguments;if(o&&!this.__chain__){var f=this.value();return t.apply(j(f)?f:[],c)}return this[n](function(m){return t.apply(j(m)?m:[],c)})}}),Tt(oe.prototype,function(e,t){var n=l[t];if(n){var o=n.name+"";he.call(zn,o)||(zn[o]=[]),zn[o].push({name:t,func:n})}}),zn[ii(s,H).name]=[{name:"wrapper",func:s}],oe.prototype.clone=hf,oe.prototype.reverse=pf,oe.prototype.value=mf,l.prototype.at=Gp,l.prototype.chain=Hp,l.prototype.commit=qp,l.prototype.next=Zp,l.prototype.plant=Jp,l.prototype.reverse=Kp,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=Xp,l.prototype.first=l.prototype.head,rr&&(l.prototype[rr]=Qp),l},Nn=Hd();dn?((dn.exports=Nn)._=Nn,Yi._=Nn):$e._=Nn}).call(_r)})(Sn,Sn.exports);var Ft;(function(i){i.FAILURE="FAILURE",i.FETCH_CARDS="FETCH_CARDS",i.FETCH_CARDS_SUCCESS="FETCH_CARDS_SUCCESSS",i.SHOW_MORE_CARDS="SHOW_MORE_CARDS"})(Ft||(Ft={}));const r0=()=>(i,r)=>{switch(r.type){case Ft.FAILURE:return ge(se({},i),{error:r.payload,fetchCards:!1});case Ft.FETCH_CARDS:return ge(se({},i),{error:null,fetchCards:!0});case Ft.FETCH_CARDS_SUCCESS:{const s=Math.min(i.batchSize,r.payload.length);return ge(se({},i),{cards:r.payload,visibleCount:s,fetchCards:!1})}case Ft.SHOW_MORE_CARDS:{const s=Math.min(i.batchSize+i.visibleCount,i.cards.length);return ge(se({},i),{visibleCount:s})}default:return i}};function i0(i,r){const s=r0(),[d,u]=R.exports.useReducer(s,i);return R.exports.useEffect(()=>{let h=!1;const p=async()=>{try{const _=await r();h||u({type:Ft.FETCH_CARDS_SUCCESS,payload:_})}catch(_){if(!h){const w=Nt(_);u({type:Ft.FAILURE,payload:w})}}};return d.fetchCards&&p(),()=>{h=!0}},[d.fetchCards,r,u]),[d,u]}vo(2);vo(3);function vo(i){if(typeof i!="number"||Number.isNaN(i)||i<1||i===Number.POSITIVE_INFINITY)throw new Error("`"+i+"` is not a valid argument for `n-gram`");return r;function r(s){var d=[],u,h;if(s==null||(h=s.slice?s:String(s),u=h.length-i+1,u<1))return d;for(;u--;)d[u]=h.slice(u,u+i);return d}}class Zn{constructor(r){this.id=r.id,this.uri=r.uri,this.name=r.name,r.description&&(this.description=r.description),r.media_type&&(this.media_type=r.media_type)}}class Cn{constructor(r){this.id=r.id,this.event_datetime=Bt(r.event_datetime),this.body_ref=r.body_ref.id,r.agenda_uri&&(this.agenda_uri=r.agenda_uri),r.minutes_uri&&(this.minutes_uri=r.minutes_uri),typeof r.body_ref=="object"&&!(r.body_ref instanceof xe)&&(this.body=new bi(r.body_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id),r.hover_thumbnail_ref&&(r.hover_thumbnail_ref instanceof xe?this.hover_thumbnail_ref=r.hover_thumbnail_ref.id:typeof r.hover_thumbnail_ref=="object"&&(this.hover_thumbnail=new Zn(r.hover_thumbnail_ref))),r.static_thumbnail_ref&&(r.static_thumbnail_ref instanceof xe?this.static_thumbnail_ref=r.static_thumbnail_ref.id:typeof r.static_thumbnail_ref=="object"&&(this.static_thumbnail=new Zn(r.static_thumbnail_ref)))}}class bl{constructor(r){this.id=r.id,this.context_span=r.context_span,this.datetime_weighted_value=r.datetime_weighted_value,this.event_ref=r.event_ref.id,this.stemmed_gram=r.stemmed_gram,this.unstemmed_gram=r.unstemmed_gram,this.value=r.value,typeof r.event_ref=="object"&&!(r.event_ref instanceof xe)&&(this.event=new Cn(r.event_ref))}}class Sl extends He{constructor(r){super(E.IndexedEventGram,r)}async getMatchingGrams(r){const s=this.networkService.getDocuments(E.IndexedEventGram,[Ee("stemmed_gram",be.eq,r)]);return this.createModels(s,bl,`getMatchingGrams(${r})`)}async getKeyGramsForEvent(r){const s=this.networkService.getDocuments(E.IndexedEventGram,[Ee("event_ref",be.eq,Be(pe.getDb(),r)),Ge("value",Fe.desc),wn(5)]);return this.createModels(s,bl,`getKeyGramsForEvent(${r})`)}}class Si extends He{constructor(r){super(E.Event,r);this.indexedEventGramService=new Sl(r)}async getEventById(r){const s=this.networkService.getDocument(r,E.Event,new ke([new Me(E.Body,G.EventBodyRef)]));return this.createModel(s,Cn,`getEventById(${r})`)}async getFullEventById(r){const s=this.networkService.getDocument(r,E.Event,new ke([new Me(E.Body,G.EventBodyRef),new Me(E.File,G.EventStaticThumbnailRef),new Me(E.File,G.EventHoverThumbnailRef)]));return this.createModel(s,Cn,`getFullEventById(${r})`)}async getEvents(r,s,d,u,h){if(s.length>10)return Promise.reject(new Error(`Number of bodies exceeded ${_o}.`));const p=[];if(s.length>0){const w=s.map(x=>Be(pe.getDb(),E.Body,x));p.push(Ee(G.EventBodyRef,be.in,w))}if(d.start){const w=so.fromDate(d.start);p.push(Ee("event_datetime",be.gteq,w))}if(d.end){const w=new Date(d.end);w.setUTCDate(w.getUTCDate()+1);const x=so.fromDate(w);p.push(Ee("event_datetime",be.lteq,x))}if(p.push(Ge(u.by,u.order)),h){const w=so.fromDate(h);p.push(oo(w))}p.push(wn(r));const _=this.networkService.getDocuments(E.Event,p,new ke([new Me(E.Body,G.EventBodyRef)]));return this.createModels(_,Cn,`getEvents([${s}], ${JSON.stringify(d)}, ${JSON.stringify(u)}, ${h==null?void 0:h.toISOString}})`)}async getRenderableEvent(r){try{const d=(await this.indexedEventGramService.getKeyGramsForEvent(`${E.Event}/${r.id}`)).reduce((u,h)=>(h.unstemmed_gram!==void 0&&u.push(h.unstemmed_gram),u),[]);return Promise.resolve(ge(se({},r),{keyGrams:d}))}catch(s){const d=Nt(s);return d.message=`eventService_getRenderableEvent(${JSON.stringify(r)})_${d.message}`,Promise.reject(d)}}}const yr=i=>{let r=i.replace(/[\t\n]+/g," ");return r=r.replace(/[\-\-]/g," "),r=r.replace(/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,""),r=r.replace(/\s{2,}/g," "),r.trim()};class s0{constructor(r,s,d,u,h,p){this.eventRef=`${E.Event}/${r}`,this.pureRelevance=s,this.datetimeWeightedRelevance=d,this.containedGrams=u,this.selectedGram=h,this.selectedContextSpan=p}}class o0{constructor(r){this.networkService=pe.getInstance(r.options,r.settings),this.eventService=new Si(r),this.indexedEventGramService=new Sl(r),this.serviceName="EventSearchService"}cleanText(r){const s=yr(r);return vr(s.split(" "))}getStemmedGrams(r){const s=this.cleanText(r),d=[];return Array.from([1,2,3]).forEach(u=>{vo(u)(s).forEach(p=>{d.push(p.map(_=>wi(_)).join(" ").toLowerCase())})}),d}async searchEvents(r){const d=this.getStemmedGrams(r).map(p=>this.indexedEventGramService.getMatchingGrams(p)),u=new Map,h=[];try{return await Promise.allSettled(d).then(p=>{p.forEach(_=>{if(_.status==="fulfilled")_.value.forEach(w=>{if(w.event_ref!==void 0){const x=u.get(w.event_ref);x===void 0?u.set(w.event_ref,[w]):x.push(w)}});else if(!(_.reason instanceof go))throw _.reason});for(const[_,w]of u){const x=Sn.exports.maxBy(w,"value");let S="",A="";x&&(S=(x==null?void 0:x.context_span)||"",A=(x==null?void 0:x.unstemmed_gram)||"");const F=w.reduce((N,z)=>(z.unstemmed_gram!==void 0&&N.push(z.unstemmed_gram),N),[]);h.push(new s0(_,Sn.exports.sumBy(w,"value"),Sn.exports.sumBy(w,"datetime_weighted_value"),F,A,S))}}),Promise.resolve(h)}catch(p){const _=Nt(p);return _.message=`${this.serviceName}_searchEvents(${r})_${_.message}`,Promise.reject(_)}}async getRenderableEvent(r){const s=r.eventRef.split("/")[1],d=this.eventService.getEventById(s),u=this.indexedEventGramService.getKeyGramsForEvent(r.eventRef);try{const[h,p]=await Promise.all([d,u]),_=p.reduce((w,x)=>(x.unstemmed_gram!==void 0&&w.push(x.unstemmed_gram),w),[]);return Promise.resolve(ge(se({},r),{event:h,keyGrams:_}))}catch(h){const p=Nt(h);return p.message=`${this.serviceName}_getRenderableEvent(${r.eventRef})_${p.message}`,Promise.reject(p)}}}class Ci extends He{constructor(r){super(E.File,r)}async getFileById(r){const s=this.networkService.getDocument(r,E.File);return this.createModel(s,Zn,`getFileById(${r})`)}}var Cl=k.div({position:"absolute",height:"100%",width:"100%"});const a0=hv`
  0% {
    transform: translateX(-100%);
  }
  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
`,c0=k.div(i=>({position:"relative",width:"100%",height:"100%","& > div, & > div:nth-of-type(2):after":{position:"absolute",inset:0},"& > div:first-of-type":{opacity:i.isLoading?0:1},"& > div:nth-of-type(2)":{display:i.isLoading?"block":"none",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.11)",overflow:"hidden"},"& > div:nth-of-type(2):after":{content:'""',animation:`${a0} 1.6s linear 0.5s infinite`,backgroundImage:"linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.04), transparent)",transform:"translateX(-100%)"}})),yo=({contentIsLoading:i,children:r,placeholderStyle:s})=>C(c0,{isLoading:i,children:[a("div",{children:r}),a("div",{style:s})]}),It={lightgrey:"#DDDDDD",grey:"#595959",black:"#111111",white:"#FFFFFF",basicGrey:"#ececec",dark_blue:"#00458b"},Ei=" \u2022 ",El={COLORS:{ODD_CELL:It.white,EVEN_CELL:It.lightgrey,ACTIVE_UNDERLINE:It.dark_blue}},l0=k.section({marginBottom:0}),u0=k.div({position:"relative","& > img":{position:"absolute",inset:0},"& > img:first-of-type":{zIndex:1},"& > img:last-of-type":{zIndex:2,opacity:0},"& > img:last-of-type:hover":{opacity:1}}),Il=({event:i,tags:r,excerpt:s,gram:d,query:u})=>{var H,Z,O,U,V;const{language:h}=Ct(),{firebaseConfig:p,municipality:_}=Te(),[w,x]=R.exports.useState(!0),S=R.exports.useCallback(async()=>{const ne=new Ci(p),{networkService:Y}=ne,le=[Promise.resolve(void 0),Promise.resolve(void 0)];i.static_thumbnail_ref&&(le[0]=ne.getFileById(i.static_thumbnail_ref).then(Le=>Y.getDownloadUrl(Le.uri)).catch(()=>Promise.resolve(void 0))),i.hover_thumbnail_ref&&(le[1]=ne.getFileById(i.hover_thumbnail_ref).then(Le=>Y.getDownloadUrl(Le.uri)).catch(()=>Promise.resolve(void 0)));const[ce,Ae]=await Promise.all(le);return Promise.resolve({staticThumbNailUrl:ce,hoverThumbNailUrl:Ae})},[p,i.static_thumbnail_ref,i.hover_thumbnail_ref]),{state:A}=De({isLoading:!1,error:null,hasFetchRequest:!0},S),F=(H=i.event_datetime)==null?void 0:H.toLocaleDateString(h,{timeZone:_.timeZone,month:"long",day:"numeric",year:"numeric"}),N=(Z=i.body)==null?void 0:Z.name,z=R.exports.useMemo(()=>{const ne=yr(u||""),Y=vr(ne.split(" "));return d&&d.length>0&&Y.push(d),Y.length===0?[]:[new RegExp(`\\b(${Y.join("|")})`,"g")]},[u,d]),B=`${(O=i.body)==null?void 0:O.name} - ${F}`,$=r.map(ne=>ne.toLowerCase()).join(Ei);return a(l0,{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:C("div",{className:"mzp-c-card-block-link",children:[a("div",{className:"mzp-c-card-media-wrapper",children:a(Cl,{children:a(yo,{contentIsLoading:w,children:C(u0,{children:[a("img",{className:"mzp-c-card-image",src:(U=A.data)==null?void 0:U.staticThumbNailUrl,alt:B,onLoad:()=>x(!1)}),a("img",{className:"mzp-c-card-image",src:(V=A.data)==null?void 0:V.hoverThumbNailUrl,alt:B})]})})})}),C("div",{className:"mzp-c-card-content",children:[a("div",{className:"mzp-c-card-tag",children:P.committee}),a("h2",{className:"mzp-c-card-title",children:F}),a("p",{className:"mzp-c-card-desc",children:N}),s&&a("p",{className:"mzp-c-card-desc",style:{fontStyle:"italic",marginTop:"1rem"},children:a(dl,{caseSensitive:!1,searchWords:z,textToHighlight:`"${s}"`})}),r.length>0&&C(Pt,{children:[a("p",{className:"mzp-c-card-meta",children:P.keywords}),a("p",{className:"mzp-c-card-desc",children:$})]})]})]})})},d0=k.div({display:"flex",flexDirection:"column",gap:4,[`@media (min-width:${ue.tablet})`]:{flexDirection:"row",flexWrap:"wrap","& > div:last-of-type:not(:first-of-type), & > button:last-of-type":{marginLeft:"auto"}}}),Rl=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Ml=k.button({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%","& > svg":{marginLeft:24,width:16,height:16}});Ml.displayName="TriggerButton";const Tl=k(xi)({maxWidth:"100% !important",boxShadow:"none !important",border:"2px solid #9595a2 !important"});Tl.displayName="StyledPopup";const Al=k(xi.Content)({flexGrow:1,overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"});Al.displayName="ContentContainer";const Ll=k.div({maxHeight:"45vh",display:"flex",flexDirection:"column"});Ll.displayName="PopupContainer";const Pl=k.div({display:"flex",justifyContent:"space-between",padding:".833em 0 0",minWidth:"256px"});Pl.displayName="ButtonContainer";const wo=({name:i,clear:r,getTextRep:s,isActive:d,popupIsOpen:u,setPopupIsOpen:h,handlePopupClose:p,closeOnChange:_,children:w,hasRequiredError:x,hasLimitError:S,limit:A})=>{const F=R.exports.useRef(null),N=Sn.exports.some([x,S]),z=R.exports.useMemo(()=>{const O=[];return x&&O.push(`Please select at least one ${i.toLowerCase()}.`),S&&O.push(`Please select only ${A} or fewer ${i.toLowerCase()}s.`),O},[x,S,i,A]),B=()=>h(!1),$=()=>{h(O=>!O)},H=()=>{h(!1),!N&&p&&p()},Z=()=>{r()};return C(R.exports.Fragment,{children:[a(Tl,{basic:!0,flowing:!0,context:F.current||void 0,on:"click",open:u,onClose:B,pinned:!0,offset:[0,-5],position:"bottom left",positionFixed:!0,trigger:C(Ml,{className:"mzp-c-button mzp-t-lg mzp-t-neutral",onClick:$,children:[s(),a(Rl,{})]}),children:C(Ll,{children:[a(Al,{children:w}),N&&a("div",{className:"mzp-c-form-errors",style:{margin:"24px 0"},children:a("ul",{className:"mzp-u-list-styled",children:z.map(O=>a("li",{children:O},O))})}),!_&&C(Pl,{children:[a("button",{className:"mzp-c-button mzp-t-md mzp-t-neutral",disabled:!d(),onClick:Z,children:P.clear}),a("button",{className:"mzp-c-button mzp-t-md mzp-t-product",disabled:N,onClick:H,children:P.save})]})]})}),a("div",{ref:F})]})};function Qn(i,r){if(isNaN(i.getTime()))return;const d=i.toLocaleString("en-US",{timeZone:r,timeZoneName:"short"}).split(" ").pop(),u=i.toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short"}).split(" ");return u.pop(),new Date(`${u.join(" ")} ${d}`)}const Nl=(i,r)=>(s,d)=>{const u=Qn(new Date(s.start),r),h=Qn(new Date(s.end),r),p=u==null?void 0:u.toLocaleDateString(i,{timeZone:r,month:"short",day:"numeric",year:u.getUTCFullYear()===(h==null?void 0:h.getUTCFullYear())?void 0:"numeric"}),_=h==null?void 0:h.toLocaleDateString(i,{timeZone:r,month:"short",day:"numeric",year:"numeric"});let w;return u&&h?w=`${p} - ${_}`:u?w=`${p} -`:h?w=`- ${_}`:w=d,w},f0=({state:i,update:r})=>{const s=d=>{const u=d.currentTarget.name,h=d.currentTarget.value;r(u,h)};return C(po,{className:"mzp-c-form",children:[C("div",{className:"mzp-c-field",children:[a("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-start-date",children:"From"}),a("input",{className:"mzp-c-field-control",type:"date",name:"start",id:"form-input-control-start-date",value:i.start,onChange:s})]}),C("div",{className:"mzp-c-field",children:[a("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-end-date",children:"To"}),a("input",{className:"mzp-c-field-control",type:"date",name:"end",id:"form-input-control-end-date",value:i.end,onChange:s})]})]})},h0=({sortOptions:i,state:r,update:s,onPopupClose:d})=>{const u=h=>{const[p,_]=h.currentTarget.value.split("#");if(s("by",p),s("order",_),h.currentTarget.parentNode){const w=h.currentTarget.parentNode.textContent;w&&s("label",w)}d()};return a(po,{className:"mzp-c-form",children:a("fieldset",{className:"mzp-c-field-set",children:a("div",{className:"mzp-c-choices",children:i.map(h=>C("div",{className:"mzp-c-choice",children:[a("input",{className:"mzp-c-choice-control",type:"radio",id:`form-checkbox-control-${h.label}`,value:`${h.by}#${h.order}`,checked:r.label===h.label,onChange:u}),a("label",{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${h.label}`,children:h.label})]},h.label))})})})},Bl=(i,r)=>{let s=r;return i.by&&i.order&&i.label&&(s=i.label),s},Fl=({allBodies:i,filters:r,sortOptions:s,handlePopupClose:d})=>{const[u,h,p]=r,[_,w]=R.exports.useState(""),x=()=>i.map(A=>({name:A.id,label:A.name,disabled:!1})),S=()=>{p.setPopupIsOpen(!1),d()};return C(d0,{children:[a("div",{children:a(wo,{name:u.name,clear:u.clear,getTextRep:u.getTextRep,isActive:u.isActive,popupIsOpen:u.popupIsOpen,setPopupIsOpen:u.setPopupIsOpen,handlePopupClose:d,closeOnChange:!1,hasLimitError:u.hasLimitError(),limit:u.limit,children:a(Vv,{name:u.name,state:u.state,update:u.update,options:x(),optionQuery:_,setOptionQuery:w})})}),a("div",{children:a(wo,{name:h.name,clear:h.clear,getTextRep:h.getTextRep,isActive:h.isActive,popupIsOpen:h.popupIsOpen,setPopupIsOpen:h.setPopupIsOpen,handlePopupClose:d,closeOnChange:!1,children:a(f0,{state:h.state,update:h.update})})}),a("div",{children:a(wo,{name:p.name,clear:p.clear,getTextRep:p.getTextRep,isActive:p.isActive,popupIsOpen:p.popupIsOpen,setPopupIsOpen:p.setPopupIsOpen,handlePopupClose:d,closeOnChange:!0,children:a(h0,{sortOptions:s,state:p.state,update:p.update,onPopupClose:S})})})]})},tt={font_size_1:"0.625rem",font_size_2:"0.75rem",font_size_3:"0.8125rem",font_size_4:"0.875rem",font_size_5:"1rem",font_size_6:"1.125rem",font_size_7:"1.25rem",font_size_8:"1.5rem",font_size_9:"1.625rem",font_size_10:"1.75rem"},wr=k.p({fontSize:tt.font_size_6}),zl=k.div({display:"flex",flexDirection:"column",gap:32}),kl=({placeholder:i,query:r,setQuery:s,handleSearch:d})=>a("form",{className:"mzp-c-form",role:"search",onSubmit:p=>{p.preventDefault(),d()},children:a("input",{type:"search",placeholder:i,required:!0,"aria-required":!0,value:r,onChange:p=>s(p.target.value)})}),$l=k.div({display:"flex",flexDirection:"column",rowGap:32,"& > h1, & form, & input":{marginBottom:0},"& input":{width:"100%"},[`@media (min-width:${ue.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center","& input":{width:"auto"}}}),Ii=k.div(i=>({visibility:i.isVisible?"visible":"hidden","& > button":{width:"100%"},"& .ui.loader":{marginLeft:16},[`@media (min-width:${ue.tablet})`]:{"& > button":{width:"auto"}}}));var Ol;(function(i){i[i.tablet=2]="tablet",i[i.desktop=3]="desktop"})(Ol||(Ol={}));const p0=k.div({display:"grid",gap:64,gridTemplateColumns:"1fr",[`@media (min-width:${ue.tablet})`]:{justifyContent:"space-between",gridTemplateColumns:`repeat(${2}, 1fr)`},[`@media (min-width:${ue.desktop})`]:{gridTemplateColumns:`repeat(${3}, 1fr)`}}),xo=({cards:i})=>a(p0,{children:i.map(({link:r,jsx:s,searchQuery:d})=>a("div",{children:a(We,{to:{pathname:r,state:{query:d||""}},style:{textDecoration:"none",color:It.black,fontSize:tt.font_size_6},children:s})},r))});var m0="/cdp-frontend/assets/dave-hoefler-reduced-1.51b148fe.jpg",g0="/cdp-frontend/assets/dave-hoefler-reduced-2.22148879.jpg",_0="/cdp-frontend/assets/dave-hoefler-reduced-3.796c3192.jpg",v0="/cdp-frontend/assets/dave-hoefler-reduced-4.d61f5fac.jpg",y0="/cdp-frontend/assets/dave-hoefler-reduced-5.8b230200.jpg";const w0=["en","de","es"],Dl=10,Ri=[m0,g0,_0,v0,y0],x0=({searchEventsState:i,bodies:r})=>{const{firebaseConfig:s,municipality:d}=Te(),{language:u}=Ct(),h=R.exports.useRef(i.query),[p,_]=R.exports.useState(i.query);Hn(h.current?`${P.events} -- ${h.current}`:P.events);const w=bn({name:P.date,initialState:i.dateRange,defaultDataValue:"",textRepFunction:Nl(u,d.timeZone)}),x=bn({name:P.committee,initialState:i.committees,defaultDataValue:!1,textRepFunction:gl,limit:_o}),S=bn({name:"Sort",initialState:{by:"datetimeWeightedRelevance",order:Fe.desc,label:P.most_relevant_first},defaultDataValue:"",textRepFunction:Bl}),A=R.exports.useCallback(async()=>{const U=new o0(s),V=await U.searchEvents(p),ne=await Promise.all(V.map(ce=>U.getRenderableEvent(ce))),Y=ho(x.state);let le=ne.filter(({event:ce})=>{var qe;if(Y.length&&(!((qe=ce.body)==null?void 0:qe.id)||!Y.includes(ce.body.id)))return!1;const Ae=Qn(new Date(w.state.start),d.timeZone),Le=Qn(new Date(w.state.end),d.timeZone);if(Ae||Le){if(!ce.event_datetime||Ae&&ce.event_datetime<Ae)return!1;if(Le){const Jt=new Date(Le);if(Jt.setUTCDate(Jt.getUTCDate()+1),ce.event_datetime>Jt)return!1}}return!0});return le=Sn.exports.orderBy(le,[S.state.by],[S.state.order]),Promise.resolve(le)},[p,x.state,w.state,S.state,s,d.timeZone]),F=Zt.exports.useMediaQuery({query:`(min-width: ${ue.desktop})`}),[N,z]=i0({batchSize:Dl-(F?1:0),visibleCount:0,cards:[],fetchCards:!0,error:null},A),B=Wn(),$=R.exports.useCallback(()=>{h.current=p;const U=`?q=${p.trim().replace(/\s+/g,"+")}`;history.pushState({},"",`#${B.pathname}${U}`),z({type:Ft.FETCH_CARDS})},[p,B,z]),H=R.exports.useCallback(()=>z({type:Ft.SHOW_MORE_CARDS}),[z]),Z=R.exports.useMemo(()=>{if(N.fetchCards)return a(Gn,{active:!0,size:"massive"});if(N.error)return a(wr,{children:N.error.toString()});if(N.cards.length===0)return a(wr,{children:P.no_results_found});{const U=N.cards.slice(0,N.visibleCount).map(({event:V,keyGrams:ne,selectedContextSpan:Y,selectedGram:le})=>({link:`/${et.EVENT}/${V.id}`,jsx:a(Il,{event:V,tags:ne,excerpt:Y,gram:le,query:h.current}),searchQuery:h.current}));return C(Pt,{children:[a(wr,{children:`${N.cards.length} ${et.EVENT}`}),a(xo,{cards:U})]})}},[N.fetchCards,N.error,N.cards,N.visibleCount]),O=R.exports.useMemo(()=>N.visibleCount<N.cards.length&&!N.fetchCards,[N]);return C(zl,{children:[C($l,{children:[a("h1",{className:"mzp-u-title-sm",children:P.event_search_results}),a(kl,{placeholder:P.search_topic_placeholder,query:p,setQuery:_,handleSearch:$})]}),a(Fl,{allBodies:r,filters:[x,w,S],sortOptions:[{by:"datetimeWeightedRelevance",order:Fe.desc,label:P.most_relevant_first},{by:"pureRelevance",order:Fe.desc,label:P.closest_match_first},{by:"event.event_datetime",order:Fe.desc,label:P.newest_first},{by:"event.event_datetime",order:Fe.asc,label:P.oldest_first}],handlePopupClose:$}),C("p",{style:{fontSize:tt.font_size_5},children:[P.disclaimer_start," ",a("a",{href:"https://cloud.google.com/speech-to-text",children:"Google Speech-to-Text"})," ",P.disclaimer_end]}),Z,a(Ii,{isVisible:O,children:a("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:H,children:P.show_more})})]})},b0=()=>{const i=Wn(),r=R.exports.useMemo(()=>{if(i.state)return i.state;const{q:h}=ao.parse(i.search);return{query:h||" ",committees:{},dateRange:{start:"",end:""}}},[i]),{firebaseConfig:s}=Te(),d=R.exports.useCallback(async()=>{const p=await new wl(s).getAllBodies();return Promise.resolve({bodies:p,searchEventsState:r})},[s,r]),{state:u}=De({isLoading:!1,error:null,hasFetchRequest:!0},d);return a(qn,{isLoading:u.isLoading,error:u.error,children:u.data&&a(x0,se({},u.data))})};class Ul{constructor(r){this.id=r.id,this.event_ref=r.event_ref.id,this.session_datetime=Bt(r.session_datetime),this.session_index=r.session_index,this.video_uri=r.video_uri,r.caption_uri&&(this.caption_uri=r.caption_uri),typeof r.event_ref=="object"&&!(r.event_ref instanceof xe)&&(this.event=new Cn(r.event_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id)}}class S0 extends He{constructor(r){super(E.Session,r)}async getSessionsByEventId(r){const s=this.networkService.getDocuments(E.Session,[Ee(G.SessionEventRef,be.eq,Be(pe.getDb(),E.Event,r)),Ge("session_index")]);return this.createModels(s,Ul,`getSessionsByEventId(${r})`)}}class C0{constructor(r){this.id=r.id,this.confidence=r.confidence,this.generator=r.generator,this.created=Bt(r.created),this.file_ref=r.file_ref.id,this.session_ref=r.session_ref.id,typeof r.file_ref=="object"&&!(r.file_ref instanceof xe)&&(this.file=new Zn(r.file_ref)),typeof r.session_ref=="object"&&!(r.session_ref instanceof xe)&&(this.session=new Ul(r.session_ref))}}class E0 extends He{constructor(r){super(E.Transcript,r)}async getTranscriptBySessionId(r){const s=this.networkService.getDocuments(E.Transcript,[Ee(G.TranscriptSessionRef,be.eq,Be(pe.getDb(),E.Session,r)),Ge("confidence",Fe.desc),wn(1)],new ke([new Me(E.File,G.TranscriptFileRef)]));return this.createModels(s,C0,`getTranscriptBySessionId(${r})`)}}class xr{constructor(r){this.id=r.id,this.matter_type=r.matter_type,this.name=r.name,this.title=r.title,r.external_source_id&&(this.external_source_id=r.external_source_id)}}class I0{constructor(r){this.id=r.id,this.name=r.name,r.description&&(this.description=r.description),r.external_source_id&&(this.external_source_id=r.external_source_id),r.matter_ref&&(r.matter_ref instanceof xe?this.matter_ref=r.matter_ref.id:typeof r.matter_ref=="object"&&(this.matter=new xr(r.matter_ref)))}}class Mi{constructor(r){this.id=r.id,r.decision&&(this.decision=r.decision),this.event_ref=r.event_ref.id,typeof r.event_ref=="object"&&!(r.event_ref instanceof xe)&&(this.event=new Cn(r.event_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id),this.index=r.index,this.minutes_item_ref=r.minutes_item_ref.id,typeof r.minutes_item_ref=="object"&&!(r.minutes_item_ref instanceof xe)&&(this.minutes_item=new I0(r.minutes_item_ref))}}class R0 extends He{constructor(r){super(E.EventMinutesItem,r)}async getEventMinutesItemsByEventId(r){const s=this.networkService.getDocuments(E.EventMinutesItem,[Ee(G.EventMinutesItemEventRef,be.eq,Be(pe.getDb(),E.Event,r)),Ge("index")],new ke([new Me(E.MinutesItem,G.EventMinutesItemMinutesItemRef)]));return this.createModels(s,Mi,`getEventMinutesItemsByEventId(${r})`)}}class M0{constructor(r){this.id=r.id,this.event_minutes_item_ref=r.event_minutes_item_ref.id,typeof r.event_minutes_item_ref=="object"&&!(r.event_minutes_item_ref instanceof xe)&&(this.event_minutes_item=new Mi(r.event_minutes_item_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id),this.name=r.name,this.uri=r.uri}}class Vl extends He{constructor(r){super(E.EventMinutesItemFile,r)}async getEventMinutesItemFilesByEventMinutesItemId(r){const s=this.networkService.getDocuments(E.EventMinutesItemFile,[Ee(G.EventMinutesItemFileEventMinutesItemRef,be.eq,Be(pe.getDb(),E.EventMinutesItem,r)),Ge("name")]);try{return this.createModels(s,M0,`getEventMinutesItemFilesByEventMinutesItemId(${r})`)}catch{return Promise.resolve([])}}}class Ti{constructor(r){this.id=r.id,this.is_active=r.is_active,this.name=r.name,this.router_string=r.router_string,r.email&&(this.email=r.email),r.phone&&(this.phone=r.phone),r.website&&(this.website=r.website),r.picture_ref&&(r.picture_ref instanceof xe?this.picture_ref=r.picture_ref.id:typeof r.picture_ref=="object"&&(this.picture=new Zn(r.picture_ref))),r.external_source_id&&(this.external_source_id=r.external_source_id)}}class bo{constructor(r){this.id=r.id,this.event_minutes_item_ref=r.event_minutes_item_ref.id,this.event_ref=r.event_ref.id,this.matter_ref=r.matter_ref.id,this.person_ref=r.person_ref.id,this.decision=r.decision,typeof r.event_ref=="object"&&!(r.event_ref instanceof xe)&&(this.event=new Cn(r.event_ref)),typeof r.event_minutes_item_ref=="object"&&!(r.event_minutes_item_ref instanceof xe)&&(this.event_minutes_item=new Mi(r.event_minutes_item_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id),r.in_majority&&(this.in_majority=r.in_majority),typeof r.matter_ref=="object"&&!(r.matter_ref instanceof xe)&&(this.matter=new xr(r.matter_ref)),typeof r.person_ref=="object"&&!(r.person_ref instanceof xe)&&(this.person=new Ti(r.person_ref))}}class Ai extends He{constructor(r){super(E.Vote,r)}async getVotesByEventId(r){const s=this.networkService.getDocuments(E.Vote,[Ee(G.VoteEventRef,be.eq,Be(pe.getDb(),E.Event,r)),Ge(G.VotePersonRef)],new ke([new Me(E.Person,G.VotePersonRef)]));return this.createModels(s,bo,`getVotesByEventId(${r})`)}async getVotesByEventMinutesItemId(r){const s=this.networkService.getDocuments(E.Vote,[Ee(G.VoteEventMinutesItemRef,be.eq,Be(pe.getDb(),E.EventMinutesItem,r))],new ke([new Me(E.Person,G.VotePersonRef)]));return this.createModels(s,bo,`getVotesByEventMinutesItemId(${r})`)}async getFullyPopulatedVotesByPersonId(r,s,d){const u=new Me(E.Matter,G.VoteMatterRef),h=new Me(E.Body,G.EventBodyRef),p=new ke([h]),_=new Me(E.Event,G.VoteEventRef,p),w=new Me(E.EventMinutesItem,G.VoteEventMinutesItemRef),x=[];if(x.push(Ee(G.VotePersonRef,be.eq,Be(pe.getDb(),E.Person,r))),x.push(Ge(G.VoteEventRef,Fe.asc)),d){const A=Be(pe.getDb(),E.Vote,d),F=await io(A);x.push(oo(F))}x.push(wn(s));const S=this.networkService.getDocuments(E.Vote,x,new ke([u,_,w]));return this.createModels(S,bo,`getFullyPopulatedVotesByPersonId(${r})`)}}class T0{constructor(r){this.confidence=r.confidence,this.generator=r.generator,this.created_datetime=Bt(r.created_datetime),this.sentences=r.sentences,r.session_datetime&&(this.session_datetime=Bt(r.session_datetime)),r.annotations&&(this.annotations=r.annotations)}}class A0 extends He{constructor(r){super(E.TranscriptJSON,r)}async download(r){const s=this.networkService.downloadJson(r);return this.createModel(s,T0,`download(${r})`)}}const br=({data:i,isLoading:r,error:s,notFound:d,children:u})=>r?a("p",{children:`Fetching ${i}...`}):s?a("p",{children:s.message}):d?a("p",{children:`No ${i} found.`}):a(Pt,{children:u}),L0=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),P0=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),N0=()=>C("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:[a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),B0=k.div(i=>({display:"grid",gridTemplateColumns:"1fr",rowGap:8,padding:"8px 16px",backgroundColor:"white",borderLeft:`4px solid ${i.isJumpedTo?It.dark_blue:"transparent"}`})),F0=k.div({fontSize:tt.font_size_5}),z0=k.div(i=>({display:"grid",columnGap:4,gridTemplateColumns:i.hasMultipleActions?"1fr auto auto":"1fr auto",justifyContent:"start",alignItems:"center"})),k0=k.div({display:"grid",columnGap:4,gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",fontSize:tt.font_size_2,overflowWrap:"anywhere","& p":{margin:0}}),Li=24,$0=k.img({objectFit:"cover",objectPosition:"center",borderRadius:"50%",width:Li,height:Li}),O0=k.div({width:Li,height:Li}),Wl=k.button({padding:"2px 8px !important",display:"flex",justifyContent:"center",alignItems:"center"}),Gl=({sessionIndex:i,speakerName:r,text:s,startTime:d,speakerId:u,speakerPictureSrc:h,searchQuery:p,handleJumpToVideoClip:_,handleJumpToTranscript:w,componentRef:x})=>{const[S,A]=R.exports.useState(!1),F=R.exports.useRef(null);R.exports.useImperativeHandle(x,()=>({scrollIntoView:()=>{var $;($=F.current)==null||$.scrollIntoView({behavior:"smooth",block:"center"}),A(!0),setTimeout(()=>{A(!1)},5e3)}}));const N=u?a(We,{to:`/people/${u}`,children:r}):a("div",{children:r}),z=h?a($0,{src:h,alt:r}):a(O0,{children:a(L0,{})}),B=R.exports.useMemo(()=>{const $=yr(p||""),H=vr($.split(" "));if(!$||H.length===0)return[];const Z=H.map(U=>wi(U)),O=H.map((U,V)=>new RegExp(`\\b(${U}|${Z[V]})`,"g"));return p&&p.trim().length>0&&O.push(new RegExp(p.trim(),"g")),O},[p]);return C(B0,{isJumpedTo:S,ref:F,children:[a(F0,{children:a(dl,{caseSensitive:!1,searchWords:B,textToHighlight:s})}),C(z0,{hasMultipleActions:w!==void 0,children:[C(k0,{children:[z,C("div",{children:[N,a("p",{children:`${P.session} ${i+1}`}),a("p",{children:d})]})]}),a("div",{children:a(xi,{position:"top right",content:P.jump_to_sentence_video,size:"mini",trigger:a(Wl,{"aria-label":P.jump_to_sentence_video,className:"mzp-c-button mzp-t-neutral",onClick:_,children:a(N0,{})})})}),w&&a("div",{children:a(xi,{position:"top right",content:P.jump_to_sentence_transcript,size:"mini",trigger:a(Wl,{"aria-label":P.jump_to_sentence_transcript,className:"mzp-c-button mzp-t-neutral",onClick:w,children:a(P0,{})})})})]})]})};function Sr(i){return`${i}`.padStart(2,"0")}function Hl(i){const r=Math.floor(i),s=Math.floor(r/3600),d=Math.floor((r-s*3600)/60),u=r-s*3600-d*60;return`${Sr(s)}:${Sr(d)}:${Sr(u)}`}const D0=({searchQuery:i,sentences:r,jumpToVideoClip:s,jumpToTranscript:d})=>{const u=(x,S)=>()=>s(x,S),h=x=>()=>{d(x)},p=new pv({fixedWidth:!0,defaultHeight:100}),_=()=>{p.clearAll()},w=({index:x,parent:S,key:A,style:F})=>a(_v,{cache:p,parent:S,columnIndex:0,rowIndex:x,children:a("div",{style:F,role:"row",children:a("div",{style:{margin:"0 0 16px 0"},role:"cell",children:a(Gl,{sessionIndex:r[x].session_index,speakerName:r[x].speaker_name,text:r[x].text,startTime:Hl(r[x].start_time),handleJumpToVideoClip:u(r[x].session_index,r[x].start_time),searchQuery:i,speakerId:r[x].speaker_id,speakerPictureSrc:r[x].speaker_pictureSrc,handleJumpToTranscript:h(r[x].index)})})})},A);return a(mv,{onResize:_,children:({width:x,height:S})=>a(gv,{deferredMeasurementCache:p,height:S,rowCount:r.length,rowHeight:p.rowHeight,rowRenderer:w,scrollToIndex:0,style:{willChange:""},width:x})})},U0=k.div({display:"flex",flexDirection:"column",height:"100%"}),V0=k.div({display:"flex",flexDirection:"column",justifyContent:"start",marginBottom:"16px","div:first-of-type":{fontSize:tt.font_size_7,fontWeight:600},[`@media (min-width:${ue.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),W0=k.div(i=>({minHeight:i.hasSearchResults?"80vh":0,[`@media (min-width:${ue.tablet})`]:{minHeight:i.hasSearchResults?"50vh":0},[`@media (min-aspect-ratio:5/4), (min-width:${ue.desktop})`]:{flex:"1 1 auto",minHeight:0}})),G0=({searchQuery:i,sentences:r,jumpToVideoClip:s,jumpToTranscript:d})=>{const[u,h]=R.exports.useState(i),p=F=>{h(F.target.value)},[_,w]=R.exports.useState(i),x=F=>{F.preventDefault(),w(u)},S=R.exports.useMemo(()=>r.data?r.data.map(({text:F})=>{const N=yr(F),B=vr(N.split(" ")).map($=>wi($).toLowerCase());return new Set(B)}):[],[r.data]),A=R.exports.useMemo(()=>{if(r.data){if(!_.trim())return r.data;const F=yr(_),N=vr(F.split(" "));if(!F||N.length===0)return[];const z=N.map(B=>wi(B).toLowerCase());return r.data.filter((B,$)=>z.some(H=>S[$].has(H)))}return[]},[r.data,S,_]);return C(U0,{children:[C(V0,{children:[a("div",{children:P.search_transcript}),a("div",{children:r.data&&P.number_of_results.replace("{number}",`${A.length}`)})]}),a("form",{className:"mzp-c-form",role:"search",onSubmit:x,children:a("input",{style:{width:"100%"},type:"search",placeholder:P.search_transcript_placeholder,value:u,onChange:p})}),a(br,{data:"transcript",isLoading:r.isLoading,error:r.error,notFound:!r.data||r.data.length===0,children:r.data&&a(W0,{hasSearchResults:A.length!==0,children:a(D0,{searchQuery:_,sentences:A,jumpToVideoClip:s,jumpToTranscript:d})})})]})},ql=i=>{const r=i.trim().split(":").reverse();let s=0;return r.forEach((d,u)=>{const h=parseFloat(d);isNaN(h)||d.includes("-")?s+=NaN:s+=h*Math.pow(60,u)}),s&&(s=Math.floor(s)),s},Zl=i=>{if(isNaN(i))return"NaN";const r=Math.floor(i),s=Math.floor(r/3600),d=Math.floor((r-s*3600)/60),u=r-s*3600-d*60,h=Sr(u);return s>0?`${s}:${Sr(d)}:${h}`:`${d}:${h}`};var cn;(function(i){i[i.UPDATE_VALUE=0]="UPDATE_VALUE",i[i.VALIDATE_VALUE=1]="VALIDATE_VALUE",i[i.OPEN=2]="OPEN",i[i.CLOSE=3]="CLOSE"})(cn||(cn={}));const H0={value:"",isDisabled:!1,isActive:!1,isOpen:!1},q0=(i,r)=>{switch(r.type){case 0:return ge(se({},i),{value:r.payload});case 1:{const s=Zl(ql(i.value));return r.payload!==void 0?ge(se({},i),{value:s,isDisabled:!r.payload,isActive:r.payload}):ge(se({},i),{value:s})}case 2:{const s=Zl(r.payload);return ge(se({},i),{isOpen:!0,value:s,isDisabled:!1,isActive:!1})}case 3:return ge(se({},i),{isOpen:!1});default:return i}},Z0=()=>a("svg",{transform:"scale(-1,1)",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),Q0=k.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),J0=k.div({border:`1px solid ${It.lightgrey}`,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:24,"& > input":{flex:1,border:0,marginLeft:16},"& > .mzp-c-button":{padding:"8px 16px",fontWeight:600,border:0},"& > .mzp-c-button, & > .mzp-c-button:hover":{color:It.dark_blue}}),K0=k.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),X0=k.input(i=>({border:0,borderBottomColor:i.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64})),Y0=k(co)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"\u2716"'}}),j0=({sessionIndex:i,getCurrentTime:r})=>{const s=R.exports.useRef(null),d=R.exports.useRef(null),u=R.exports.useRef(null),h=Wn(),[p,_]=R.exports.useReducer(q0,H0),w=R.exports.useCallback(()=>{const $=r();_({type:cn.OPEN,payload:$})},[r]),x=()=>{_({type:cn.CLOSE})},S=$=>{_({type:cn.VALIDATE_VALUE,payload:$.target.checked})},A=async()=>{var $;($=d.current)==null||$.select(),navigator.clipboard?await navigator.clipboard.writeText(B()):document.execCommand("copy")},F=$=>{_({type:cn.UPDATE_VALUE,payload:$.target.value})},N=()=>{_({type:cn.VALIDATE_VALUE})},z=$=>{$.key==="Enter"&&_({type:cn.VALIDATE_VALUE})},B=R.exports.useCallback(()=>{const $=ql(p.value),H=`${document.location.href.split("#")[0]}#${h.pathname}?s=${i}`;return p.isActive&&$?`${H}&t=${$}`:`${H}`},[p.value,p.isActive,i,h]);return C(Pt,{children:[C(Y0,{closeIcon:!0,trigger:C(Q0,{className:"mzp-c-button mzp-t-secondary",onClick:w,children:[a(Z0,{}),"SHARE"]}),open:p.isOpen,onClose:x,mountNode:s.current,size:"small",children:[a(co.Header,{children:"Share"}),C(co.Content,{children:[C(J0,{children:[a("input",{readOnly:!0,"aria-readonly":!0,ref:d,value:B()}),a("button",{className:"mzp-c-button mzp-t-secondary",onClick:A,children:"COPY"})]}),a("br",{}),C(K0,{children:[a("input",{id:"share-with-time-point",type:"checkbox",checked:p.isActive,onChange:S}),a("label",{htmlFor:"share-with-time-point",children:"Start at"}),a(X0,{disabled:p.isDisabled,value:p.value,onChange:F,onBlur:N,onKeyUp:z,ref:u})]})]})]}),a("div",{ref:s})]})};var Cr;(function(i){i.mp4="mp4",i.webm="webm",i.youtube="youtube"})(Cr||(Cr={}));function ey(i){let r;if(i.match(/youtu?.be/))r=Cr.youtube;else{const s=i.match(new RegExp(`(${Cr.webm}|${Cr.mp4})$`));s&&(r=s[0])}return r}function ty(i){const r=ey(i),s={src:i};return r&&(s.type=`video/${r}`),s}var Ql;(function(i){i[i.SPACE=32]="SPACE",i[i.ARROW_LEFT=37]="ARROW_LEFT",i[i.ARROW_RIGHT=39]="ARROW_RIGHT",i[i.F=70]="F",i[i.K=75]="K",i[i.M=77]="M"})(Ql||(Ql={}));const Jl=10,ny=({sessionIndex:i,uri:r,componentRef:s,initialSeconds:d})=>{const{language:u}=Ct(),h=R.exports.useRef(null),p=R.exports.useRef();R.exports.useImperativeHandle(s,()=>({seekTo:x=>{var S,A,F;(S=p.current)==null||S.currentTime(x),((A=p.current)==null?void 0:A.paused())&&((F=p.current)==null||F.play())},pause:()=>{var x;return(x=p.current)==null?void 0:x.pause()}}));const _=R.exports.useCallback(()=>p.current?p.current.currentTime():0,[]),w=()=>C(Pt,{children:[a("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:4},children:a(j0,{sessionIndex:i,getCurrentTime:_})}),a("div",{"data-vjs-player":!0,children:a("video",{ref:h,className:"video-js vjs-big-play-centered vjs-theme-cdp"})})]});return R.exports.useEffect(()=>{const x=h.current;let S;return x&&(S=lo(x,{autoplay:!1,controls:!0,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,customControlSpacer:!0,remainingTimeDisplay:!1},preload:d?"auto":"metadata",aspectRatio:"16:9",fluid:!0,language:u,playbackRates:[2,1.5,1,.75,.5],responsive:!0,techOrder:["youtube","html5"],sources:[ty(r)],userActions:{hotkeys:A=>{var F,N,z,B,$,H,Z,O,U,V,ne,Y;A.which===75||A.which===32?((F=p.current)==null?void 0:F.paused())?(N=p.current)==null||N.play():(z=p.current)==null||z.pause():A.which===77?($=p.current)==null||$.muted(!((B=p.current)==null?void 0:B.muted())):A.which===70?((H=p.current)==null?void 0:H.isFullscreen())?(Z=p.current)==null||Z.exitFullscreen():(O=p.current)==null||O.requestFullscreen():A.which===37?(V=p.current)==null||V.currentTime(((U=p.current)==null?void 0:U.currentTime())-Jl):A.which===39&&((Y=p.current)==null||Y.currentTime(((ne=p.current)==null?void 0:ne.currentTime())+Jl))}}},function(){d&&d>0&&this.currentTime(d),p.current=this})),()=>{S&&S.dispose()}},[r,d,u]),a(w,{})};var Kl=k(vv)(i=>({"& > .ui.tab":{margin:0,border:0,padding:i.padding},[`@media (min-width:${ue.tablet})`]:{"& > .ui.menu > a.item":{fontSize:tt.font_size_7}},[`@media (max-width:${i.breakpoint})`]:{"& > .ui.menu":{flexDirection:"column"},"& > .ui.secondary.pointing.menu > a.item":{alignSelf:"flex-start",borderBottomStyle:"none"},"& > .ui.secondary.pointing.menu > a.active.item":{borderLeft:"2px solid"}}}));const ry=({eventVideoRefs:i,sessions:r,currentSession:s,initialSeconds:d,setCurrentSession:u})=>{const{language:h}=Ct(),[,p]=R.exports.useState(""),_=(S,A)=>u(F=>{var N;return(N=i[F].current)==null||N.pause(),A.activeIndex}),w=R.exports.useRef(r.map((S,A)=>({menuItem:`${P.session} ${A+1}`,pane:{key:`session_index_${A+1}`,content:a(ny,{sessionIndex:A,initialSeconds:A===s?d:0,uri:S.video_uri,componentRef:i[A]})}})));R.exports.useEffect(()=>{for(let S=0;S<w.current.length;S++)w.current[S].menuItem=`${P.session} ${S+1}`;p(h)},[h]);const x=r.length>3?ue.largeMobile:ue.smallMobile;return a(Kl,{padding:"0px",breakpoint:x,menu:{secondary:!0,pointing:!0},panes:w.current,renderActiveOnly:!1,activeIndex:s,onTabChange:_})};var iy=xn.memo(ry);const sy=k.div({maxHeight:"100vh",overflowY:"auto"}),oy=({sentences:i,transcriptItemsRefs:r,jumpToVideoClip:s})=>{const d=(u,h)=>()=>s(u,h);return a(sy,{children:i.map((u,h)=>a(Gl,{sessionIndex:u.session_index,speakerName:u.speaker_name,text:u.text,startTime:Hl(u.start_time),handleJumpToVideoClip:d(u.session_index,u.start_time),searchQuery:"",speakerId:u.speaker_id,speakerPictureSrc:u.speaker_pictureSrc,componentRef:r[h]},u.index))})},ay=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),cy=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),ly=k.summary({color:It.dark_blue,display:"flex",alignItems:"center","&::before, &::marker":{content:"none"},"& svg":{marginLeft:4,width:"1rem",height:"1rem"}}),Xl=({documents:i})=>{const[r,s]=R.exports.useState(!1),d=()=>s(u=>!u);return!i||i.length===0?null:C("details",{onToggle:d,children:[C(ly,{children:[P.see_documents,r?a(ay,{}):a(cy,{})]}),a("ul",{children:i.map(u=>a("li",{children:a("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",children:u.label})},u.label))})]})},uy=k.li({"& > div:first-of-type":{fontWeight:600},"& > a":{display:"flex",alignItems:"center"},"& > a > svg":{width:"1rem",height:"1rem",transform:"rotate(-90deg)"}}),dy=({minutesItems:i})=>a("ol",{className:"mzp-u-list-styled",children:i.map(r=>C(uy,{children:[a("div",{children:r.name}),r.matter_ref&&C(We,{to:`/matters/${r.matter_ref}`,children:[P.go_to_matter_details," ",a(Rl,{})]}),r.description&&a("div",{children:r.description}),a(Xl,{documents:r.documents})]},r.name))}),fy=()=>a("svg",{className:"cdp-acceptance-green",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),hy=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"cdp-rejected-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),py=()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"cdp-in-progress_orange",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),my=()=>a("svg",{className:"cdp-light-purple",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a("g",{id:"Group 1",children:C("g",{id:"Frame 1",children:[a("circle",{id:"Ellipse 1",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2"}),a("circle",{id:"Ellipse 2",cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),a("path",{id:"Line 1",d:"M8.00001 16L16 7.99998",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})});var zt;(function(i){i.ALTERNATE="Alternate",i.CHAIR="Chair",i.COUNCILMEMBER="Councilmember",i.MEMBER="Member",i.COUNCILPRESIDENT="Council President",i.VICE_CHAIR="Vice Chair",i.SUPERVISOR="Supervisor"})(zt||(zt={}));var ve;(function(i){i.ABSTAIN_APPROVE="Abstain (Approve)",i.ABSTAIN_NON_VOTING="Abstain (Non-Voting)",i.ABSTAIN_REJECT="Abstain (Reject)",i.ABSENT_APPROVE="Absent (Approve)",i.ABSENT_NON_VOTING="Absent (Non-Voting)",i.ABSENT_REJECT="Absent (Reject)",i.APPROVE="Approve",i.REJECT="Reject"})(ve||(ve={}));var _t;(function(i){i.ADOPTED="Adopted",i.IN_PROGRESS="In Progress",i.REJECTED="Rejected"})(_t||(_t={}));var Pi;(function(i){i.FAILED="Failed",i.PASSED="Passed"})(Pi||(Pi={}));const Qt=({result:i,style:r})=>{let s=a("div",{});switch(i){case Pi.PASSED:case _t.ADOPTED:case ve.ABSENT_APPROVE:case ve.ABSTAIN_APPROVE:case ve.APPROVE:s=a(fy,{});break;case Pi.FAILED:case _t.REJECTED:case ve.ABSENT_REJECT:case ve.ABSTAIN_REJECT:case ve.REJECT:s=a(hy,{});break;case ve.ABSENT_NON_VOTING:case ve.ABSTAIN_NON_VOTING:s=a(my,{});break;case _t.IN_PROGRESS:s=a(py,{});break}const d=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`}),u=P[i.toLowerCase().replace(/[()]/g,"").replace(/[ -]/g,"_")];return r||(r={display:"flex",flex:1,alignItems:"center"}),d?a("div",{style:{height:24,width:24},children:s}):C("div",{style:r,children:[a("div",{style:{height:24,width:24},children:s}),a("div",{children:a("p",{className:"mzp-c-card-desc",style:{marginLeft:8},children:u})})]})};Qt.defaultProps={result:_t.IN_PROGRESS};const Ni=({index:i})=>{const r=i%2==0?"rgb(236,236,236)":"white";return a("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:r},children:a("p",{className:"mzp-c-card-desc",children:i===0?"No results found.":"Record missing."})})},Yl=({index:i,children:r,columnNames:s,columnDistribution:d,onClick:u})=>{const h=i%2==0?El.COLORS.EVEN_CELL:El.COLORS.ODD_CELL,p=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`});return!r||r.length===0?a(Ni,{index:i}):p?a("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:h},children:r==null?void 0:r.map((_,w)=>{const x=s?s[w]:"";return C("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"flex-start"},children:[a("p",{style:{flex:1,fontWeight:"bold",paddingRight:8},className:"mzp-c-card-desc",children:x}),_]},w)})}):a("div",{style:{display:"flex",flex:1,backgroundColor:h,flexDirection:"row",padding:16},onClick:u,children:r==null?void 0:r.map((_,w)=>{const x=d?d[w]:"0%";return a("div",{style:{width:x},children:_},w)})})};function gy(i,r,s){if(i)return a(xn.Fragment,{children:r.map((d,u)=>{const h=`/people/${d.personId}`;return C("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[a(We,{style:{flex:1},to:h,children:d.name}),a(Qt,{result:d.decision})]},`individual-vote-${u}-${d.id}`)})});{let d=0,u=0,h=0;r.forEach(x=>{[ve.ABSENT_APPROVE,ve.ABSTAIN_APPROVE,ve.APPROVE].includes(x.decision)&&d++,[ve.ABSENT_REJECT,ve.ABSTAIN_REJECT,ve.REJECT].includes(x.decision)&&u++,[ve.ABSENT_NON_VOTING,ve.ABSTAIN_NON_VOTING].includes(x.decision)&&h++});const p=P.number_approved.replace("{number}",`${d}`),_=P.number_rejected.replace("{number}",`${u}`),w=P.number_non_voting.replace("{number}",`${h}`);return s?C("div",{style:{display:"flex",flexDirection:"column"},children:[a("p",{children:p}),a("p",{children:_}),a("p",{children:w})]}):a("p",{children:`${p} ${Ei} ${_} ${Ei} ${w}`})}}const _y=({index:i,legislationLink:r,legislationName:s,legislationDescription:d,councilDecision:u,votes:h,columnNames:p,columnDistribution:_})=>{const[w,x]=R.exports.useState(!1),S=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`});return C(Yl,{index:i,columnNames:p,columnDistribution:_,onClick:()=>{x(!w)},children:[C("div",{children:[a(We,{to:r,children:a("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:s})}),!S&&a("p",{children:d})]}),a(Qt,{result:u}),gy(w,h,S)]},`meeting-table-row-${i}`)},vy=k.div({padding:8,fontSize:tt.font_size_6,fontWeight:600}),yy=({columnNames:i,columnDistribution:r})=>Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`})?null:a("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:i==null?void 0:i.map((d,u)=>{const h=r[u]||0;return a("div",{style:{width:h},children:a(vy,{children:d})},d)})});function wy(i){return a(Ni,{index:i},`empty-table-row-${i}`)}const jl=({data:i,renderRow:r,columnDistribution:s,columnNames:d})=>{const u=!i||!i.length||i.length===0;return C(xn.Fragment,{children:[a(yy,{columnDistribution:s,columnNames:d}),u&&wy(0),i.map((h,p)=>r(h,p))]})};function xy(i){return a(Ni,{index:i},`empty-table-row-${i}`)}const by=({votesPage:i})=>{const r=[P.legislation,P.council_decision,P.votes],s=["35%","25%","40%"];function d(u,h){if(!u.matter||!u.votes)return xy(h);const p=u.matter.name,_=u.matter.description,w=u.council_decision,x=`/matters/${u.matter.id}`;return a(_y,{index:h,legislationName:p,legislationDescription:_,councilDecision:w,legislationLink:x,votes:u.votes,columnDistribution:s,columnNames:r},`meeting-voting-table-row-${h}`)}return C(Pt,{children:[a("p",{children:P.meeting_votes_caption}),a(jl,{data:i,columnDistribution:s,columnNames:r,renderRow:d})]})},Sy=({currentInfoTab:i,setCurrentInfoTab:r,sentences:s,transcriptItemsRefs:d,eventMinutesItems:u,votes:h,jumpToVideoClip:p})=>{const{language:_}=Ct(),w=(z,B)=>r(B.activeIndex),x=R.exports.useMemo(()=>u.map(({minutes_item:z,files:B})=>({name:z==null?void 0:z.name,description:z==null?void 0:z.description,matter_ref:z==null?void 0:z.matter_ref,documents:B&&B.length>0?B.map(({name:$,uri:H})=>({label:$,url:H})):void 0})),[u]),S=R.exports.useMemo(()=>h.reduce((z,B)=>(Object.keys(z).includes(B.event_minutes_item_ref)||(z[B.event_minutes_item_ref]=[]),z[B.event_minutes_item_ref].push(B),z),{}),[h]),A=R.exports.useMemo(()=>u.map(z=>S[z.id]||[]),[S,u]),F=R.exports.useMemo(()=>{const z=[];return u.forEach(({minutes_item:B,decision:$},H)=>{const Z=A[H];Z&&Z.length>0&&z.push({matter:{name:B==null?void 0:B.name,description:B==null?void 0:B.description,id:B==null?void 0:B.matter_ref},council_decision:$,votes:Z.map(({person:O,decision:U,id:V})=>({personId:O==null?void 0:O.id,name:O==null?void 0:O.name,decision:U,id:V}))})}),z},[u,A]),N=R.exports.useMemo(()=>[{menuItem:P.minutes,pane:{key:"agenda",content:a(dy,{minutesItems:x})}},{menuItem:P.transcript,pane:{key:"transcript",content:a(br,{data:"transcript",isLoading:s.isLoading,error:s.error,notFound:!s.data||s.data.length===0,children:s.data&&a(oy,{sentences:s.data,transcriptItemsRefs:d,jumpToVideoClip:p})})}},{menuItem:P.votes,pane:{key:"votes",content:a(by,{votesPage:F})}}],[x,s,d,p,F,_]);return a(Kl,{padding:"16px",menu:{secondary:!0,pointing:!0},panes:N,activeIndex:i,onTabChange:w,renderActiveOnly:!1})};var Cy=xn.memo(Sy);const Ey=k.div({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",rowGap:"32px","& > *":{width:"100%"}}),Iy=k.div({"& > h1":{margin:0}}),Ry=k.div({position:"sticky",top:0,zIndex:2,backgroundColor:"white",[`@media (min-width:${ue.tablet})`]:{position:"static"},[`@media (min-aspect-ratio:5/4), (min-width:${ue.desktop})`]:{width:"50%"}}),My=k.div({[`@media (min-aspect-ratio:5/4), (min-width:${ue.desktop})`]:{width:"47%"}}),Ty=({event:i,sessions:r,sentences:s,eventMinutesItems:d,votes:u,initialSession:h,initialSeconds:p,searchQuery:_})=>{var U,V,ne,Y,le;const{municipality:w}=Te(),{language:x}=Ct();Hn(`${(U=i.body)==null?void 0:U.name}${((V=i.body)==null?void 0:V.name)&&i.event_datetime&&" -- "}${(ne=i.event_datetime)==null?void 0:ne.toLocaleDateString(x,{timeZone:w.timeZone})}`);const[S,A]=R.exports.useState(h),[F,N]=R.exports.useState(0),z=R.exports.useRef(r.map(()=>R.exports.createRef())),B=R.exports.useCallback((ce,Ae)=>{var Le;A(qe=>{var Jt;return qe!==ce&&((Jt=z.current[qe].current)==null||Jt.pause()),ce}),(Le=z.current[ce].current)==null||Le.seekTo(Ae)},[z]),$=R.exports.useMemo(()=>(s.data||[]).map(()=>R.exports.createRef()),[s.data]),[H,Z]=R.exports.useState(),O=R.exports.useCallback(ce=>{var Ae;F!==1?(N(1),Z(ce)):(Ae=$[ce].current)==null||Ae.scrollIntoView()},[$,F]);return R.exports.useEffect(()=>{var ce;F===1&&H!==void 0&&((ce=$[H].current)==null||ce.scrollIntoView(),Z(void 0))},[F,H,$]),C(Ey,{children:[C(Iy,{children:[a("h1",{className:"mzp-u-title-sm",children:(Y=i.body)==null?void 0:Y.name}),a("p",{className:"mzp-c-card-desc",children:(le=i.event_datetime)==null?void 0:le.toLocaleString(x,{timeZone:w.timeZone,timeZoneName:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})})]}),a(Ry,{children:a(iy,{eventVideoRefs:z.current,sessions:r,currentSession:S,initialSeconds:p,setCurrentSession:A})}),a(My,{children:a(G0,{searchQuery:_||"",sentences:s,jumpToVideoClip:B,jumpToTranscript:O})}),a("div",{children:a(Cy,{currentInfoTab:F,setCurrentInfoTab:N,sentences:s,transcriptItemsRefs:$,eventMinutesItems:d,votes:u,jumpToVideoClip:B})})]})},Ay=()=>{lo.addLanguage("es",yv),lo.addLanguage("de",wv)};Ay();const Ly=()=>{const{id:i}=uo(),{firebaseConfig:r}=Te(),s=Wn(),d=R.exports.useMemo(()=>s.state?s.state.query:"",[s.state]),[u,h]=R.exports.useMemo(()=>{const{s:U,t:V}=ao.parse(s.search);return[U,V].map(ne=>{if(ne!==null&&typeof ne=="string"){const Y=parseFloat(ne);return isNaN(Y)||Y<0?0:Math.floor(Y)}else return 0})},[s.search]),p=R.exports.useCallback(async()=>{const V=await new Si(r).getEventById(i);return Promise.resolve(V)},[r,i]),{state:_}=De(se({},Et),p),w=R.exports.useCallback(async()=>{const V=await new S0(r).getSessionsByEventId(i);return Promise.resolve(V)},[r,i]),{state:x}=De(se({},Et),w),S=R.exports.useCallback(async()=>{const U=new R0(r),V=new Vl(r),ne=await U.getEventMinutesItemsByEventId(i),Y=await Promise.all(ne.map(({id:le})=>V.getEventMinutesItemFilesByEventMinutesItemId(le)));return Promise.resolve(ne.map((le,ce)=>ge(se({},le),{files:Y[ce]})))},[r,i]),{state:A}=De(se({},Et),S),F=R.exports.useCallback(async()=>{const V=await new Ai(r).getVotesByEventId(i);return Promise.resolve(V)},[r,i]),{state:N}=De(se({},Et),F),z=R.exports.useCallback(async()=>{const U=new E0(r),V=new A0(r);if(x.data){const ne=await Promise.all(x.data.map(({id:ce})=>U.getTranscriptBySessionId(ce))),Y=await Promise.all(ne.map(ce=>{var Ae;return V.download((Ae=ce[0].file)==null?void 0:Ae.uri)})),le=[];return Y.forEach((ce,Ae)=>{var Le;(Le=ce==null?void 0:ce.sentences)==null||Le.forEach(qe=>{le.push({session_index:Ae,index:le.length,start_time:qe.start_time,end_time:qe.end_time,text:qe.text,speaker_name:qe.speaker_name,speaker_index:qe.speaker_index,speaker_id:void 0,speaker_pictureSrc:void 0})})}),Promise.resolve(le)}return Promise.resolve([])},[r,x.data]),{state:B,dispatch:$}=De(ge(se({},Et),{hasFetchRequest:!1}),z);R.exports.useEffect(()=>{x.data&&$({type:gt.FETCH})},[x.data,$]);const H=R.exports.useMemo(()=>_.isLoading||x.isLoading||A.isLoading||N.isLoading,[_.isLoading,x.isLoading,A.isLoading,N.isLoading]),Z=R.exports.useMemo(()=>{if(!(!_.data||!x.data||!A.data||!N.data))return{event:_.data,sessions:x.data,eventMinutesItems:A.data,votes:N.data}},[_.data,x.data,A.data,N.data]),O=R.exports.useMemo(()=>{const U=[_.error,x.error,A.error,N.error].map(V=>(V==null?void 0:V.message)||"").filter(V=>V.length>0);return U.length>0?new Error(U.join(`
`)):null},[_.error,x.error,A.error,N.error]);return a(qn,{isLoading:H,error:O,children:Z&&a(Ty,ge(se({},Z),{sentences:B,searchQuery:d,initialSession:u>0&&u<Z.sessions.length?u:0,initialSeconds:h}))})};var Rt;(function(i){i.FAILURE="FAILURE",i.SUCCESS="SUCCESS",i.FETCH_MODELS="FETCH_MODELS"})(Rt||(Rt={}));const Py=()=>(i,r)=>{switch(r.type){case Rt.SUCCESS:return ge(se({},i),{models:i.fetchModels?r.payload:[...i.models,...r.payload],fetchModels:!1,showMoreModels:!1,hasMoreModels:r.payload.length===i.batchSize});case Rt.FAILURE:return ge(se({},i),{error:r.payload,fetchModels:!1,showMoreModels:!1});case Rt.FETCH_MODELS:return ge(se({},i),{error:null,fetchModels:r.payload,showMoreModels:!r.payload});default:return i}};function So(i,r){const[s,d]=R.exports.useReducer(Py(),i);return R.exports.useEffect(()=>{let u=!1;const h=async()=>{try{const p=await r(s)();u||d({type:Rt.SUCCESS,payload:p})}catch(p){if(!u){const _=Nt(p);d({type:Rt.FAILURE,payload:_})}}};return(s.fetchModels||s.showMoreModels)&&h(),()=>{u=!0}},[s,s.batchSize,s.models,s.fetchModels,s.showMoreModels,r,d]),{state:s,dispatch:d}}const Ny=({bodies:i,initialSelectedBodies:r})=>{const{firebaseConfig:s,municipality:d}=Te(),{language:u}=Ct(),h=bn({name:P.date,initialState:{start:"",end:""},defaultDataValue:"",textRepFunction:Nl(u,d.timeZone)}),p=bn({name:P.committee,initialState:i.reduce((O,U)=>(O[U.id]=r[U.id]||!1,O),{}),defaultDataValue:!1,textRepFunction:gl,limit:_o}),_=bn({name:"Sort",initialState:{by:"event_datetime",order:Fe.desc,label:P.newest_first},defaultDataValue:"",textRepFunction:Bl}),w=R.exports.useCallback(O=>async()=>{const U=!O.fetchModels&&O.models.length>0?O.models[O.models.length-1].event_datetime:void 0,V=new Si(s),ne=await V.getEvents(O.batchSize,ho(p.state),{start:Qn(new Date(h.state.start),d.timeZone),end:Qn(new Date(h.state.end),d.timeZone)},{by:_.state.by,order:_.state.order},U),Y=await Promise.all(ne.map(le=>V.getRenderableEvent(le)));return Promise.resolve(Y)},[s,p.state,h.state,_.state,d.timeZone]),x=Zt.exports.useMediaQuery({query:`(min-width: ${ue.desktop})`}),{state:S,dispatch:A}=So({batchSize:Dl-(x?1:0),models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},w),F=ro(),[N,z]=R.exports.useState(""),B=()=>{const O=`?q=${N.trim().replace(/\s+/g,"+")}`;F.push({pathname:`/${et.EVENT}/search`,search:O,state:{query:N.trim(),committees:p.state,dateRange:h.state}})},$=R.exports.useCallback(()=>{A({type:Rt.FETCH_MODELS,payload:!0})},[A]),H=R.exports.useCallback(()=>A({type:Rt.FETCH_MODELS,payload:!1}),[A]),Z=R.exports.useMemo(()=>{if(S.fetchModels)return a(Gn,{active:!0,size:"massive"});if(S.error)return a(wr,{children:S.error.toString()});if(S.models.length===0)return a(wr,{children:P.no_results_found});{const O=S.models.map(ne=>{var Y=ne,{keyGrams:U}=Y,V=ul(Y,["keyGrams"]);return{link:`/${et.EVENT}/${V.id}`,jsx:a(Il,{event:V,tags:U})}});return a(xo,{cards:O})}},[S.fetchModels,S.error,S.models]);return C(zl,{children:[C($l,{children:[a("h1",{className:"mzp-u-title-sm",children:P.events}),a(kl,{placeholder:P.search_topic_placeholder,query:N,setQuery:z,handleSearch:B})]}),a(Fl,{allBodies:i,filters:[p,h,_],sortOptions:[{by:"event_datetime",order:Fe.desc,label:P.newest_first},{by:"event_datetime",order:Fe.asc,label:P.oldest_first}],handlePopupClose:$}),Z,a(Ii,{isVisible:S.hasMoreModels&&!S.fetchModels,children:C("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:H,children:[a("span",{children:P.show_more}),a(Gn,{inline:!0,active:S.showMoreModels,size:"tiny"})]})})]})},By=()=>{const{firebaseConfig:i}=Te();Hn(P.events);const r=Wn(),s=R.exports.useMemo(()=>{if(r.state)return r.state;const{body:h}=ao.parse(r.search),p={};return h&&typeof h=="string"&&(p[h]=!0),{committees:p}},[r]),d=R.exports.useCallback(async()=>{const p=await new wl(i).getAllBodies();return Promise.resolve({bodies:p})},[i]),{state:u}=De({isLoading:!1,error:null,hasFetchRequest:!0},d);return a(qn,{isLoading:u.isLoading,error:u.error,children:u.data&&a(Ny,ge(se({},u.data),{initialSelectedBodies:s.committees}))})};class Fy extends He{constructor(r){super(E.Person,r)}async getPersonById(r){const s=new Me(E.File,G.PersonPictureRef),d=this.networkService.getDocument(r,E.Person,new ke([s]));return this.createModel(d,Ti,`getPersonById(${r})`)}}class eu{constructor(r){this.id=r.id,this.name=r.name,r.external_source_id&&(this.external_source_id=r.external_source_id),r.electoral_area&&(this.electoral_area=r.electoral_area),r.electoral_type&&(this.electoral_type=r.electoral_type),r.image_ref&&(r.image_ref instanceof xe?this.image_ref=r.image_ref.id:typeof r.image_ref=="object"&&(this.image=new Zn(r.image_ref)))}}class Bi{constructor(r){this.id=r.id,this.title=r.title,this.person_ref=r.person_ref.id,this.seat_ref=r.seat_ref.id,this.start_datetime=Bt(r.start_datetime),r.end_datetime&&(this.end_datetime=Bt(r.end_datetime)),typeof r.person_ref=="object"&&!(r.person_ref instanceof xe)&&(this.person=new Ti(r.person_ref)),r.body_ref&&(r.body_ref instanceof xe?this.body_ref=r.body_ref.id:typeof r.body_ref=="object"&&(this.body=new bi(r.body_ref))),typeof r.seat_ref=="object"&&!(r.seat_ref instanceof xe)&&(this.seat=new eu(r.seat_ref)),r.external_source_id&&(this.external_source_id=r.external_source_id)}}class Co extends He{constructor(r){super(E.Role,r)}async getPopulatedRolesByPersonId(r){const s=new Me(E.Body,G.RoleBodyRef),d=this.networkService.getDocuments(E.Role,[Ee(G.RolePersonRef,be.eq,Be(pe.getDb(),E.Person,r)),Ge("start_datetime",Fe.desc)],new ke([s]));return this.createModels(d,Bi,`getPopulatedRolesByPersonId(${r})`)}async getCouncilMemberRolesByPersonId(r){const s=new Me(E.Seat,G.RoleSeatRef),d=this.networkService.getDocuments(E.Role,[Ee(G.RolePersonRef,be.eq,Be(pe.getDb(),E.Person,r)),Ee("title",be.eq,zt.COUNCILMEMBER),Ge("start_datetime",Fe.desc)],new ke([s]));return this.createModels(d,Bi,`getCouncilMemberRolesByPersonId(${r})`)}async getMostRecentCouncilMemberRoleBySeat(r){const s=new Me(E.Person,G.RolePersonRef),d=this.networkService.getDocuments(E.Role,[Ee(G.RoleSeatRef,be.eq,Be(pe.getDb(),E.Seat,r)),Ee("end_datetime",be.eq,null),wn(1),Ge("start_datetime",Fe.desc)],new ke([s])),u=await this.createModels(d,Bi,"getMostRecentCouncilMemberRoleBySeatWithNullEndDates");if(u[0])return Promise.resolve(u[0]);const h=this.networkService.getDocuments(E.Role,[Ee(G.RoleSeatRef,be.eq,Be(pe.getDb(),E.Seat,r)),wn(1),Ge("end_datetime",Fe.desc)],new ke([s])),p=await this.createModels(h,Bi,"getMostRecentCouncilMemberRoleBySeat");return p[0]?Promise.resolve(p[0]):Promise.resolve(null)}}var ln=k.h2(i=>({display:i.isInline?"inline":"block",paddingBottom:i.hasBorderBottom?8:0,borderBottom:i.hasBorderBottom?`1px solid ${It.grey}`:0}));const zy=k.div({"& > address > a:nth-of-type(2)":{marginTop:8},"& a":{display:"flex",alignItems:"center",columnGap:8},"& svg":{width:tt.font_size_5,height:tt.font_size_5,color:It.black}}),ky=({person:i})=>i.phone||i.email||i.website?C(zy,{children:[a(ln,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:P.contact}),(i.phone||i.email)&&C("address",{children:[i.email&&C("a",{className:"mzp-c-cta-link",href:`mailto:${i.email}`,children:[a("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.email]}),i.phone&&C("a",{className:"mzp-c-cta-link",href:`tel:${i.phone}`,children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.phone]})]}),i.website&&C(Pt,{children:[a("br",{}),a("a",{className:"mzp-c-cta-link",target:"_blank",rel:"noopener noreferrer",href:i.website,children:P.visit_persons_website.replace("{person_name}",i.name)})]})]}):null,$y=Ri[Math.floor(Math.random()*Ri.length)],Oy=k.div({position:"relative",height:150,"& img":{objectFit:"cover"},[`@media (min-width:${ue.tablet})`]:{height:400}}),Dy=k.img({width:"100%",height:"100%"}),Uy=k.img(i=>({visibility:i.isLoading?"hidden":"visible",position:"absolute",left:-5,bottom:-35,width:100,height:100,borderRadius:"50%",[`@media (min-width:${ue.tablet})`]:{left:-25,width:200,height:200}})),Vy=({personName:i,personPictureSrc:r,seatPictureSrc:s,electoralArea:d})=>{const[u,h]=R.exports.useState(!0),[p,_]=R.exports.useState(!0);return R.exports.useEffect(()=>{r.data===null&&h(!1)},[r.data]),C(Oy,{children:[a(yo,{contentIsLoading:p||u,children:a(Dy,{className:"mzp-c-card-image",src:s.data===null?$y:s.data,alt:`${d||""}`,onLoad:()=>_(!1)})}),r.data&&a(Uy,{isLoading:p||u,className:"mzp-c-card-image",src:r.data,alt:`Picture of ${i}`,onLoad:()=>h(!1)})]})};class tu{constructor(r){this.id=r.id,this.person_ref=r.person_ref.id,this.matter_ref=r.matter_ref.id,r.external_source_id&&(this.external_source_id=r.external_source_id),typeof r.person_ref=="object"&&!(r.person_ref instanceof xe)&&(this.person=new Ti(r.person_ref)),typeof r.matter_ref=="object"&&!(r.matter_ref instanceof xe)&&(this.matter=new xr(r.matter_ref))}}class nu extends He{constructor(r){super(E.MatterSponsor,r)}async getMatterSponsorByMatterId(r){const s=new Me(E.MatterSponsor,G.MatterSponsorPersonRef),d=this.networkService.getDocuments(E.MatterSponsor,[Ee(G.MatterSponsorMatterRef,be.eq,Be(pe.getDb(),E.Matter,r))],new ke([s]));return this.createModels(d,tu,`getMatterSponsorByMatterId(${r})`)}async getMattersSponsoredByPersonId(r,s,d){const u=new Me(E.Matter,G.MatterSponsorMatterRef),h=[];if(h.push(Ee(G.MatterSponsorPersonRef,be.eq,Be(pe.getDb(),E.Person,r))),h.push(Ge(G.MatterSponsorMatterRef,Fe.asc)),d){const _=Be(pe.getDb(),E.MatterSponsor,d),w=await io(_);h.push(oo(w))}h.push(wn(s));const p=this.networkService.getDocuments(E.MatterSponsor,h,new ke([u]));return this.createModels(p,tu,`getMattersSponsoredByPersonId(${r})`)}}const Wy=25,Gy=25,Hy=k.summary(i=>({"&::before":{content:"none"},cursor:"pointer",paddingRight:0,paddingBottom:i.hasBorderBottom?8:0,borderBottom:i.hasBorderBottom?`1px solid ${It.grey}`:0})),En=({summaryContent:i,hiddenContent:r,defaultOpen:s,hasBorderBottom:d})=>C("details",{open:s,children:[a(Hy,{hasBorderBottom:d,children:i}),r]});var Fi=k.ul(i=>({marginLeft:"1.25rem","& > li":{marginTop:i.gap}}));const qy=({personId:i})=>{const{firebaseConfig:r}=Te(),s=R.exports.useCallback(_=>async()=>{const w=!_.fetchModels&&_.models.length>0?_.models[_.models.length-1].id:void 0,S=await new nu(r).getMattersSponsoredByPersonId(i,_.batchSize,w);return Promise.resolve(S)},[r,i]),{state:d,dispatch:u}=So({batchSize:Gy,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},s),h=R.exports.useCallback(()=>u({type:Rt.FETCH_MODELS,payload:!1}),[u]),p=R.exports.useMemo(()=>C(br,{data:"legislations",isLoading:d.fetchModels,error:d.error,notFound:!d.fetchModels&&d.models.length===0,children:[a(Fi,{gap:8,children:d.models.map(_=>{var w,x,S,A;return a("li",{children:C("dl",{children:[a("dt",{children:a(We,{to:`/matters/${(w=_.matter)==null?void 0:w.id}`,children:a("strong",{children:(x=_.matter)==null?void 0:x.name})},(S=_.matter)==null?void 0:S.id)}),a("dd",{children:(A=_.matter)==null?void 0:A.title})]})},_.id)})}),a("br",{}),a(Ii,{isVisible:!d.fetchModels&&d.hasMoreModels,children:C("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:h,children:[a("span",{children:P.show_more}),a(Gn,{inline:!0,active:d.showMoreModels,size:"tiny"})]})})]}),[d,h]);return a("div",{style:{marginTop:16},children:a(En,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:a(ln,{className:"mzp-u-title-xs",isInline:!0,children:P.legislation_sponsored}),hiddenContent:p})})};function Zy(i){function r(d,u){return`${d.toISOString()}${u==null?void 0:u.toISOString()}`}return[...new Map(i.map(d=>[r(d.start_datetime,d.end_datetime),d])).values()].sort((d,u)=>u.start_datetime.getTime()-d.start_datetime.getTime())}function Qy(i,r){const s=i.filter(p=>p.title!==zt.COUNCILMEMBER),d=[zt.COUNCILPRESIDENT,zt.CHAIR,zt.VICE_CHAIR,zt.SUPERVISOR,zt.MEMBER,zt.ALTERNATE];s.sort((p,_)=>d.indexOf(p.title)-d.indexOf(_.title));const u=r.reduce((p,_)=>(p[_.id]=[[],[]],p),{}),h=new Date;for(const p of s){const _=p.end_datetime||h;for(const w of r){const x=w.end_datetime||h;_>=w.start_datetime&&_<=x&&(_>h?u[w.id][0].push(p):u[w.id][1].push(p))}}return[u,s]}const Eo=({hasBorderBottom:i,roles:r,defaultOpen:s,title:d})=>a(En,{hasBorderBottom:i,defaultOpen:s,summaryContent:d,hiddenContent:a(Fi,{gap:4,children:r.map(u=>{var h,p,_;return C("li",{children:[a("strong",{children:`${P[u.title.toLowerCase().replace(" ","_")]}: `}),a(We,{to:{pathname:"/events",search:`?body=${(h=u.body)==null?void 0:h.id}`,state:{committees:{[(p=u.body)==null?void 0:p.id]:!0}}},children:a("strong",{children:`${(_=u.body)==null?void 0:_.name}`})})]},u.id)})})}),Jy=({councilMemberRoles:i,allRoles:r})=>{const{municipality:s}=Te(),{language:d}=Ct(),[u,h,p]=R.exports.useMemo(()=>{const _=Zy(i),[w,x]=Qy(r,_);return[_,w,x]},[i,r]);return r.length===0?null:u.length===0&&p.length>0?a(Eo,{hasBorderBottom:!0,roles:p,defaultOpen:!1,title:a(ln,{isInline:!0,className:"mzp-u-title-xs",children:P.committees})}):C("div",{children:[a(ln,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:P.terms}),a(Fi,{gap:16,children:u.map(_=>{var x,S;const w=!_.end_datetime||_.end_datetime>new Date;return a("li",{children:a(En,{defaultOpen:w,summaryContent:C("span",{style:{fontSize:tt.font_size_6},children:[a("strong",{children:`${P[_.title.toLowerCase().replace(" ","_")]}: `})," ",`${(x=_.seat)==null?void 0:x.name} // ${(S=_.seat)==null?void 0:S.electoral_area} (${_.start_datetime.toLocaleDateString(d,{timeZone:s.timeZone})} - ${_.end_datetime?_.end_datetime.toLocaleDateString(d,{timeZone:s.timeZone}):""})`]}),hiddenContent:C(Fi,{gap:8,children:[h[_.id][0].length>0&&a("li",{children:a(Eo,{hasBorderBottom:!1,roles:h[_.id][0],defaultOpen:w,title:P.committee_membership})}),h[_.id][1].length>0&&a("li",{children:a(Eo,{hasBorderBottom:!1,roles:h[_.id][1],defaultOpen:!w,title:P.former_committee_membership})})]})})},_.id)})})]})},Ky=({index:i,legislationLink:r,legislationName:s,legislationTags:d,voteDecision:u,councilDecision:h,meetingDate:p,meetingLink:_,committeeName:w,columnNames:x,columnDistribution:S})=>{const{municipality:A}=Te(),{language:F}=Ct(),N=d&&d.length>0?d.join(Ei):"",z=p==null?void 0:p.toLocaleDateString(F,{timeZone:A.timeZone,month:"long",day:"numeric",year:"numeric"}),B=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`});return C(Yl,{index:i,columnNames:x,columnDistribution:S,children:[C(xn.Fragment,{children:[a(We,{to:r,children:a("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:s})}),!B&&a("p",{className:"mzp-c-card-desc",children:N})]}),a(Qt,{result:u}),a(Qt,{result:h}),C(xn.Fragment,{children:[a(We,{to:_,children:z}),!B&&a("p",{className:"mzp-c-card-desc",children:w})]})]},`voting-table-row-${i}`)};function Xy(i){return a(Ni,{index:i},`empty-table-row-${i}`)}const Yy=({name:i,votesPage:r})=>{const s=[P.legislation,P.persons_vote.replace("{name}",i),P.council_decision,P.meeting],d=["30%","15%","20%","35%"];function u(h,p){var B;if(!h.matter||!h.decision||!h.event)return Xy(p);const _=h.matter.name,w=h.decision,x=(B=h.event_minutes_item)==null?void 0:B.decision,S=`/matters/${h.matter.id}`,A=h.matter.keywords,F=h.event.event_datetime,N=`/events/${h.event.id}`,z=h.event.body.name;return a(Ky,{index:p,legislationName:_,voteDecision:w,councilDecision:x,legislationLink:S,legislationTags:A,meetingDate:F,meetingLink:N,committeeName:z,columnNames:s,columnDistribution:d},`voting-table-row-${p}`)}return a(jl,{data:r,columnDistribution:d,columnNames:s,renderRow:u})},jy=({personId:i,personName:r})=>{const{firebaseConfig:s}=Te(),d=R.exports.useCallback(w=>async()=>{const x=!w.fetchModels&&w.models.length>0?w.models[w.models.length-1].id:void 0,A=await new Ai(s).getFullyPopulatedVotesByPersonId(i,w.batchSize,x);return Promise.resolve(A)},[s,i]),{state:u,dispatch:h}=So({batchSize:Wy,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},d),p=R.exports.useCallback(()=>h({type:Rt.FETCH_MODELS,payload:!1}),[h]),_=R.exports.useMemo(()=>C(br,{data:"votes",isLoading:u.fetchModels,error:u.error,notFound:!u.fetchModels&&u.models.length===0,children:[a(Yy,{name:r,votesPage:u.models}),a("br",{}),a(Ii,{isVisible:!u.fetchModels&&u.hasMoreModels,children:C("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:p,children:[a("span",{children:P.show_more}),a(Gn,{inline:!0,active:u.showMoreModels,size:"tiny"})]})})]}),[r,u,p]);return a(En,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:a(ln,{className:"mzp-u-title-xs",isInline:!0,children:P.persons_voting_record.replace("{person_name}",r)}),hiddenContent:C(Pt,{children:[a("br",{}),_]})})},ew=k.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),tw=k.h1({margin:0,"& > span:first-of-type":{fontSize:"inherit",fontWeight:"inherit"},"& > span:not(:first-of-type)":{fontSize:tt.font_size_7},"& > span:nth-of-type(2)":{marginLeft:16,padding:"0px 8px",borderRadius:4,fontWeight:300},"& > span:nth-of-type(3)":{marginTop:16,display:"block",fontWeight:400}}),nw=k.div(i=>({display:i.isVisible?"grid":"none",rowGap:64,gridTemplateColumns:"1fr",[`@media (min-width:${ue.tablet})`]:{gridTemplateColumns:"auto 1fr",columnGap:128}})),rw=({person:i,roles:r,councilMemberRoles:s,personPictureSrc:d,seatPictureSrc:u})=>{var x;const h=s.length>0?s[0]:void 0,p=!(h==null?void 0:h.end_datetime)||(h==null?void 0:h.end_datetime)>new Date,_=!!(i.phone||i.email||i.website),w=r.length>0;return Hn(i.name),C(ew,{children:[a(Vy,{personName:i.name,personPictureSrc:d,seatPictureSrc:u,electoralArea:(x=h==null?void 0:h.seat)==null?void 0:x.electoral_area}),C(tw,{className:"mzp-u-title-sm",children:[a("span",{children:i.name}),h&&a("span",{className:p?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:p?P.active:P.inactive}),(h==null?void 0:h.seat)&&a("span",{children:`${h==null?void 0:h.seat.name} // ${h.seat.electoral_area}`})]}),C(nw,{isVisible:_||w,children:[a(ky,{person:i}),a(Jy,{councilMemberRoles:s,allRoles:r})]}),a(qy,{personId:i.id}),a("div",{children:a(jy,{personId:i.id,personName:i.name})})]})},iw=()=>{const{id:i}=uo(),{firebaseConfig:r}=Te(),s=R.exports.useCallback(async()=>{const Z=await new Fy(r).getPersonById(i);return Promise.resolve(Z)},[i,r]),{state:d}=De(se({},Et),s),u=R.exports.useCallback(async()=>{var O;const H=new Ci(r),{networkService:Z}=H;if((O=d.data)==null?void 0:O.picture){const U=await Z.getDownloadUrl(d.data.picture.uri);return Promise.resolve(U)}return Promise.resolve(null)},[d.data,r]),{state:h,dispatch:p}=De(ge(se({},Et),{hasFetchRequest:!1}),u);R.exports.useEffect(()=>{d.data&&p({type:gt.FETCH})},[d.data,p]);const _=R.exports.useCallback(async()=>{const Z=await new Co(r).getCouncilMemberRolesByPersonId(i);return Promise.resolve(Z)},[i,r]),{state:w}=De(se({},Et),_),x=R.exports.useCallback(async()=>{const H=new Ci(r),{networkService:Z}=H;if(w.data&&w.data.length>0&&w.data[0].seat&&w.data[0].seat.image_ref){const O=await H.getFileById(w.data[0].seat.image_ref),U=await Z.getDownloadUrl(O.uri);return Promise.resolve(U)}return Promise.resolve(null)},[w.data,r]),{state:S,dispatch:A}=De(ge(se({},Et),{hasFetchRequest:!1}),x);R.exports.useEffect(()=>{w.data&&A({type:gt.FETCH})},[w.data,A]);const F=R.exports.useCallback(async()=>{const Z=await new Co(r).getPopulatedRolesByPersonId(i);return Promise.resolve(Z)},[i,r]),{state:N}=De(se({},Et),F),z=R.exports.useMemo(()=>d.isLoading||w.isLoading||N.isLoading,[d.isLoading,w.isLoading,N.isLoading]),B=R.exports.useMemo(()=>{if(!(!d.data||!w.data||!N.data))return{person:d.data,councilMemberRoles:w.data,roles:N.data}},[d.data,w.data,N.data]),$=R.exports.useMemo(()=>{const H=[d.error,w.error,N.error].map(Z=>(Z==null?void 0:Z.message)||"").filter(Z=>Z.length>0);return H.length>0?new Error(H.join(`
`)):null},[d.error,w.error,N.error]);return a(qn,{isLoading:z,error:$,children:B&&a(rw,ge(se({},B),{personPictureSrc:h,seatPictureSrc:S}))})},sw=Ri[Math.floor(Math.random()*Ri.length)],ow=k.div({float:"right",marginRight:8,marginBottom:8,borderRadius:"10%",padding:"0 4px"}),ru=k.img(i=>({objectFit:"cover",left:`${i.left} !important`,width:`${i.width} !important`,height:"100%"})),aw=({person:i,seat:r})=>{var x,S,A,F,N,z;const{firebaseConfig:s}=Te(),d=R.exports.useCallback(async()=>{const B=new Ci(s),{networkService:$}=B,H=[Promise.resolve(void 0),Promise.resolve(void 0)];r.image_ref&&(H[0]=B.getFileById(r.image_ref).then(U=>$.getDownloadUrl(U.uri)).catch(()=>Promise.resolve(void 0))),i.picture_ref&&(H[1]=B.getFileById(i.picture_ref).then(U=>$.getDownloadUrl(U.uri)).catch(()=>Promise.resolve(void 0)));const[Z,O]=await Promise.all(H);return Promise.resolve({seatPictureSrc:Z,personPictureSrc:O})},[i.picture_ref,r.image_ref,s]),{state:u}=De({isLoading:!1,error:null,hasFetchRequest:!0},d),[h,p]=R.exports.useState(!0),[_,w]=R.exports.useState(!0);return R.exports.useEffect(()=>{var B;!u.isLoading&&((B=u.data)==null?void 0:B.personPictureSrc)===void 0&&p(!1)},[u]),a("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:C("div",{className:"mzp-c-card-block-link",children:[a("div",{className:"mzp-c-card-media-wrapper",children:a(Cl,{children:C(yo,{contentIsLoading:h||_,children:[((x=u.data)==null?void 0:x.personPictureSrc)&&a(ru,{className:"mzp-c-card-image",src:u.data.personPictureSrc,width:((S=u.data)==null?void 0:S.seatPictureSrc)?"40%":"100%",left:"0",alt:i.name,onLoad:()=>p(!1)}),a(ru,{className:"mzp-c-card-image",src:!u.isLoading&&((A=u.data)==null?void 0:A.seatPictureSrc)===void 0?sw:(F=u.data)==null?void 0:F.seatPictureSrc,width:((N=u.data)==null?void 0:N.personPictureSrc)?"60%":"100%",left:((z=u.data)==null?void 0:z.personPictureSrc)?"40%":"0",alt:`${r.name} - ${r.electoral_area}`,onLoad:()=>w(!1)})]})})}),C("div",{className:"mzp-c-card-content",children:[a("h2",{className:"mzp-c-card-title",children:i.name}),a(ow,{className:i.is_active?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:i.is_active?P.active:P.inactive}),C("p",{className:"mzp-c-card-desc",children:[r.name," \u2022 ",r.electoral_area]})]})]})})},cw=({roles:i,seats:r})=>{const s=i.reduce((d,u,h)=>(u.person&&d.push({link:`/people/${u.person.id}`,jsx:a(aw,{person:u.person,seat:r[h]},`person-card-${u.person.name}`)}),d),[]);return C("div",{children:[a("h1",{className:"mzp-u-title-sm",children:"Current Councilmembers"}),a(xo,{cards:s})]})};class lw extends He{constructor(r){super(E.Seat,r)}async getAllSeats(){const r=this.networkService.getDocuments(E.Seat,[Ge("name")]);return this.createModels(r,eu,"getAllSeats")}}const uw=()=>{const{firebaseConfig:i}=Te(),r=R.exports.useCallback(async()=>{const d=new lw(i),u=new Co(i),h=await d.getAllSeats(),p=h.map(S=>u.getMostRecentCouncilMemberRoleBySeat(S.id)),_=await Promise.all(p),w=_.reduce((S,A,F)=>(A===null&&S.push(F),S),[]),x=_.reduce((S,A)=>(A!==null&&S.push(A),S),[]);for(let S=w.length-1;S>=0;S--)h.splice(w[S],1);return{seats:h,roles:x}},[i]),{state:s}=De({isLoading:!1,error:null,hasFetchRequest:!0},r);return a(qn,{isLoading:s.isLoading,error:s.error,children:s.data&&a(cw,{roles:s.data.roles,seats:s.data.seats})})},dw=({matterStatus:i,indexedMatterGrams:r})=>{var s,d;return C("div",{children:[a("h1",{className:"mzp-u-title-sm",children:(s=i.matter)==null?void 0:s.name}),a("b",{children:(d=i.matter)==null?void 0:d.title}),C("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:12,marginBottom:12},children:[a(Qt,{result:i.status,style:{display:"flex",alignItems:"center",flex:0,whiteSpace:"nowrap"}}),a("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",flex:1},children:r&&r.map(u=>C("div",{children:[a("p",{style:{display:"inline",paddingLeft:11,paddingRight:11},children:"\u2022"}),a("p",{style:{display:"inline"},children:u.unstemmed_gram})]},u.id))})]})]})},Er=20,Io=6,In=k.div({width:Er,height:Er,borderRadius:"50%",zIndex:1}),iu=29,fw=`calc(50% + ${Er/2}px + ${Io+2}px)`,hw=k.div({height:iu,position:"relative"}),su=k.div(i=>({position:"absolute",top:0,left:0,height:iu,width:i.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:i.zIndex,"& > div:first-of-type":{marginLeft:Io},"& > div:last-of-type":{marginRight:Io}})),pw=k.div({display:"flex",justifyContent:"space-between","& > div":{fontWeight:500}}),mw={[_t.ADOPTED]:["cdp-bg-acceptance-green","cdp-bg-light-acceptance_green"],[_t.REJECTED]:["cdp-bg-rejected-red","cdp-bg-light-rejected_red"],[_t.IN_PROGRESS]:["cdp-bg-in-progress_orange","cdp-bg-light-in_progress_orange"]},gw=({status:i})=>{const r=mw[i],s=i===_t.IN_PROGRESS;return C("div",{children:[C(hw,{children:[C(su,{className:r[1],width:s?fw:"100%",zIndex:2,children:[a(In,{className:r[0]}),a(In,{className:r[0]}),!s&&a(In,{className:r[0]})]}),C(su,{className:"cdp-bg-light-neutral_grey",width:"100%",zIndex:1,children:[a(In,{className:"cdp-bg-neutral-grey"}),a(In,{className:"cdp-bg-neutral-grey"}),a(In,{className:"cdp-bg-neutral-grey"})]})]}),C(pw,{children:[a("div",{children:"Introduced"}),a("div",{children:_t.IN_PROGRESS}),a("div",{style:{opacity:s?"0.75":"1"},children:s?_t.ADOPTED:i})]})]})},_w=k(ln)({display:"flex",justifyContent:"space-between",alignItems:"flex-end","& > em":{fontSize:tt.font_size_6,fontWeight:400}}),vw=k.div({display:"flex",flexWrap:"wrap"}),yw=k.dl({fontSize:tt.font_size_6,display:"flex",flexDirection:"column",rowGap:16,"& > div:not(:nth-of-type(2))":{display:"flex",columnGap:4,flexWrap:"wrap"},"& > div:nth-of-type(2)":{margin:"16px 0"},"& > div:nth-of-type(2) > dt":{width:0,height:0,overflow:"hidden"},"& dt":{fontWeight:600},"& dd":{fontWeight:400}}),ww=({matterStatus:i,event:r,sponsors:s,document:d})=>{const{municipality:u}=Te(),{language:h}=Ct();return C("div",{children:[C(_w,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:[a("span",{children:"Legislation Overview"}),a("em",{children:`Last Updated ${i.update_datetime.toLocaleDateString(h,{timeZone:u.timeZone,month:"long",day:"numeric",year:"numeric"})}`})]}),C(yw,{children:[C("div",{children:[a("dt",{children:"Legislation Status:"}),a("dd",{children:a(Qt,{result:i.status})})]}),C("div",{children:[a("dt",{children:"Progress bar"}),a("dd",{children:a(gw,{status:i.status})})]}),r&&C("div",{children:[a("dt",{children:"Latest Meeting:"}),a("dd",{children:a(We,{to:`/events/${r.id}`,children:r.event_datetime.toLocaleDateString(h,{timeZone:u.timeZone,month:"short",day:"numeric",year:"numeric"})})})]}),d&&C("div",{children:[a("dt",{children:"Latest Document:"}),a("dd",{children:a("a",{target:"_blank",rel:"noopener noreferrer",href:d.url,children:d.name})})]}),C("div",{children:[a("dt",{children:"Sponsored by:"}),a("dd",{children:a(vw,{children:s.map((p,_)=>[_>0&&a("span",{style:{whiteSpace:"pre-wrap"},children:",  "}),a(We,{to:`/people/${p.id}`,children:p.name},p.id)])})})]})]})]})},xw=k.div({flex:4}),ou=k.div(i=>({position:"absolute",top:0,left:0,height:i.height,width:i.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",zIndex:i.zIndex})),Ro=({statusColor:i,percentage:r,height:s,votes:d,label:u})=>{const[h,p]=R.exports.useState(!1),_=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`}),w=d.map((F,N)=>{var z;return C("div",{style:{marginTop:4,display:"flex"},children:[a(We,{to:`/people/${F.id}`,style:{marginLeft:12,flex:1},children:(z=F.person)==null?void 0:z.name}),a(Qt,{result:F.decision}),!_&&a(xw,{style:{flex:4}})]},`${N}_${F.id}_vote`)}),x=_?"column":"row",S=_?"100%":"80%",A=_?"100%":"20%";return C("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[C("div",{style:{display:"flex",flexDirection:x,flex:1,alignItems:"center"},children:[C("div",{style:{height:s,position:"relative",width:S,cursor:"pointer"},onClick:()=>{p(!h)},children:[a(ou,{className:i,width:`${r}%`,height:s,zIndex:2}),a(ou,{className:"cdp-bg-neutral-grey",width:"100%",height:s,zIndex:1})]}),a("b",{style:{marginLeft:16,width:A},children:u})]}),h&&w]})};function bw(i){const r=[],s=[],d=[];return i.forEach(u=>{[ve.ABSENT_APPROVE,ve.ABSTAIN_APPROVE,ve.APPROVE].includes(u.decision)&&r.push(u),[ve.ABSENT_REJECT,ve.ABSTAIN_REJECT,ve.REJECT].includes(u.decision)&&s.push(u),[ve.ABSENT_NON_VOTING,ve.ABSTAIN_NON_VOTING].includes(u.decision)&&d.push(u)}),{inFavor:r,against:s,abstained:d}}const Mo=16,au=({votes:i})=>{const{inFavor:r,against:s,abstained:d}=bw(i),u=P.number_approved.replace("{number}",`${r.length}`),h=P.number_rejected.replace("{number}",`${s.length}`),p=P.number_non_voting.replace("{number}",`${d.length}`),_=[a(Ro,{statusColor:"cdp-bg-acceptance-green",votes:r,percentage:r.length/i.length*100,height:Mo,label:u},"inFavorVoteBar"),a(Ro,{statusColor:"cdp-bg-rejected-red",votes:s,percentage:s.length/i.length*100,height:Mo,label:h},"againstVoteBar"),a(Ro,{statusColor:"cdp-bg-light-purple",votes:d,percentage:d.length/i.length*100,height:Mo,label:p},"abstainedVoteBar")];return a("div",{style:{display:"flex",flexDirection:"column"},children:_})},Sw=({votes:i})=>a("div",{style:{marginTop:16},children:a(En,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:a(ln,{className:"mzp-u-title-xs",isInline:!0,children:P.latest_vote}),hiddenContent:a(au,{votes:i})})}),Cw=({eventMinutesItem:i,isLastIndex:r})=>{var $,H,Z,O,U,V,ne,Y;const{municipality:s}=Te(),d=Zt.exports.useMediaQuery({query:`(max-width: ${ue.tablet})`}),u=d?4:12,h=k.div({position:"relative"}),p=k.div({margin:u,display:"flex",flexDirection:"row",gap:u*3}),_=k.div({flex:1}),w=k.div({display:"flex",flexDirection:"row"}),x=k.div(()=>({flex:1,marginTop:u,marginLeft:d?0:u*2})),S=k.div({position:"absolute",top:u+Er,left:Er/2+u,height:"100%",width:2,zIndex:0,backgroundColor:"grey"}),{firebaseConfig:A}=Te(),{language:F}=Ct(),N=($=i.event)==null?void 0:$.event_datetime.toLocaleDateString(F,{timeZone:s.timeZone,month:"long",day:"numeric",year:"numeric"}),z=R.exports.useCallback(async()=>{const le={votes:[],files:[]},Ae=await new Vl(A).getEventMinutesItemFilesByEventMinutesItemId(i.id);if(le.files=Ae.map(({name:Le,uri:qe})=>({label:Le,url:qe})),i.decision){const Le=new Ai(A);le.votes=await Le.getVotesByEventMinutesItemId(i.id)}return Promise.resolve(le)},[i.id,i.decision,A]),{state:B}=De(se({},Et),z);return C(h,{children:[C(p,{children:[a(In,{className:"cdp-bg-neutral-grey"}),C(_,{children:[C(w,{children:[a(We,{to:`/events/${(H=i.event)==null?void 0:H.id}`,children:N}),i.decision&&a(Qt,{result:i.decision,style:{marginLeft:u,display:"flex",flex:1,alignItems:"center"}})]}),C(br,{data:"votes and documents associated with this event",isLoading:B.isLoading,error:B.error,notFound:!B.data,children:[((Z=B.data)==null?void 0:Z.votes)&&((O=B.data)==null?void 0:O.votes.length)>0&&a(En,{summaryContent:P.votes,hiddenContent:a(x,{children:a(au,{votes:(U=B.data)==null?void 0:U.votes})}),defaultOpen:!1,hasBorderBottom:!1}),((V=B.data)==null?void 0:V.files)&&((ne=B.data)==null?void 0:ne.files.length)>0&&a(Xl,{documents:(Y=B.data)==null?void 0:Y.files})]})]})]}),!r&&a(S,{})]})},Ew=k.div({marginTop:16}),Iw=k.div({display:"flex",flexDirection:"column"}),Rw=({eventMinutesItems:i})=>a(Ew,{children:a(En,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:a(ln,{className:"mzp-u-title-xs",isInline:!0,children:P.history}),hiddenContent:a(Iw,{children:i.map((r,s)=>a(Cw,{isLastIndex:s===i.length-1,eventMinutesItem:r},`leg_hist_node_${r.id}_${s}`))})})}),Mw=k.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),Tw=({matterStatus:i,indexedMatterGrams:r,event:s,sponsors:d,votes:u,legislationHistory:h})=>C(Mw,{children:[a(dw,{matterStatus:i,indexedMatterGrams:r}),a(ww,{matterStatus:i,event:s,sponsors:d}),u&&a(Sw,{votes:u}),h&&a(Rw,{eventMinutesItems:h})]});class Aw extends He{constructor(r){super(E.Matter,r)}async getMatterById(r){const s=this.networkService.getDocument(r,E.Matter);return this.createModel(s,xr,`getMatterById(${r})`)}}class Lw{constructor(r){this.id=r.id,this.matter_ref=r.matter_ref.id,this.status=r.status,this.update_datetime=Bt(r.update_datetime),r.event_minutes_item_ref&&(r.event_minutes_item_ref instanceof xe?this.event_minutes_item_ref=r.event_minutes_item_ref.id:typeof r.event_minutes_item_ref=="object"&&(this.event_minutes_item=new Mi(r.event_minutes_item_ref))),r.external_source_id&&(this.external_source_id=r.external_source_id),typeof r.matter_ref=="object"&&!(r.matter_ref instanceof xe)&&(this.matter=new xr(r.matter_ref))}}class Pw extends He{constructor(r){super(E.MatterStatus,r)}async getMatterStatusesByMatterId(r){const s=new Me(E.EventMinutesItem,G.EventMinutesItemEventRef),d=new Me(E.MatterStatus,G.MatterStatusEventMinutesItemRef,new ke([s])),u=this.networkService.getDocuments(E.MatterStatus,[Ee(G.MatterStatusMatterRef,be.eq,Be(pe.getDb(),E.Matter,r)),Ge("update_datetime",Fe.desc)],new ke([d]));return this.createModels(u,Lw,`getMatterStatusByMatterId(${r})`)}}const Nw=()=>{const{firebaseConfig:i}=Te(),{id:r}=uo(),s=R.exports.useCallback(async()=>{const u=new Aw(i),h=new Pw(i),p=new nu(i),_=new Si(i),w=u.getMatterById(r),x=p.getMatterSponsorByMatterId(r),S=h.getMatterStatusesByMatterId(r),A=await Promise.all([w,x,S]),[F,N,z]=A,B=N.filter(U=>U.person).map(U=>U.person),$=z.reduce((U,V)=>(V.event_minutes_item&&U.push(V.event_minutes_item),U),[]),H=z[0];H.matter=F;const Z={matterStatus:H,indexedMatterGrams:[],sponsors:B,legislationHistory:$};let O;for(const U of z)if(U.event_minutes_item){O=U.event_minutes_item;break}if(O){const U=new Ai(i),V=await Promise.all([U.getVotesByEventMinutesItemId(O.id),_.getEventById(O.event_ref)]);Z.votes=V[0],Z.event=V[1]}return Z},[i,r]),{state:d}=De({isLoading:!1,error:null,hasFetchRequest:!0},s);return a(qn,{isLoading:d.isLoading,error:d.error,children:d.data&&a(Tw,{indexedMatterGrams:d.data.indexedMatterGrams,matterStatus:d.data.matterStatus,sponsors:d.data.sponsors,event:d.data.event,votes:d.data.votes,legislationHistory:d.data.legislationHistory})})};const Bw=k.div({minHeight:"100vh",display:"flex",flexDirection:"column"}),Fw=k.main({boxSizing:"border-box",width:"100%",padding:"16px",flex:1,alignSelf:"center",display:"flex",flexDirection:"column",[`@media (min-width:${ue.tablet})`]:{padding:"32px",maxWidth:"1280px"}});function zw(){Hn(P.council_data_project);const{municipality:i}=Te(),[r,s]=R.exports.useState(w0[0]);return a(Pt,{children:a(Mv,{languageConfig:{language:r,setLanguage:s},children:C(xv,{basename:"/",children:[a(bv,{styles:Sv`
              html,
              body {
                font-size: 100%;
              }

              body {
                font-family: Inter, X-LocaleSpecific, sans-serif;
              }
            `}),C(Bw,{children:[a(zv,{municipalityName:i.name}),a(Fw,{children:C(Cv,{children:[a(an,{exact:!0,path:"/",children:a(jv,{})}),a(an,{exact:!0,path:`/${et.EVENT}`,children:a(By,{})}),a(an,{exact:!0,path:`/${et.EVENT}/search`,children:a(b0,{})}),a(an,{exact:!0,path:`/${et.EVENT}/:id`,children:a(Ly,{})}),a(an,{exact:!0,path:"/people",children:a(uw,{})}),a(an,{exact:!0,path:"/people/:id",children:a(iw,{})}),a(an,{exact:!0,path:"/matters/:id",children:a(Nw,{})}),a(an,{path:"*",component:xl})]})}),a($v,{footerLinksSections:i.footerLinksSections})]})]})})})}Ev.render(a(xn.StrictMode,{children:a(Rv,{appConfig:{firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}},children:a(zw,{})})}),document.getElementById("root"));
